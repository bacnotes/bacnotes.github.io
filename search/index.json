[{"content":"ä»€éº¼æ˜¯ Hook?  Hook æ˜¯ JavaScript å‡½å¼ï¼Œreact æä¾›çš„å…§å»º Hook ç‚º use é–‹é ­çš„å‡½å¼(e.g. useEffectã€useReducerã€useContext) åªèƒ½ç”¨åœ¨ React çš„ Function Component è·Ÿ custom Hookï¼Œclass Component ç„¡æ³•ï¼Œç•¶ç„¶è‡ªå·±å¯«çš„ function ä¹Ÿç„¡æ³• ä½¿ç”¨æ™‚éœ€è¦å¯«åœ¨å…ƒä»¶å…§ç¬¬ä¸€å±¤ï¼Œä¸èƒ½å·¢ç‹€åˆ°ï¼Œä¹Ÿä¸è¦åœ¨è¿´åœˆã€æ¢ä»¶åˆ¤æ–·ä¸‹ä½¿ç”¨  ä»€éº¼æ˜¯ Effect(Side Effect)? React ä¸»è¦å·¥ä½œæ˜¯\n è©•ä¼°æ˜¯å¦æ¸²æŸ“å…ƒä»¶åœ¨ç•«é¢ä¸Š ç®¡ç†ç‹€æ…‹è·Ÿ props è¡¨å–®èˆ‡äº‹ä»¶è™•ç†(ä½¿ç”¨è€…äº’å‹•) æ ¹æ“šç‹€æ…‹å’Œ props çš„æ›´æ–°è©•ä¼°æ˜¯å¦é‡æ–°æ¸²æŸ“éƒ¨åˆ†ç•«é¢  Side Effect: é React çš„å·¥ä½œï¼Œè·Ÿæ¸²æŸ“ç•«é¢ç„¡ç›´æ¥ç›¸é—œï¼ŒåŒ…å«å„²å­˜è³‡æ–™ç™¼é€ http è«‹æ±‚è·Ÿè¨­å®š timerï¼Œé©—è­‰é‚è¼¯ï¼Œæ‰‹å‹•æ“ä½œ DOM éƒ½æ˜¯ Side Effect\nSide Effect å¯èƒ½é€ æˆçš„çµæœ\n éåŒæ­¥æ“ä½œå¯èƒ½æœƒé˜»å¡æ¸²æŸ“å·¥ä½œ è·Ÿä¼ºæœå™¨è«‹æ±‚è³‡æ–™å¯èƒ½æœƒé€ æˆç„¡é™å¾ªç’°ï¼šç™¼é€è«‹æ±‚-\u0026gt;è«‹æ±‚çµæœè¿”å›-\u0026gt;set æ–°ç‹€æ…‹-\u0026gt;ç‹€æ…‹æ”¹è®Š-\u0026gt;é‡æ–°æ¸²æŸ“å…ƒä»¶-\u0026gt;è§¸ç™¼ç™¼é€è«‹æ±‚\u0026hellip;  ä½¿ç”¨ useEffect ä¾†ç®¡ç† Effect(Side Effect)  useEffect(()=\u0026gt; {\u0026hellip;}, [dependencies]) ç”¨ä¾†é™åˆ¶å…ƒä»¶ re-render åŸ·è¡Œçš„ç¨‹å¼ç¢¼ è‹¥æ²’æœ‰ç›¸ä¾æŸå€‹åƒæ•¸ï¼Œæ›è¼‰å…ƒä»¶è·Ÿæ›´æ–°è³‡æ–™éƒ½æœƒåŸ·è¡Œï¼Œå¯«è·Ÿæ²’å¯«ä¸€æ¨£ è‹¥æœ‰ç›¸ä¾æŸå€‹åƒæ•¸ï¼Œre-render æ™‚åƒæ•¸æœ‰æ”¹è®Šçš„è©±å¯ä»¥é‡æ–°è§¸ç™¼ useEffect è£¡é¢çš„å‡½å¼ []ç›¸ä¾ç©ºé™£åˆ—ï¼Œç¬¬ä¸€æ¬¡æ¸²æŸ“å®Œæœƒè§¸ç™¼ï¼Œå› ç©ºé™£åˆ—è³‡æ–™ä¸è®Šï¼Œæ‰€ä»¥å¾ŒçºŒéƒ½ä¸æœƒè§¸ç™¼ [state]ç›¸ä¾ç‹€æ…‹ï¼Œç¬¬ä¸€æ¬¡æ¸²æŸ“å®Œæœƒè§¸ç™¼ï¼Œä¸”æ¯æ¬¡ç‹€æ…‹æ”¹è®Šéƒ½æœƒè·‘ä¸€æ¬¡ [props]ç›¸ä¾ propsï¼Œç¬¬ä¸€æ¬¡æ¸²æŸ“å®Œæœƒè§¸ç™¼ï¼Œprops æ›´æ–°éƒ½æœƒè·‘ä¸€æ¬¡ ç™¼ç”Ÿæ™‚é–“é»ç‚ºç•«é¢æ¸²æŸ“å®Œï¼Œæ§åˆ¶å¥½è§¸ç™¼æ™‚æ©Ÿé»ï¼Œé¿å…ä¸å¿…è¦çš„è§¸ç™¼ ç›¸ä¾ç©ºé™£åˆ—ç¯„ä¾‹  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  // æ¸²æŸ“ç™»å…¥é é¢æ™‚ï¼Œç¢ºèªlocalStorageç™»å…¥é©—è­‰è³‡è¨Šï¼ŒåªåŸ·è¡Œä¸€æ¬¡ function App() { const [isLoggedIn, setIsLoggedIn] = useState(false); // ç¬¬ä¸€æ¬¡æ¸²æŸ“å®Œæœƒè§¸ç™¼ï¼Œå¾ŒçºŒç‹€æ…‹/propsæ›´æ–°ä¸æœƒrun  useEffect(() =\u0026gt; { const storedUserLoggedInInformation = localStorage.getItem(\u0026#34;isLoggedIn\u0026#34;); if (storedUserLoggedInInformation === \u0026#34;1\u0026#34;) { setIsLoggedIn(true); } }, []); const loginHandler = (email, password) =\u0026gt; { // We should of course check email and password  // But it\u0026#39;s just a dummy/ demo anyways  localStorage.setItem(\u0026#34;isLoggedIn\u0026#34;, \u0026#34;1\u0026#34;); setIsLoggedIn(true); }; const logoutHandler = () =\u0026gt; { // ç™»å‡ºæ™‚ç§»é™¤ç™»å…¥é©—è­‰  localStorage.removeItem(\u0026#34;isLoggedIn\u0026#34;); setIsLoggedIn(false); }; // è‹¥æœ‰ç™»å…¥é©—è­‰è³‡è¨Š æ¸²æŸ“Homeé é¢ æ²’æœ‰å‰‡æ¸²æŸ“Loginé é¢  return ( \u0026lt;React.Fragment\u0026gt; \u0026lt;MainHeader isAuthenticated={isLoggedIn} onLogout={logoutHandler} /\u0026gt; \u0026lt;main\u0026gt; {!isLoggedIn \u0026amp;\u0026amp; \u0026lt;Login onLogin={loginHandler} /\u0026gt;} {isLoggedIn \u0026amp;\u0026amp; \u0026lt;Home onLogout={logoutHandler} /\u0026gt;} \u0026lt;/main\u0026gt; \u0026lt;/React.Fragment\u0026gt; ); }    ç›¸ä¾ enteredEmailã€enteredPassword è¡¨å–®ç‹€æ…‹  1 2 3 4 5 6 7 8 9 10 11 12 13 14  const Login = (props) =\u0026gt; { const [enteredEmail, setEnteredEmail] = useState(\u0026#39;\u0026#39;); const [emailIsValid, setEmailIsValid] = useState(); const [enteredPassword, setEnteredPassword] = useState(\u0026#39;\u0026#39;); const [passwordIsValid, setPasswordIsValid] = useState(); const [formIsValid, setFormIsValid] = useState(false); // ç¬¬ä¸€æ¬¡æœƒåŸ·è¡Œï¼Œå¾ŒçºŒè¡¨å–®ç‹€æ…‹æ›´æ–°ä¹ŸæœƒåŸ·è¡Œï¼ˆé©—è­‰ç¨‹å¼ç¢¼ï¼‰  useEffect(() =\u0026gt; { setFormIsValid( enteredEmail.includes(\u0026#39;@\u0026#39;) \u0026amp;\u0026amp; enteredPassword.trim().length \u0026gt; 6 ); }, [enteredEmail, enteredPassword]); ... }   ä¸éœ€åŠ å…¥ç›¸ä¾çš„åƒæ•¸  æ›´æ–°ç‹€æ…‹çš„å‡½å¼ setXXX å…ƒä»¶å¤–çš„è®Šæ•¸æˆ–å‡½å¼  æ‡‰è©²åŠ å…¥çš„ç›¸ä¾åƒæ•¸  \u0026ldquo;things\u0026rdquo; could change because your component (or some parent component) re-rendered  ç”¨ setTimeout å„ªåŒ–è§¸ç™¼æ™‚é–“é»ï¼Œæ­é… cleanup æ¸…é™¤åŠŸèƒ½  è‹¥ä¸è¦æ¯å€‹ key ä¸‹å»çš„å‹•ä½œéƒ½è§¸ç™¼é©—è­‰åŠŸèƒ½ï¼Œå¯ä»¥ç”¨ setTimeout ä¸€æ®µæ™‚é–“å†è§¸ç™¼ effect(éæœ€ä½³è§£ï¼Œå¾Œé¢é‚„æœ‰å…¶ä»–åšæ³•) useEffect è£¡é¢çš„ return å‡½å¼ï¼Œåªæœƒåœ¨ unmountï¼Œå…ƒä»¶è¦è¢«å¾ DOM å¸è¼‰æ™‚è§¸ç™¼  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  const Login = (props) =\u0026gt; { const [enteredEmail, setEnteredEmail] = useState(\u0026#39;\u0026#39;); const [emailIsValid, setEmailIsValid] = useState(); const [enteredPassword, setEnteredPassword] = useState(\u0026#39;\u0026#39;); const [passwordIsValid, setPasswordIsValid] = useState(); const [formIsValid, setFormIsValid] = useState(false); useEffect(() =\u0026gt; { const identifier = setTimeout(() =\u0026gt; { // ç¬¬ä¸€æ¬¡è§¸ç™¼ï¼Œå¾ŒçºŒper 0.5ç§’è§¸ç™¼  console.log(\u0026#39;Checking form validity!\u0026#39;); setFormIsValid( enteredEmail.includes(\u0026#39;@\u0026#39;) \u0026amp;\u0026amp; enteredPassword.trim().length \u0026gt; 6 ); }, 500); // returnå…§å®¹éœ€è¦æ˜¯ä¸€å€‹function  // ä¸‹æ–¹ç¨‹å¼ç¢¼ä¸æœƒåœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“è§¸ç™¼ï¼Œå…ƒä»¶æ›´æ–°æ‰æœƒè§¸ç™¼(when unmounts from the DOM, the component is reused)  return () =\u0026gt; { console.log(\u0026#39;CLEANUP\u0026#39;); //åœ¨æ–°çš„Timerè¨­ç½®å‰å…ˆæŠŠèˆŠçš„Timeråˆªé™¤  clearTimeout(identifier); }; }, [enteredEmail, enteredPassword]); const emailChangeHandler = (event) =\u0026gt; { setEnteredEmail(event.target.value); }; ... }   å®˜æ–¹èªªæ˜ä¸éœ€è¦æ­é… cleanup çš„ Effect  fetch dataã€æ‰‹å‹•æ“ä½œ DOMã€è¼¸å‡º log ç´€éŒ„ï¼ˆä¸ç”¨è¿½è¹¤å¾ŒçºŒï¼‰ get æ–¹æ³•è®“å€‹åˆ¥é é¢ç²å–ä¸åŒè³‡æ–™(æŠŠ dummyData æ›æˆå¯¦éš› server è³‡æ–™)  éœ€æ­é… cleanup çš„ Effect  è¨‚é–±ç›£è½äº‹ä»¶ï¼Œç›£è½äº‹ä»¶ é¿å… memory leak  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  import React, { useState, useEffect } from \u0026#34;react\u0026#34;; function FriendStatus(props) { const [isOnline, setIsOnline] = useState(null); useEffect(() =\u0026gt; { function handleStatusChange(status) { setIsOnline(status.isOnline); } ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange); // Specify how to clean up after this effect:  return function cleanup() { ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange); }; }); if (isOnline === null) { return \u0026#34;Loading...\u0026#34;; } return isOnline ? \u0026#34;Online\u0026#34; : \u0026#34;Offline\u0026#34;; }   useReducer ç®¡ç†è¤‡é›œç‹€æ…‹é‚è¼¯   ç•¶å¯« useState é–‹å§‹è¦ºå¾—ä¸å¥½ç®¡ç†ç‹€æ…‹ï¼Œæˆ–éœ€è¦è™•ç†è¤‡é›œé‚è¼¯çš„æ™‚å€™å¯ä»¥è€ƒæ…®ä½¿ç”¨ useReducer\n  const [state, dispatchFn] = useReducer(reducerFn, initState, initFn)\n  dispatchFn è§¸ç™¼ actionï¼Œaction è§¸ç™¼ reducerFn\n  reducer æœƒæ”¶åˆ°ä¸Šä¸€å€‹ç‹€æ…‹è·Ÿ action åƒæ•¸ï¼Œä¸¦ä¸”å›å‚³æ–°çš„ state\n  reducerFn (prevState, action) =\u0026gt; newState\n  initFn å¯ä»¥ç”¨ä¾†è¨­å®š initStateï¼Œå¦‚æœæ¯”è¼ƒè¤‡é›œçš„è©±ï¼Œéœ€è¦å¤–éƒ¨è³‡æ–™ç­‰ç­‰\n  ä½¿ç”¨ useReducer ç®¡ç† email è·Ÿ password input ç‹€æ…‹(effect ç›¸ä¾åƒæ•¸æ”¹æˆé©—è­‰ç‹€æ…‹ï¼Œæ¸›å°‘ä¸å¿…è¦è§¸ç™¼)\n  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102  // reducerFnå¯«åœ¨å…ƒä»¶å¤–é¢ï¼Œç›¸é—œåƒæ•¸æœƒé€édispatchå‚³å…¥ const emailReducer = (state, action) =\u0026gt; { // æ”¶åˆ°dispatchäº‹ä»¶åŒæ™‚æ›´æ–°inputå€¼è·ŸisValidç‹€æ…‹  if (action.type === \u0026#39;USER_INPUT\u0026#39;) { return { value: action.value, isValid: action.value.includes(\u0026#39;@\u0026#39;) }; } // é»å…¶ä»–InputæœƒBlur  if (action.type === \u0026#39;INPUT_BLUR\u0026#39;) { // é€™é‚ŠBluräº‹ä»¶ä¸æœƒå‚³éå€¼ï¼Œä½†éœ€è¦æœ‰ä¸€å€‹å€¼ç¶­æŒç‹€æ…‹  // state.valueå¯ä»¥æ‹¿åˆ°æœ€æ–°çš„state  return { value: state.value, isValid: state.value.includes(\u0026#39;@\u0026#39;) }; // includesé©—è­‰æœƒå›å‚³true false  } return { value: \u0026#39;\u0026#39;, isValid: false }; }; const passwordReducer = (state, action) =\u0026gt; { if (action.type === \u0026#39;USER_INPUT\u0026#39;) { return { value: action.value, isValid: action.value.trim().length \u0026gt; 6 }; } // é»å…¶ä»–InputæœƒBlur  if (action.type === \u0026#39;INPUT_BLUR\u0026#39;) { // é€™é‚ŠBluräº‹ä»¶ä¸æœƒå‚³éå€¼ï¼Œä½†éœ€è¦æœ‰ä¸€å€‹å€¼ç¶­æŒç‹€æ…‹  // state.valueå¯ä»¥æ‹¿åˆ°æœ€æ–°çš„state  return { value: state.value, isValid: state.value.trim().length \u0026gt; 6 }; // includesé©—è­‰æœƒå›å‚³true false  } return {value:\u0026#39;\u0026#39;, isValid: false} } const Login = (props) =\u0026gt; { // const [enteredEmail, setEnteredEmail] = useState(\u0026#39;\u0026#39;);  // const [emailIsValid, setEmailIsValid] = useState();  // const [enteredPassword, setEnteredPassword] = useState(\u0026#39;\u0026#39;);  // const [passwordIsValid, setPasswordIsValid] = useState();  const [formIsValid, setFormIsValid] = useState(false); const [emailState, dispatchEmail] = useReducer(emailReducer, { value: \u0026#39;\u0026#39;, isValid: null, }); // ä¸Šé¢æ˜¯initState  const [passwordState, dispatchPassword] = useReducer(passwordReducer, { value:\u0026#39;\u0026#39;, isValid: null }) useEffect(() =\u0026gt; { console.log(\u0026#39;EFFECT RUNNING\u0026#39;); return () =\u0026gt; { console.log(\u0026#39;EFFECT CLEANUP\u0026#39;); }; }, []); // è§£æ§‹è³¦å€¼ï¼Œæ”¹æ›å¦ä¸€å€‹è®Šæ•¸å  const { isValid: emailIsValid } = emailState; const { isValid: passwordIsValid } = passwordState; useEffect(() =\u0026gt; { const identifier = setTimeout(() =\u0026gt; { console.log(\u0026#39;Checking form validity!\u0026#39;); setFormIsValid(emailIsValid \u0026amp;\u0026amp; passwordIsValid); }, 500); return () =\u0026gt; { console.log(\u0026#39;CLEANUP\u0026#39;); clearTimeout(identifier); }; // æ”¹ç”±é©—è­‰æœ‰æ›´æ–°å†re-run effectä¾†å„ªåŒ–æ•ˆèƒ½  }, [emailIsValid, passwordIsValid]); const emailChangeHandler = (event) =\u0026gt; { // é€šå¸¸æ˜¯ä¸€å€‹ç‰©ä»¶ {type:\u0026#39;\u0026#39;, ä¹Ÿå¯ä»¥å¯«payloadè¦è·Ÿä¸Šé¢reducer actionå…§keyå€¼ä¸€æ¨£: å‚³éä¸‹å»çš„å€¼}  dispatchEmail({type: \u0026#39;USER_INPUT\u0026#39;, value: event.target.value}); setFormIsValid( event.target.value.includes(\u0026#39;@\u0026#39;) \u0026amp;\u0026amp; enteredPassword.trim().length \u0026gt; 6 ); }; const passwordChangeHandler = (event) =\u0026gt; { dispatchPassWord({type:\u0026#39;USER_INPUT\u0026#39;, value:event.target.value}) setFormIsValid( emailState.isValid \u0026amp;\u0026amp; event.target.value.trim().length \u0026gt; 6 ); }; const validateEmailHandler = () =\u0026gt; { dispatchEmail({type: \u0026#39;INPUT_BLUR\u0026#39;}); }; const validatePasswordHandler = () =\u0026gt; { dispatchPassword({type: \u0026#39;INPUT_BLUR\u0026#39;}); }; const submitHandler = (event) =\u0026gt; { event.preventDefault(); // stateå–å€¼ç”¨state.value  props.onLogin(emailState.value, passwordState.value); };    ä¸Šè¿°çš„è§£æ§‹è³¦å€¼å¾ˆå¸¸ç”¨åœ¨å–ç›¸ä¾åƒæ•¸ï¼Œä¹Ÿå¯ä»¥ç”¨å–å±¬æ€§çš„æ–¹å¼  1 2 3 4 5 6 7 8  const { someProperty } = someObject; useEffect(() =\u0026gt; { // code that only uses someProperty ... }, [someProperty]); useEffect(() =\u0026gt; { // code that only uses someProperty ... }, [someObject.someProperty]);    è¨˜å¾—é¿å…ç›´æ¥å¯«æ•´å€‹ç‰©ä»¶ï¼Œå› ç‚ºç‰©ä»¶å‚³å€¼ï¼Œå½¼æ­¤å°±ç®—é•·ä¸€æ¨£åœ°å€ä¹Ÿä¸æœƒç›¸åŒ  useContext ç®¡ç†å…¨åŸŸ State  å¥½è™•ï¼šä¸ç”¨é€éé•·é•·çš„ prop chain ç›´æ¥å‚³éè³‡æ–™ æµç¨‹ï¼šå…ˆé€é React.createContext å‰µé€ ä¸€å€‹è®Šæ•¸ï¼Œé€é AuthContext è¼¸å‡ºï¼Œå…¶ä»–å…ƒä»¶ç”¨ useContext å¼•ç”¨ç›¸å°æ‡‰çš„ context æª”æ¡ˆç²å–ç‰©ä»¶å€¼  1 2 3 4 5 6 7 8  // src/store import { createContext } from \u0026#34;react\u0026#34;; // å»ºç«‹ä¸€å€‹contextç‰©ä»¶ è£¡é¢æ”¾åˆå§‹å€¼ const AuthContext = createContext({ isLoggedIn: false, }); export default AuthContext;    \u0026lt;AuthContext.Provider\u0026gt;...\u0026lt;/AuthContext.Provider\u0026gt;é€é Provider å±¬æ€§å¯ä»¥ç²å– AuthContext è€ŒåŒ…è£¹åœ¨\u0026lt;AuthContext.Provider\u0026gt;ä¹‹é–“çš„å…ƒä»¶éƒ½å¯ä»¥ç²å–é€™å€‹ AuthContext  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  // App.js // import contextè®Šæ•¸ import AuthContext from \u0026#39;./store/auth-context\u0026#39;; function App() { const [isLoggedIn, setIsLoggedIn] = useState(false); ... return ( // å¦‚æœæœ‰é è¨­å€¼åŸºæœ¬ä¸Šä¸éœ€è¦å¯«valueï¼Œä½†è‹¥æœ‰æœƒè®Šå‹•çš„å€¼ï¼Œè¦é€évalueå‚³å…¥æ›´æ–°ç‹€æ…‹ï¼Œåªèƒ½é€éProviderä¾†åš  \u0026lt;AuthContext.Provider value={{ isLoggedIn: isLoggedIn, // contextç‰©ä»¶è£¡é¢çš„value ä¹Ÿå¯ä»¥æ”¾å‡½å¼  onLoggedOut: () =\u0026gt; {}, }} \u0026gt; \u0026lt;MainHeader onLogout={logoutHandler} /\u0026gt; \u0026lt;main\u0026gt; {!isLoggedIn \u0026amp;\u0026amp; \u0026lt;Login onLogin={loginHandler} /\u0026gt;} {isLoggedIn \u0026amp;\u0026amp; \u0026lt;Home onLogout={logoutHandler} /\u0026gt;} \u0026lt;/main\u0026gt; \u0026lt;/AuthContext.Provider\u0026gt; ); export default App;    åœ¨ Navbar ä¾†ç²å–è®Šæ•¸  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  import React, { useContext } from \u0026#34;react\u0026#34;; import AuthContext from \u0026#34;../../store/auth-context\u0026#34;; const Navigation = () =\u0026gt; { // ä½¿ç”¨useContext æŒ‡å‘ç‰¹å®šcontextç²å–value(ç‰©ä»¶)  const ctx = useContext(AuthContext); return ( \u0026lt;nav className={classes.nav}\u0026gt; \u0026lt;ul\u0026gt; {ctx.isLoggedIn \u0026amp;\u0026amp; ( \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#39;/\u0026#39;\u0026gt;Users\u0026lt;/a\u0026gt; \u0026lt;/li\u0026gt; )} {ctx.isLoggedIn \u0026amp;\u0026amp; ( \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#39;/\u0026#39;\u0026gt;Admin\u0026lt;/a\u0026gt; \u0026lt;/li\u0026gt; )} {ctx.isLoggedIn \u0026amp;\u0026amp; ( \u0026lt;li\u0026gt; \u0026lt;button onClick={ctx.onLogout}\u0026gt;Logout\u0026lt;/button\u0026gt; \u0026lt;/li\u0026gt; )} \u0026lt;/ul\u0026gt; \u0026lt;/nav\u0026gt; ); }; export default Navigation;    é‡æ§‹ï¼šæŠŠç™»å…¥ç™»å‡º Auth ç›¸é—œçš„å‡½å¼éƒ½æ”¾åœ¨ context ç®¡ç†  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43  import React, { useState, useEffect } from \u0026#34;react\u0026#34;; const AuthContext = React.createContext({ isLoggedIn: false, onLogout: () =\u0026gt; {}, onLogin: (email, password) =\u0026gt; {}, }); // æ–°å¢ export const AuthContextProvider = (props) =\u0026gt; { const [isLoggedIn, setIsLoggedIn] = useState(false); useEffect(() =\u0026gt; { const storedUserLoggedInInformation = localStorage.getItem(\u0026#34;isLoggedIn\u0026#34;); if (storedUserLoggedInInformation === \u0026#34;1\u0026#34;) { setIsLoggedIn(true); } }, []); const logoutHandler = () =\u0026gt; { localStorage.removeItem(\u0026#34;isLoggedIn\u0026#34;); setIsLoggedIn(false); }; const loginHandler = () =\u0026gt; { localStorage.setItem(\u0026#34;isLoggedIn\u0026#34;, \u0026#34;1\u0026#34;); setIsLoggedIn(true); }; return ( \u0026lt;AuthContext.Provider value={{ isLoggedIn: isLoggedIn, onLogout: logoutHandler, onLogin: loginHandler, }}\u0026gt; {props.children} \u0026lt;/AuthContext.Provider\u0026gt; ); }; export default AuthContext;    æŠŠ\u0026lt;AuthContextProvider\u0026gt;åŒ…è£¹å…¨åŸŸç›£è½æ”¾åˆ° index.js  1 2 3 4 5 6 7 8 9 10 11 12 13  import React from \u0026#34;react\u0026#34;; import ReactDOM from \u0026#34;react-dom\u0026#34;; import \u0026#34;./index.css\u0026#34;; import App from \u0026#34;./App\u0026#34;; import { AuthContextProvider } from \u0026#34;./store/auth-context\u0026#34;; ReactDOM.render( \u0026lt;AuthContextProvider\u0026gt; \u0026lt;App /\u0026gt; \u0026lt;/AuthContextProvider\u0026gt;, document.getElementById(\u0026#34;root\u0026#34;) );    App.js è·Ÿ Navbar åªè¦å¼•ç”¨ Context çš„è³‡æ–™  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  //App.js import AuthContext from \u0026#34;./store/auth-context\u0026#34;; function App() { const ctx = useContext(AuthContext); return ( \u0026lt;React.Fragment\u0026gt; \u0026lt;MainHeader /\u0026gt; \u0026lt;main\u0026gt; {!ctx.isLoggedIn \u0026amp;\u0026amp; \u0026lt;Login /\u0026gt;} {ctx.isLoggedIn \u0026amp;\u0026amp; \u0026lt;Home /\u0026gt;} \u0026lt;/main\u0026gt; \u0026lt;/React.Fragment\u0026gt; ); } export default App;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  // Navbar import AuthContext from \u0026#34;../../store/auth-context\u0026#34;; const Navigation = () =\u0026gt; { const ctx = useContext(AuthContext); return ( \u0026lt;nav className={classes.nav}\u0026gt; \u0026lt;ul\u0026gt; {ctx.isLoggedIn \u0026amp;\u0026amp; ( \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#39;/\u0026#39;\u0026gt;Users\u0026lt;/a\u0026gt; \u0026lt;/li\u0026gt; )} {ctx.isLoggedIn \u0026amp;\u0026amp; ( \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#39;/\u0026#39;\u0026gt;Admin\u0026lt;/a\u0026gt; \u0026lt;/li\u0026gt; )} {ctx.isLoggedIn \u0026amp;\u0026amp; ( \u0026lt;li\u0026gt; \u0026lt;button onClick={ctx.onLogout}\u0026gt;Logout\u0026lt;/button\u0026gt; \u0026lt;/li\u0026gt; )} \u0026lt;/ul\u0026gt; \u0026lt;/nav\u0026gt; ); }; export default Navigation;   useContext çš„é™åˆ¶  ä¸é©åˆé »ç¹æ›´å‹•çš„è³‡æ–™ï¼ˆæ¯ç§’å¥½å¹¾æ¬¡)ï¼Œä½¿ç”¨ redux é„°è¿‘çˆ¶å­å…ƒä»¶é‚„æ˜¯å»ºè­°é€é props å‚³éè³‡æ–™ï¼Œè€Œéç”¨ useContext å–ä»£  å¦‚æœé‚„æƒ³å¤šäº†è§£ React çš„æœ‹å‹ï¼Œå¯ä»¥ç¹¼çºŒé–±è®€é€™ç¯‡è‡ªå­¸ React çš„ä½ éœ€è¦çŸ¥é“çš„ä¸€äº›çŸ¥è­˜ï½œ React - The Complete Guide\n","date":"2022-02-03T00:00:00+08:00","image":"https://bacnotes.github.io/p/react-effect-reducer-context/pexels-rodolpho-zanardo-1309095_hu3d03a01dcc18bc5be0e67db3d8d209a6_4924053_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/react-effect-reducer-context/","title":"React å¿…é ˆäº†è§£çš„3å¤§Hooksï¼šuseEffectã€useReducerã€useContextï½œReact - The Complete Guideï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"å…ƒä»¶è©²æ€éº¼æ·»åŠ  CSS æ¨£å¼? ä¸»è¦æ–¹æ³•æœ‰å››ç¨®ï¼š\n Inline style ç›´æ¥çµ¦ä»–å¯«ä¸Šå»(æœ€é›£ç¶­è­·) CSS(å…¨åŸŸå¥—ç”¨å®¹æ˜“æ’å) Styled Component(CSS in JS) CSS modules(CSS JS åˆ†é›¢)  inline style æ’°å¯«å‹•æ…‹æ¨£å¼  useState ä¾†æ›´æ–°æœ‰æ•ˆç„¡æ•ˆç‹€æ…‹ æ²’æ•ˆå¥—ç”¨ç´…è‰²ï¼Œæœ‰æ•ˆå¥—ç”¨é»‘è‰²  1 2 3 4 5 6 7 8 9 10 11 12 13 14  const Input = props =\u0026gt; { const [ enteredValue, setEnteredValue ] = useState(\u0026#39;\u0026#39;) const [ isValid, setIsValid ] = useState(true) const goalInputChangeHandler = event =\u0026gt; { setEnteredValue(event.target.value); }; if(enteredValue.trim().length === 0){ setIsValid(false) return } return( \u0026lt;input style ={{ borderColor: !isValid ? \u0026#39;red\u0026#39; : \u0026#39;Black\u0026#39;, background: !isValid ? \u0026#39;red\u0026#39; : \u0026#39;Black\u0026#39;}} onChange={goalInputChangeHandler}\u0026gt; ) }   ç‚ºä»€éº¼ä¸ç”¨ inline style æ’°å¯«å‹•æ…‹æ¨£å¼?  åˆ†æ•£åœ¨ html ç¨‹å¼çš„æ¨£å¼ä¸å¥½ç®¡ç† inline style æœƒè¦†è“‹æ‰å…¶ä»– CSS æ¨£å¼(æ¬Šé‡åƒ…æ¬¡!important)ï¼Œæ‰¾æ”¹å‹•é»æ›´è²»æ™‚  CSS æ’°å¯«å‹•æ…‹æ¨£å¼  æŠŠå‰›å‰›çš„æ¨£å¼è²¼åˆ° CSS file  1 2 3 4 5 6 7 8 9 10  .form-control { outline: none; background: pink; border-corlor: red; ...ç­‰ç­‰å…¶ä»–å›ºå®šçš„æ¨£å¼; } .invalid { border-color: red; background: red; }    æ‹¿æ‰ inline style ï¼Œå‹•æ…‹æ·»åŠ  className ä¸Šä¸€ç¯‡\u0026quot;æœ‰æåˆ° class æ˜¯ JavaScript çš„ä¿ç•™å­—ï¼Œæ‰€ä»¥ä¸ä½¿ç”¨ class  1 2  // å›ºå®šæ¨£å¼form-controlæ­é…å‹•æ…‹æ¨£å¼isValid  \u0026lt;input className={`form-control ${!isValid ? \u0026#39;invalid\u0026#39; : \u0026#39;\u0026#39; }`} onChange={goalInputChangeHandler}\u0026gt;   ç‚ºä»€éº¼ä¸ç”¨ CSS æ’°å¯«å‹•æ…‹æ¨£å¼  å› ç‚ºæ¨£å¼æœƒå¥—ç”¨åœ¨å…¨åŸŸç’°å¢ƒï¼Œå³ç”Ÿæ•ˆåœ¨æ‰€æœ‰å…ƒä»¶ä¸Šï¼Œè€Œå¤§å‹å°ˆæ¡ˆä¸Šåœ¨ className å‘½åçš„æ™‚å€™å¾ˆé›£é¿å…æ’åï¼Œæ¨£å¼å®¹æ˜“ç™¼ç”Ÿè¡çª ä½¿ç”¨ Styled Component å¥—ä»¶ä¾†å‰µé€  scoped CSS  Styled Component æ’°å¯«å‹•æ…‹æ¨£å¼ å®‰è£å¥—ä»¶è·Ÿæ’°å¯«æ–¹å¼  cd åˆ°å°ˆæ¡ˆè³‡æ–™å¤¾ npm install --save styled-components const Input = styled.html å…ƒç´ CSSæ¨£å¼ (attacked template literal) styled package æœ‰æ‰€æœ‰ html å…ƒç´ çš„æ–¹æ³•ï¼Œé€é``å¯ä»¥æ’°å¯«å¤šè¡Œ CSS æ¨£å¼ï¼ŒæŒ‡å®šåˆ°å°æ‡‰ html å…ƒç´ ç•¶ä¸­ å‹•æ…‹ç”¢ç”Ÿç¨ç‰¹ hash  1 2 3 4 5 6 7 8 9 10 11 12 13 14  import styled from \u0026#34;styled-components\u0026#34;; const Input = styled.input` font: inherit; padding: 0.5rem 1.5rem; // å½å…ƒç´ é¸æ“‡å™¨ \u0026amp;:focus { outline: none; } \u0026amp;:hover, \u0026amp;:active { background: #ac2342; } `;   ä½¿ç”¨ props å‹•æ…‹ç®¡ç†æ¨£å¼  å¯ä»¥æ‹¿æ‰ä¸€äº›ä¸å¿…è¦çš„ CSS æ¨£å¼(form-control.invalid input é€™ç¨®è¯é›†çš„é¸æ“‡å™¨)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40  import styled from \u0026#39;styled-components\u0026#39;; const FormControl = styled.div` margin: 0.5rem 0; \u0026amp;:label { font-weight: bold; display: block; margin-bottom: 0.5rem; color: ${props =\u0026gt; (props.invalid ? \u0026#39;red\u0026#39; : \u0026#39;black\u0026#39;)}; } \u0026amp;:input { display: block; width: 100%; border: 1px solid ${props =\u0026gt; (props.invalid ? \u0026#39;red\u0026#39; : \u0026#39;#ccc\u0026#39;)}; background: ${props =\u0026gt; (props.invalid ? \u0026#39;#ffd7d7\u0026#39; : \u0026#39;transparent\u0026#39;)}; font: inherit; line-height: 1.5rem; padding: 0 0.25rem; } \u0026amp;:input:focus { outline: none; background: #fad0ec; border-color: #8b005d; } `; ... return ( \u0026lt;form onSubmit={formSubmitHandler}\u0026gt; // åŸæœ¬CSS\u0026lt;div className={`form-control ${!isValid ? \u0026#39;invalid\u0026#39;:\u0026#39;\u0026#39;}`}\u0026gt;  // æ”¹æˆFormControlæ˜¯ä¸€å€‹å¸¶æœ‰æ¨£å¼çš„ div  // å‹•æ…‹classNameæ”¹æˆinvalidæˆ–validé€éprops å¸ƒæ—å€¼æ±ºå®š  \u0026lt;FormControl invalid={!isValid}\u0026gt; \u0026lt;label\u0026gt;Course Goal\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; onChange={goalInputChangeHandler} /\u0026gt; \u0026lt;/FormControl\u0026gt; \u0026lt;Button type=\u0026#34;submit\u0026#34;\u0026gt;Add Goal\u0026lt;/Button\u0026gt; \u0026lt;/form\u0026gt; );   style component ä½¿ç”¨ media queries 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  const Button = styled.button` // æ‰‹æ©Ÿç‰ˆå±•é–‹ width: 100%; font: inherit; padding: 0.5rem 1.5rem; border: 1px solid #8b005d; color: white; background: #8b005d; box-shadow: 0 0 4px rgba(0, 0, 0, 0.26); cursor: pointer; // å¹³æ¿è®Šå° @media (min-width: 768px) { width: auto; } \u0026amp;:focus { outline: none; } \u0026amp;:hover, \u0026amp;:active { background: #ac0e77; border-color: #ac0e77; box-shadow: 0 0 8px rgba(0, 0, 0, 0.26); } `;   style component çš„å„ªç¼ºé»  å„ªé»ï¼šä¸ç”¨æƒ³ className åå­—äº† ç¼ºé»ï¼šéš¨æ©Ÿçš„ hash ä¸å®¹æ˜“ debugï¼Œä½†é€éå®‰è£ babel-plugin-styled-components å¯ä»¥åœ¨ç€è¦½å™¨çœ‹åˆ°å…ƒä»¶åç¨± é©åˆå–œæ­¡ CSS è·Ÿ JS é‚è¼¯å¯«åœ¨ä¸€èµ·çš„äºº  CSS modules  ä¸ç”¨å®‰è£å¥—ä»¶ï¼ŒCRA æœ¬èº«æ”¯æ´ CSS modules æŠŠå‰¯æª”å.css æª”æ¡ˆæ”¹æˆ.module.cssï¼Œå¼•ç”¨è·¯å¾‘ä¹Ÿè¦æ”¹ className = {styles.æ¨£å¼é¸æ“‡å™¨å} ç€è¦½å™¨çœ‹åˆ° class åç‚ºï¼šå…ƒä»¶å_class å__hashï¼Œå› æ­¤ä¸æœƒæ’å class åè‹¥æœ‰æ©«ç·š-é€£æ¥ï¼Œå¯«æ³•éœ€è¦æ”¹æˆ${style['form-control']}  1 2 3 4 5 6 7 8 9 10 11 12  // importå¾Œé¢çš„è®Šæ•¸åè‡ªç”±å‘½åï¼Œæœƒç•¶ä½œç‰©ä»¶(æ•´åŒ…æ¨£å¼å±¬æ€§)å‚³å…¥ï¼Œé€™é‚Šä»¥stylesç‚ºç¯„ä¾‹ import styles from \u0026#34;./Button.module.css\u0026#34;; const Button = (props) =\u0026gt; { return ( // é€™é‚Š  \u0026lt;button type={props.type} className={styles.button} onClick={props.onClick}\u0026gt; {props.children} \u0026lt;/button\u0026gt; ); }; export default Button;   CSS modules ä½¿ç”¨ media queries  ä¸€æ¨£å¯«åœ¨ CSS æª”æ¡ˆå°±å¥½  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  .button { width: 100%; font: inherit; padding: 0.5rem 1.5rem; border: 1px solid #8b005d; color: white; background: #8b005d; box-shadow: 0 0 4px rgba(0, 0, 0, 0.26); cursor: pointer; } .button:focus { outline: none; } .button:hover, .button:active { background: #ac0e77; border-color: #ac0e77; box-shadow: 0 0 8px rgba(0, 0, 0, 0.26); } @media (min-width: 768px) { .button { width: auto; } }   CSS modules çš„å„ªç¼ºé»  å„ªé»ï¼šå‘½åæ™‚ä¸ç”¨æ“”å¿ƒæ’åï¼Œhash ç¶­æŒç¨ç‰¹æ€§ ç¼ºé»ï¼šéœ€è¦æ”¹å‰¯æª”åï¼Œä¸€é–‹å§‹æ²’å°å…¥å¾Œé¢æ‰‹å‹•è¦æ”¹æ¯”è¼ƒç´¯ä¸€é» é©åˆå–œæ­¡ CSS è·Ÿ JS åˆ†é›¢çš„äºº  ","date":"2022-02-02T00:00:00+08:00","image":"https://bacnotes.github.io/p/react-styling/pexels-vlada-karpovich-7025515_hu3d03a01dcc18bc5be0e67db3d8d209a6_3812665_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/react-styling/","title":"React CSSæ’°å¯«æ–¹å¼å¥½å¤šç¨®ï¼Œæˆ‘è©²æ€éº¼é¸ï¼Ÿï½œReact - The Complete Guideï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"é€™æ˜¯ä¸€å€‹æ‡¶äººåŒ…æ•´ç†ï½ï¼ç¥å¤§å®¶æ–°å¹´å¿«æ¨‚ï¼\nå­—ä¸²å¯ä»¥ä½¿ç”¨éƒ¨åˆ†é™£åˆ—çš„æ–¹æ³• æ ¹æ“šç´¢å¼•å–å€¼ 1 2 3 4 5  const airline = \u0026#34;TAP Air Portugal\u0026#34;; const plane = \u0026#34;A320\u0026#34;; console.log(plane[0]); // A console.log(\u0026#34;B35\u0026#34;[0]); // B console.log(plane.length); // 4   indexOf()ã€lastIndexOf() æ‰¾ç´¢å¼•ä½ç½®  indexOf(searchElement, fromIndex) ç”±å‰å¾€å¾Œæ‰¾å€¼çš„ç´¢å¼•ï¼Œç¬¬ 2 å€‹åƒæ•¸æ˜¯ option lastIndexOf(searchElement, fromIndex) ç”±å¾Œå¾€å‰æ‰¾å€¼çš„ç´¢å¼•ï¼Œç¬¬ 2 å€‹åƒæ•¸æ˜¯ option è‹¥ä¸å­˜åœ¨å‰‡å›å‚³ -1  1 2 3 4  const airline = \u0026#34;TAP Air Portugal\u0026#34;; const plane = \u0026#34;A320\u0026#34;; console.log(airline.indexOf(\u0026#34;r\u0026#34;)); // 6 console.log(airline.lastIndexOf(\u0026#34;r\u0026#34;)); // 10 å¾Œå¾€å‰æ‰¾    æœƒåˆ¤åˆ¥å­—æ¯å¤§å°å¯«(case-sensitive)  1 2  console.log(airline.indexOf(\u0026#34;portugal\u0026#34;)); // -1 console.log(airline.indexOf(\u0026#34;Portugal\u0026#34;)); // 8    æ·ºæ‹·è² slice(start, end)ï¼Œé è¨­ slice(0, arr.length)ï¼Œå›å‚³é¸å–ç¯„åœä¹‹é™£åˆ— è‹¥æœ‰æŒ‡å®š endï¼Œæ‰€åœ¨çš„å…ƒç´ ä¸æœƒè¢«ç´å…¥ ç„¡æ³•ä½¿ç”¨ splice å› ç‚ºå­—ä¸²æ˜¯ immutable  1  console.log(airline.slice(4)); // Air Portugal    åˆ‡å‡ºç¬¬ä¸€å€‹å­—(ä¸åŒ…å«ç©ºç™½)  1  console.log(airline.slice(0, airline.indexOf(\u0026#34; \u0026#34;))); // TAP    å¯«ä¸€å€‹åˆ¤æ–·å­—ä¸²å°¾ç«¯æœ‰ç„¡ B æˆ– E çš„ functionï¼Œä¾†åˆ¤æ®µæ©Ÿä½ä½ç½® e.g. 11B 23C  1 2 3 4 5 6 7  const checkMiddleSeat = function (seat) { const position = seat.slice(-1); if (position === \u0026#34;B\u0026#34; || position === \u0026#34;E\u0026#34;) console.log(\u0026#34;middle seat\u0026#34;); else console.log(\u0026#34;not middle seat\u0026#34;); }; checkMiddleSeat(\u0026#34;11B\u0026#34;); // middle seat checkMiddleSeat(\u0026#34;11C\u0026#34;); // not middle seat   toUpperCase()ã€toLowerCase()è½‰å¤§å°å¯« 1 2 3 4 5 6 7 8 9 10  const airline = \u0026#34;TAP Air Portugal\u0026#34;; console.log(airline.toLowerCase()); // tap air portugal console.log(airline.toUpperCase()); // TAP AIR PORTUGAL  // æŠŠå¤§å°å¯«æ··äº‚çš„å­—è½‰é–‹é ­å¤§å¯«ï¼Œå¾Œé¢å°å¯« const name = \u0026#34;jOnAs\u0026#34;; const nameLower = name.toLowerCase(); const nameCorrect = nameLower[0].toUpperCase() + nameLower.slice(1); console.log(nameCorrect); // Jonas   trim()ã€trimStart()ã€trimEnd() ç§»é™¤æ³›ç©ºç™½å­—å…ƒ(å¾Œå…©å€‹ IE æ²’æœ‰æ”¯æ´)  trim() åˆªé™¤å…©ç«¯æ‰€æœ‰ç©ºç™½ trimStart() å°‡åˆªé™¤å­—ä¸²é–‹é ­çš„æ‰€æœ‰ç©ºç™½ trimEnd() å°‡åˆªé™¤å­—ä¸²æœ«å°¾çš„æ‰€æœ‰ç©ºç™½  1 2 3 4 5 6  // emailè¼¸å…¥å‰ªæ‰ç©ºç™½è·Ÿè½‰æ›æˆå°å¯« const email = \u0026#34;hello@jonas.io\u0026#34;; // æ­£ç¢ºemailè³‡æ–™ const loginEmail = \u0026#34; Hello@jonas.Io\\n\u0026#34;; // è¼¸å…¥æ™‚å¤§å°å¯«æ··ç”¨+ç©ºç™½+enter  const normalizedEmail = loginEmail.toLowerCase().trim(); console.log(normalizedEmail); // hello@jonas.io   replace()ã€replaceAll() å­—ä¸²å–ä»£ï¼Œæœƒå›å‚³ä¸€å€‹æ–°å­—ä¸²(å¾Œè€… IE æ²’æœ‰æ”¯æ´)  replace(regexp|substr, newSubstr|function)ç¬¬äºŒå€‹åƒæ•¸æœƒå–ä»£ç¬¬ä¸€å€‹åƒæ•¸  1 2 3  const priceGB = \u0026#34;288,97Â£\u0026#34;; const priceUS = priceGB.replace(\u0026#34;Â£\u0026#34;, \u0026#34;$\u0026#34;).replace(\u0026#34;,\u0026#34;, \u0026#34;.\u0026#34;); console.log(priceUS); // 288.97$    ç•¶è¼¸å…¥å°è±¡æ˜¯å­—ä¸²ï¼Œreplace åªæœƒå–ä»£ç¬¬ä¸€å€‹åŒ¹é…çš„ï¼ŒreplaceAll æœƒå–ä»£æ‰€æœ‰åŒ¹é…çš„  1 2 3  const p = \u0026#34;abab\u0026#34;; console.log(p.replace(\u0026#34;a\u0026#34;, \u0026#34;A\u0026#34;)); // \u0026#34;Abab\u0026#34; console.log(p.replaceAll(\u0026#34;a\u0026#34;, \u0026#34;A\u0026#34;)); // \u0026#34;AbAb\u0026#34;    ç•¶ç¬¬ä¸€å€‹åƒæ•¸ç‚ºæ˜¯æ­£å‰‡è¡¨é”å¼ï¼Œå…©è€…éƒ½æœƒå–ä»£æ‰€æœ‰åŒ¹é…çš„  1 2 3  const p = \u0026#34;abab\u0026#34;; console.log(p.replace(/a/g, \u0026#34;A\u0026#34;)); // \u0026#34;AbAb\u0026#34; console.log(p.replaceAll(/a/g, \u0026#34;A\u0026#34;)); // \u0026#34;AbAb\u0026#34;   includes() æª¢æŸ¥æ˜¯å¦åŒ…å«ç‰¹å®šå­—ä¸²ï¼Œå›å‚³ true false  arr.includes(valueToFind, fromIndex)ï¼Œç¬¬ 2 å€‹åƒæ•¸ option å€åˆ†å¤§å°å¯«ï¼Œä½¿ç”¨é›¶å€¼ç›¸ç­‰ç¢ºèªå…ƒç´ æ˜¯å¦ä¸€æ¨£ è‹¥ fromIndex å¤§æ–¼é™£åˆ—é•·åº¦ï¼Œç›´æ¥å›å‚³ false è‹¥ fromIndex å°æ–¼ 0ï¼Œæœƒæœå°‹æ•´å€‹é™£åˆ—  1 2 3 4  const plane = \u0026#34;Airbus A320neo\u0026#34;; console.log(plane.includes(\u0026#34;A320\u0026#34;)); // true console.log(plane.includes(\u0026#34;Boeing\u0026#34;)); //false console.log(plane.startsWith(\u0026#34;Airb\u0026#34;)); // true    å¯«ä¸€å€‹æª¢æŸ¥å­—ä¸²æ˜¯å¦æœ‰åˆ€æ§å­—ä¸²çš„ function  1 2 3 4 5 6 7 8 9 10 11 12  const checkBaggage = function (items) { const baggage = items.toLowerCase(); // è¼¸å…¥çµ±ä¸€è½‰å°å¯«ï¼Œæ¯”è¼ƒå¥½è™•ç†æª¢æŸ¥  if (baggage.includes(\u0026#34;knife\u0026#34;) || baggage.includes(\u0026#34;gun\u0026#34;)) { console.log(\u0026#34;You are NOT allowed on board\u0026#34;); } else { console.log(\u0026#34;Welcome aboard!\u0026#34;); } }; checkBaggage(\u0026#34;I have a laptop, some Food and a pocket Knife\u0026#34;); // You are NOT allowed on board checkBaggage(\u0026#34;Socks and camera\u0026#34;); // Welcome aboard!   split() ä½¿ç”¨æŒ‡å®šå­—ä¸²åˆ‡å‰²å­—ä¸²ï¼Œåˆ‡å‰²çš„çµæœå›å‚³æˆä¸€å€‹é™£åˆ—  split(separator, limit)ï¼Œç¬¬ 2 å€‹åƒæ•¸æ˜¯ option  1 2 3 4 5 6 7 8  console.log(\u0026#34;string\u0026#34;.split(\u0026#34;\u0026#34;)); // [ \u0026#39;s\u0026#39;, \u0026#39;t\u0026#39;, \u0026#39;r\u0026#39;, \u0026#39;i\u0026#39;, \u0026#39;n\u0026#39;, \u0026#39;g\u0026#39; ] æ²’æœ‰å¯«æ¢ä»¶ï¼Œæœƒä»¥å­—å…ƒç‚ºå–®ä½åˆ‡ console.log(\u0026#34;a+very+nice+string\u0026#34;.split(\u0026#34;+\u0026#34;)); // ä»¥+åˆ‡å‰² // [ \u0026#39;a\u0026#39;, \u0026#39;very\u0026#39;, \u0026#39;nice\u0026#39;, \u0026#39;string\u0026#39; ] console.log(\u0026#34;Jonas Schmedtmann\u0026#34;.split(\u0026#34; \u0026#34;)); // ä»¥ç©ºç™½åˆ‡å‰² // [ \u0026#39;Jonas\u0026#39;, \u0026#39;Schmedtmann\u0026#39; ] const [firstName, lastName] = \u0026#34;Jonas Schmedtmann\u0026#34;.split(\u0026#34; \u0026#34;); // åˆ‡å‰²å¾Œè§£æ§‹è³¦å€¼   join() ä½¿ç”¨æŒ‡å®šå­—ä¸²å°‡é™£åˆ—å…ƒç´ åˆä½µç‚ºä¸€å€‹å­—ä¸²  join([separator]) join() // a, b, c join(\u0026rsquo;\u0026rsquo;) // abc join(\u0026rsquo;-\u0026rsquo;) // a-b-c è‹¥é™£åˆ—åªæœ‰ä¸€å€‹å°±ä¸ä½¿ç”¨ join ä¸­çš„å­—ä¸² åœ¨é™£åˆ—é•·åº¦ç‚ºé›¶ã€å…ƒç´ ç‚º undefined æˆ– null ç‹€æ³ä¸‹ï¼Œå›å‚³ç©ºå­—ä¸²  1 2  const newName = [\u0026#34;Mr.\u0026#34;, firstName, lastName.toUpperCase()].join(\u0026#34; \u0026#34;); console.log(newName);    ä½¿ç”¨ split()è·Ÿ join()æŠŠåå­—æ•´ç†æˆåªæœ‰ç¬¬ä¸€å€‹å¤§å¯«é–‹é ­  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  // æ–¹æ³•ä¸€ const capitalizeName = function (name) { const names = name.split(\u0026#34; \u0026#34;); const nameUpper = []; for (const char of names) { nameUpper.push(char[0].toUpperCase() + char.slice(1)); } console.log(nameUpper.join(\u0026#34; \u0026#34;)); }; capitalizeName(\u0026#34;jessica ann smith davis\u0026#34;); // Jessica Ann Smith Davis  // æ–¹æ³•äºŒ æ”¹ç”¨replace const capitalizeName = function (name) { const names = name.split(\u0026#34; \u0026#34;); const nameUpper = []; for (const char of names) { nameUpper.push(char.replace(char[0], char[0].toUpperCase())); } console.log(nameUpper.join(\u0026#34; \u0026#34;)); // Jessica Ann Smith Davis };   ï¼Šå­—ä¸²æ‹¼æ¥é‚„æœ‰ä¸€ç¨® concat æ–¹æ³•ï¼Œä½† MDN å¼·çƒˆå»ºè­°ç›´æ¥ä½¿ç”¨é‹ç®—å­ assignment operators (en-US) ä¾†é”æˆï¼Œ åƒæ˜¯ + åŠ += è‹¥æƒ³äº†è§£ concat æ–¹æ³•ï¼Œå¯ä»¥åƒè€ƒé™£åˆ—çš„è™•ç†æ–¹æ³•\npadStart()ã€padEnd()å¡«å……å­—ä¸² (IE æ²’æœ‰æ”¯æ´)  padStart(targetLength, padString)ï¼Œå¾é–‹é ­å¡«å……å­—ä¸²åˆ°æŒ‡å®šé•·åº¦ padEnd(targetLength, padString)ï¼Œå¾çµå°¾å¡«å……å­—ä¸²åˆ°æŒ‡å®šé•·åº¦ ç¬¬ 2 å€‹åƒæ•¸æ²’å¯«æœƒå¡«å……ç©ºç™½  1 2 3  const message = \u0026#34;Go to gate 23!\u0026#34;; console.log(message.padStart(20, \u0026#34;+\u0026#34;).padEnd(26, \u0026#34;+\u0026#34;)); //++++++Go to gate 23!++++++    ä¿¡ç”¨å¡åŠ å¯†  1 2 3 4 5 6 7  const maskCreditCard = function (number) { const str = number + \u0026#34;\u0026#34;; const last = str.slice(-4); return last.padStart(str.length, \u0026#34;*\u0026#34;); }; console.log(maskCreditCard(\u0026#34;334859493847755774747\u0026#34;)); // *****************4747   repeat() å›å‚³æŒ‡å®šæ•¸é‡ copy å­—ä¸²  repeat(count)  1 2 3 4 5  const planesInLine = function (num) { console.log(`There are ${num}planes in line ${\u0026#34;ğŸ›©\u0026#34;.repeat(num)}`); }; planesInLine(5); // There are 5 planes in line ğŸ›©ğŸ›©ğŸ›©ğŸ›©ğŸ›©   search()  å›å‚³æ­£è¦è¡¨é”å¼çš„ç¬¬ä¸€å€‹åŒ¹é…çš„ indexï¼Œè‹¥æ‰¾ä¸åˆ°ï¼Œå›å‚³ -1ã€‚  1 2 3 4 5 6 7 8 9 10 11  const paragraph = \u0026#34;The quick brown fox jumps over the lazy dog. If the dog barked, was it really lazy?\u0026#34;; // any character that is not a word character or whitespace const regex = /[^\\w\\s]/g; console.log(paragraph.search(regex)); // expected output: 43  console.log(paragraph[paragraph.search(regex)]); // expected output: \u0026#34;.\u0026#34;   match()  å›å‚³ä¸€å€‹å­—ä¸²åŒ¹é…æ­£è¦è¡¨é”å¼çš„ç»“æœ ä½¿ç”¨ g å…¨å±€æ¯”å°ï¼Œå›å‚³æ‰€æœ‰çµæœåœ¨ä¸€å€‹é™£åˆ— æ²’æœ‰ä½¿ç”¨ gï¼Œå›å‚³ç¬¬ä¸€å€‹åŒ¹é…çš„çµæœï¼ŒåŒ¹é…çš„èµ·å§‹é»ï¼Œè¼¸å…¥å­—ä¸²æœ¬èº«ï¼Œæ•ç²é™£åˆ—æˆ– undefined  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  const paragraph = \u0026#34;The quick brown fox jumps over the lazy dog. It barked.\u0026#34;; const regex = /[A-Z]/g; const regexNotGlobal = /[A-Z]/; const found = paragraph.match(regex); const foundNotGlobal = paragraph.match(regexNotGlobal); console.log(found); // expected output: Array [\u0026#34;T\u0026#34;, \u0026#34;I\u0026#34;]  console.log(foundNotGlobal); // [ // \u0026#39;T\u0026#39;, // index: 0, // input: \u0026#39;The quick brown fox jumps over the lazy dog. It barked.\u0026#39;, // groups: undefined // ]   ç¶œåˆç·´ç¿’ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52  // Q1 //TEST DATA (pasted to textarea) //underscore_case // first_name //Some_Variable // calculate_AGE //delayed_departure  //SHOULD PRODUCE THIS OUTPUT (5 separate console.log outputs) //underscoreCase âœ… //firstName âœ…âœ… //someVariable âœ…âœ…âœ… //calculateAge âœ…âœ…âœ…âœ… //delayedDeparture âœ…âœ…âœ…âœ…âœ…  document.body.append(document.createElement(\u0026#34;textarea\u0026#34;)); document.body.append(document.createElement(\u0026#34;button\u0026#34;)); const text = document.querySelector(\u0026#34;textarea\u0026#34;).value; document.querySelector(\u0026#34;button\u0026#34;).addEventListener(\u0026#34;click\u0026#34;, function () { const text = document.querySelector(\u0026#34;textarea\u0026#34;).value; const rows = text.split(\u0026#34;\\n\u0026#34;); for (const [i, row] of rows.entries()) { const [first, second] = row.toLowerCase().trim().split(\u0026#34;_\u0026#34;); const output = `${first}${second.replace( second[0], second[0].toUpperCase() )}`.padEnd(20); const check = \u0026#34;âœ…\u0026#34;.repeat(i + 1); console.log(output + check); } }); // Q2 // const flights = \u0026#39;_Delayed_Departure;fao93766109;txl2133758440;11:25+_Arrival;bru0943384722;fao93766109;11:45+_Delayed_Arrival;hel7439299980;fao93766109;12:05+_Departure;fao93766109;lis2323639855;12:30\u0026#39;;  // ğŸ”´ Delayed Departure from FAO to TXL (11h25) // Arrival from BRU to FAO (11h45) // ğŸ”´ Delayed Arrival from HEL to FAO (12h05) // Departure from FAO to LIS (12h30)  // æŠ½å‡ºå…±ç”¨æ–¹æ³•ï¼šåˆ‡å‡ºå‰ä¸‰å€‹å­—è½‰å¤§å¯« const getCode = (str) =\u0026gt; str.slice(0, 3).toUpperCase(); for (const item of flights.split(\u0026#34;+\u0026#34;)) { const [status, from, to, time] = item.split(\u0026#34;;\u0026#34;); const signal = status.slice(1).includes(\u0026#34;_\u0026#34;) ? \u0026#34;ğŸ”´\u0026#34; : \u0026#34;\u0026#34;; console.log( `${signal}${status.replaceAll(\u0026#34;_\u0026#34;, \u0026#34; \u0026#34;)}${getCode(from)}${getCode( to )}${time.replace(\u0026#34;:\u0026#34;, \u0026#34;h\u0026#34;)}`.padStart(35) ); }   è£œå……ï¼šç‚ºä»€éº¼å­—ä¸²æ˜¯ Primitives (ä¸æ˜¯ç‰©ä»¶)ï¼Œå»å¯ä»¥å‘¼å«æ–¹æ³•  JavaScript åœ¨å­—ä¸²å‘¼å«æ–¹æ³•æ™‚æœƒæŠŠå­—ä¸²è½‰æˆç‰©ä»¶ï¼Œé€™å€‹éç¨‹å« boxing  1 2  console.log(new String(\u0026#34;jonas\u0026#34;)); // String{\u0026#39;jonas\u0026#39;} console.log(typeof new String(\u0026#34;jonas\u0026#34;)); //object    ç•¶è½‰æ›çµæŸå¾Œæœƒå†æŠŠç‰©ä»¶è½‰å›å­—ä¸²  1  console.log(typeof new String(\u0026#34;jonas\u0026#34;).slice(1)); // string   ","date":"2022-01-30T00:00:00+08:00","image":"https://bacnotes.github.io/p/string-methods/pexels-pixabay-278887_hu3d03a01dcc18bc5be0e67db3d8d209a6_1794718_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/string-methods/","title":"å­—ä¸²çš„è™•ç†æ–¹æ³•ï½œThe Complete JavaScript Courseï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"ç”¢å‡ºå¥½ç¶­è­·å¥½ç®¡ç†çš„ç¨‹å¼ç¢¼æ˜¯é‡è¦çš„ï¼Œæƒ³åƒä»Šå¤©ä½ çš„ä»»å‹™æ˜¯è¦å¾é€™å€‹æˆ¿é–“è£¡æ‰¾å‡ºæŸä¸€æœ¬æ›¸ï¼Œä½ è¦ºå¾—ä½ éœ€è¦å¤šå°‘æ™‚é–“ï¼Ÿ\nå¦‚æœå°ˆæ¡ˆç¨‹å¼ç¢¼é•·é€™æ¨£çš„è©±ï¼Œé‚„æ²’é–‹å§‹ debug è…¦è¢‹å°±å·²ç¶“å…ˆç•¶æ©Ÿäº†\u0026hellip;\nç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆå°±æ˜¯ç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œè€Œèª•ç”Ÿçš„ä¸€ç¨®æ–¹ä¾¿ç®¡ç†ç¨‹å¼ç¢¼çš„æ–¹å¼\nä»€éº¼æ˜¯ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ(Object-Oriented Programming)  åŸºæ–¼ç‰©ä»¶æ¦‚å¿µçš„ç¨‹å¼è¨­è¨ˆæ–¹æ³• ä½¿ç”¨ç‰©ä»¶å½¢å®¹(model)å…·é«”æˆ–æŠ½è±¡çš„ feature(e.g. user, todo-item, å…ƒä»¶æˆ–è³‡æ–™çµæ§‹) æˆ‘å€‘æŠŠç›¸é—œå±¬æ€§è·Ÿæ–¹æ³•éƒ½åŒ…åœ¨ä¸€å€‹ç‰©ä»¶ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿å–å¾—å…§éƒ¨è³‡æ–™ ç‰©ä»¶æ˜¯ç¨ç«‹çš„(self-contained)çš„ç¨‹å¼ç¢¼ç‰‡æ®µï¼Œé€éå½¼æ­¤äº’å‹•æ§‹ç¯‰æˆä¸€å€‹æ‡‰ç”¨ç¨‹å¼ å…¬é–‹çš„ API å³æ˜¯é€éç‰©ä»¶å…§æ–¹æ³•è·Ÿæ‡‰ç”¨ç¨‹å¼äº’å‹•  ç‰©ä»¶å°å‘ç¨‹å¼èªè¨€å››å¤§åŸå‰‡ æŠ½è±¡åŒ–  éš±è—å¯¦ä½œç´°ç¯€çš„æ©Ÿåˆ¶  å°è£  æŠŠå±¬æ€§è·Ÿæ–¹æ³•å°è£åœ¨ class ä¸è®“å¤–éƒ¨è®€å–ä¿®æ”¹ï¼Œä½† class å…§éƒ¨å¯ä»¥è®€å– å°è£å¥½(è®“å±¬æ€§è·Ÿæ–¹æ³•ä¿æŒ private)å¯é¿å…ç”¢ç”Ÿéé æœŸ bug ç•¶å¤–åœ¨ç¨‹å¼ç¢¼èƒ½å¤ æ›´å‹•åˆ° class å…§éƒ¨è³‡æ–™ï¼Œæœƒé€£å‹•å½±éŸ¿åˆ°èª¿ç”¨é€™å€‹ class çš„ç›¸é—œç¨‹å¼ç¢¼ éœ€è¦å…¬é–‹å­˜å– API å¯è¨­è¨ˆæˆé–‹æ”¾å­˜å–  ç¹¼æ‰¿  ç•¶æœ‰å…©å€‹ç›¸ä¼¼çš„ classï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨ç¹¼æ‰¿ç‰¹æ€§é¿å…æ’°å¯«é‡è¤‡ç¨‹å¼ç¢¼(parent class â†’ child class)  å¤šå‹  child class å¯ä»¥è¦†å¯« parent class çš„æ–¹æ³•  class è·Ÿ instance å¯¦ä¾‹æ˜¯ä»€éº¼ï¼Ÿ  class æ˜¯ä¸€å€‹è—åœ–(éç‰©ä»¶)ï¼Œé€é class å»ºæ§‹å‡ºä¾†çš„æ±è¥¿æ˜¯ instance å¯¦ä¾‹ ä½† JavaScript å…¶å¯¦æ²’æœ‰çœŸæ­£çš„ class é€™å€‹é¡åˆ¥å¯¦ä¾‹(è€Œ Javaï¼ŒC++æœ‰) JavaScript çš„ class æ¯”è¼ƒåƒæ˜¯èªæ³•ç³–ï¼Œé€éå»ºæ§‹å‡½å¼ä¾†æ¨¡æ“¬ classï¼Œå¯ä»¥èª¿ç”¨åŸå‹(prototype-based)æ–¹æ³•  prototype åŸå‹æ˜¯ä»€éº¼ï¼Ÿ  åœ¨ JavaScript ç‰©ä»¶éƒ½æœƒé€£çµåˆ°åŸå‹ï¼ŒåŸå‹ç¹¼æ‰¿(prototypal inheritance)è¡¨ç¤ºæ‰€æœ‰è¢«é€£çµåˆ°çš„å¯¦ä¾‹éƒ½å¯ä»¥ä½¿ç”¨åŸå‹çš„æ–¹æ³• èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘åœ¨ä½¿ç”¨é™£åˆ—çš„ map æ–¹æ³•ï¼Œä¹Ÿæ˜¯å¾é™£åˆ—çš„ prototype å–ç”¨é€™å€‹æ–¹æ³•ï¼Œè€Œä¸æ˜¯ num æœ¬èº«æœ‰çš„æ–¹æ³•()  å»ºç«‹åŸå‹çš„ 3 ç¨®æ–¹æ³•  å»ºç«‹åŸå‹æ˜¯ç‚ºäº†å¯ä»¥ä½¿ç”¨åŸå‹ç¹¼æ‰¿   ä½¿ç”¨å»ºæ§‹å‡½å¼(Constructor functions)è·Ÿ new é‹ç®—å­ç”¢ç”Ÿæ–°çš„å¯¦ä¾‹ ES6 çš„ class èªæ³•ç³– Object.createï¼ˆæœ€ç°¡å–®å‰µé€ å‡ºä¸€å€‹ç‰©ä»¶é€£çµ prototype çš„æ–¹æ³•)  1 2  const num = [1, 2, 3]; console.log(num.map((el) =\u0026gt; el + 2)); //[ 3, 4, 5 ]   ä½¿ç”¨å»ºæ§‹å‡½å¼è·Ÿ new é‹ç®—å­å»ºç«‹åŸå‹é€£çµ  å¯«ä¸€å€‹å»ºæ§‹å‡½å¼ï¼Œä½¿ç”¨ new é‹ç®—å­ç”¢ç”Ÿæ–°çš„ç‰©ä»¶å¯¦ä¾‹{} ç•¶å‡½å¼è¢«å‘¼å«ï¼Œç‰©ä»¶å¯¦ä¾‹çš„ this æœƒæŒ‡å‘é€™å€‹å¯¦ä¾‹æœ¬èº«{} (å› ç‚ºä½¿ç”¨ new é‹ç®—å­æ‰æœ‰é€™å€‹ç‰¹æ€§ï¼Œè·Ÿä¸€èˆ¬å‡½å¼ this ä¸åŒ) å¯¦ä¾‹æœƒé€£çµåˆ°å»ºæ§‹å‡½å¼ï¼Œè®“å¯¦ä¾‹å¯ä»¥ä½¿ç”¨å»ºæ§‹å‡½å¼çš„æ–¹æ³•ï¼Œå› æ­¤æ¯å€‹ç‰©ä»¶ä¸‹æœƒæœ‰.__proto__å±¬æ€§ å»ºæ§‹å‡½å¼æœ¬èº«æœƒ return{}  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  // ä½¿ç”¨åŒåŸå‹å‰µé€ ä¸åŒå¯¦ä¾‹ const Person = function (firstName, birthYear) { // this æŒ‡å‘å¯¦ä¾‹æœ¬èº«  console.log(this); // Person {}  // è¨­å®šå¯¦ä¾‹å±¬æ€§ç‚ºå¤–éƒ¨å‚³é€²ä¾†çš„åƒæ•¸  this.firstName = firstName; this.birthYear = birthYear; // æ–¹æ³•ä¸æœƒå¯«åœ¨åŸå‹è£¡é¢ï¼Œæœƒé€ æˆå¤šé¤˜çš„ç¨‹å¼ç¢¼ï¼Œè‹¥æœ‰ä¸€åƒå€‹ç‰©ä»¶å°±æœ‰ä¸€åƒå€‹æ–¹æ³•ç¨‹å¼ç¢¼ }; // å‰µé€ ä¸€å€‹firstNameç‚ºJonas birthYearç‚º1991çš„Personå¯¦ä¾‹ const jonas = new Person(\u0026#34;Jonas\u0026#34;, 1991); console.log(jonas); // Person { firstName: \u0026#39;Jonas\u0026#39;, birthYear: 1991 }  // å‰µé€ ä¸€å€‹firstNameç‚ºmirenda birthYearç‚º2003çš„Personå¯¦ä¾‹ const mirenda = new Person(\u0026#34;mirenda\u0026#34;, 2003); console.log(mirenda); // Person { firstName: \u0026#39;mirenda\u0026#39;, birthYear: 2003 }  // ä½¿ç”¨.prototype.æ–¹æ³•å æ–°å¢åŸå‹å…±ç”¨æ–¹æ³• // ä¸€æ¨£æ‰€æœ‰ç‰©ä»¶å¯ä»¥é€éprototype inheritanceå…±ç”¨ï¼Œä½†åªéœ€è¦ç®¡ç†é€™æ®µç¨‹å¼ç¢¼ï¼Œä¸æœƒæœ‰å¤šé¤˜çš„copy Person.prototype.calcAge = function () { console.log(2037 - this.birthYear); }; // å¯ä»¥å…±ç”¨åŸå‹æ–¹æ³• jonas.calcAge(); // 46 mirenda.calcAge(); // 34  // ä½¿ç”¨.prototype æ–°å¢åŸå‹å±¬æ€§ Person.prototype.species = \u0026#34;Homo Sapiens\u0026#34;; console.log(jonas.species); // å¯ä»¥å–å¾—å…±ç”¨å±¬æ€§ Homo Sapiens console.log(jonas); // Person { firstName: \u0026#39;Jonas\u0026#39;, birthYear: 1991 } ä½†ä¸æœƒå‡ºç¾åœ¨jonaså¯¦ä¾‹è£¡é¢ï¼Œé™¤éæœ‰å¯«å…¥   æª¢æŸ¥å¯¦ä¾‹æ‰€å±¬åŸå‹æ–¹æ³• 1 2 3  console.log(jonas instanceof Person); // true console.log(jonas.__proto__ === Person.prototype); // è‹¥æ˜¯åŸå‹é€£çµçš„å¯¦ä¾‹ç‚º true console.log(Person.prototype.isPrototypeOf(jonas)); // è‹¥æ˜¯åŸå‹é€£çµçš„å¯¦ä¾‹ç‚º true   æª¢æŸ¥å¯¦ä¾‹æ˜¯å¦å«æœ‰æŸå±¬æ€§ hasOwnProperty 1 2 3  console.log(jonas.hasOwnProperty(\u0026#34;firstName\u0026#34;)); // true console.log(jonas.species); // Homo Sapiens console.log(jonas.hasOwnProperty(\u0026#34;species\u0026#34;)); // false å› ç‚ºä¸æ˜¯jonasæ“æœ‰å±¬æ€§ è€Œæ˜¯åŸå‹   prototype chain åŸå‹éˆ å»ºæ§‹å‡½å¼ v.s. åŸå‹ v.s. å¯¦ä¾‹ é—œä¿‚åœ– 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40  // å»ºæ§‹å‡½å¼.prototype = åŸå‹ // åŸå‹.constructor = å»ºæ§‹å‡½å¼  // å»ºæ§‹å‡½å¼ const Person = function (firstName, birthYear) { // Instance properties  this.firstName = firstName; this.birthYear = birthYear; }; // new å»ºæ§‹å‡½å¼ = å¯¦ä¾‹ const jonas = new Person(\u0026#34;Jonas\u0026#34;, 1991); console.log(jonas); // Person { firstName: \u0026#39;Jonas\u0026#39;, birthYear: 1991 }  // å¯¦ä¾‹.__proto__ = ç‰©ä»¶åŸå‹ // jonasçš„åŸå‹æ˜¯Personï¼Œæ•…å¯ä»¥ç²å–Personçš„æ–¹æ³•æˆ–å±¬æ€§ console.log(jonas.__proto__); //{species: \u0026#39;Homo Sapiens\u0026#39;, calcAge: Æ’ (), constructor: Æ’(firstName, birthYear), [[Prototype]]: Object}  // Personçš„åŸå‹æ˜¯ç‰©ä»¶åŸå‹ (Object.prototype) console.log(jonas.__proto__.__proto__); // {constructor: Æ’, __defineGetter__: Æ’, __defineSetter__: Æ’, hasOwnProperty: Æ’, __lookupGetter__: Æ’,Â â€¦} åˆ—å‡ºç‰©ä»¶æ–¹æ³•  // ç‰©ä»¶åŸå‹çš„prototypeæ˜¯null(åŸå‹éˆchainæœ€ä¸Šå±¤) console.log(jonas.__proto__.__proto__.__proto__); // null  // ä»¥é™£åˆ—å¯¦ä¾‹ä¾†çœ‹åŸå‹éˆ const arr = [1, 2, 3]; // å¯¦ä¾‹çš„åŸå‹æ˜¯é™£åˆ—åŸå‹Array.prototypeï¼Œå¯ç²å–é™£åˆ—çš„æ–¹æ³• console.log(arr.__proto__); // [constructor: Æ’, concat: Æ’, copyWithin: Æ’, fill: Æ’, find: Æ’,Â â€¦]  // é™£åˆ—åŸå‹çš„åŸå‹æ˜¯ç‰©ä»¶ï¼Œå¯ç²å–ç‰©ä»¶çš„æ–¹æ³• console.log(arr.__proto__.__proto__); // {constructor: Æ’, __defineGetter__: Æ’, __defineSetter__: Æ’, hasOwnProperty: Æ’, __lookupGetter__: Æ’,Â â€¦}  // ç‰©ä»¶åŸå‹(Object.prototype)çš„prototypeæ˜¯null(åŸå‹éˆchainæœ€ä¸Šå±¤) console.log(arr.__proto__.__proto__.__proto__); // null   ES6 çš„ class å»ºç«‹åŸå‹é€£çµ è·Ÿ function ä¸€æ¨£æœ‰ expression å’Œ declaration å…©ç¨®å¯«æ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  // class expression const Person = class { constructor(firstName, birthYear) { this.firstName = firstName; this.birthYear = birthYear; } }; // class declarationï¼ˆå¯«èµ·ä¾†æ¯”ä¸Šæ–¹ç¨‹å¼ç¢¼å·¥æ•´ï¼Œéƒ½å¯«åœ¨ä¸€å€‹ç‰©ä»¶ä¸­ï¼Œæ–¹æ³•ä¸ç”¨å¯«åœ¨å¤–é¢ç®¡ç†) class Person { constructor(firstName, birthYear) { this.firstName = firstName; this.birthYear = birthYear; } // å¯«åœ¨é€™é‚Šçš„æ–¹æ³•éƒ½æœƒé€²åˆ°prototype  calcAge() { console.log(2037 - this.birthYear); } greet() { console.log(`Hey ${this.fullName}`); } } const jessica = new Person(\u0026#34;Jessica Davis\u0026#34;, 1996); console.log(jessica); // PersonÂ {firstName: \u0026#39;Jessica Davis\u0026#39;, birthYear: 1996} jessica.calcAge(); // 41 console.log(jessica.__proto__ === PersonCl.prototype); // true   é—œæ–¼ class çš„å¹¾å€‹é‡é»  class ä¸æœƒè¢«æå‡ hoisting(å³ä¾¿å¯« class declaration) class å…·å‚™ä¸€ç´šå‡½å¼ç‰¹æ€§(å¯ä½œç‚ºåƒæ•¸å‚³å…¥ï¼Œä¹Ÿå¯è¢«å›å‚³) class é ˆåœ¨åš´æ ¼æ¨¡å¼ä¸‹åŸ·è¡Œ class å¯«æ³•æ¯”ç¬¬ä¸€ç¨®(å»ºæ§‹å‡½å¼/const å¯¦ä¾‹ = new å‡½å¼/Person.prototype.æ–¹æ³•)æ›´å¥½é–±è®€èˆ‡ç¶­è­·ï¼Œconstructor/å±¬æ€§/æ–¹æ³•éƒ½å¯«åœ¨ class è£¡ï¼Œæ–¹æ³•ä¸éœ€è¦å¯«åœ¨å¤–é¢ä¹Ÿå¯ä»¥ä½¿ç”¨ prototype inheritance  getters \u0026amp; setter  æ‰€æœ‰ç‰©ä»¶éƒ½æœ‰çš„å±¬æ€§(assessor properties)ï¼Œç›¸å°æ–¼ä¸€èˆ¬å±¬æ€§ç¨±ç‚º data properties æ˜¯ç²å–å€¼æˆ–è¨­å®šå€¼çš„ function é©åˆç”¨åœ¨ validation  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  const account = { owner: \u0026#34;Jonas\u0026#34;, movements: [200, 530, 120, 300], get latest() { // this.movements.slice(-1)æ˜¯ä¸€å€‹é™£åˆ—ï¼Œç‚ºäº†å–å€¼ç”¨pop  return this.movements.slice(-1).pop(); }, // éœ€è¦è‡³å°‘ä¸€å€‹åƒæ•¸  set latest(mov) { this.movements.push(mov); }, }; // åƒæ˜¯ç²å–å±¬æ€§ä¸€æ¨£ä¾†ä½¿ç”¨é€™å€‹æ–¹æ³• console.log(account.latest); // 300 // åƒæ˜¯æ›´æ”¹å±¬æ€§ä¸€æ¨£ä¾†ä½¿ç”¨é€™å€‹æ–¹æ³• è€Œéaccount.latest(50) account.latest = 50; console.log(account.movements); // [200, 530, 120, 300, 50]    å¯ä»¥ä½¿ç”¨å‰›å‰›çš„ Person ä¾†å¯«å€‹ get è·Ÿ set function  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  class Person { constructor(fullName, birthYear) { // å»ºæ§‹æ™‚æœƒä½¿ç”¨åƒæ•¸fullName å‘¼å«set fullNameæ–¹æ³•  this.fullName = fullName; this.birthYear = birthYear; } calcAge() { console.log(2037 - this.birthYear); } greet() { console.log(`Hey ${this.fullName}`); } get age() { return 2037 - this.birthYear; } // set a property that already exists  // ç•¶ä½¿ç”¨.fullNameå°±æœƒå‘¼å«é€™å€‹æ–¹æ³•ï¼ŒåŒ…å«ä¸€é–‹å§‹å»ºæ§‹å¯¦ä¾‹æ™‚  set fullName(name) { console.log(name); if (name.includes(\u0026#34; \u0026#34;)) // setè·Ÿ constructoréƒ½ä½¿ç”¨firstNameæœƒæœ‰è¡çª ä½¿ç”¨å¦ä¸€å€‹è®Šæ•¸å­˜  this._fullName = name; else alert(`${name}is not a full name`); } // jessica.fullNameæ‰ä¸æœƒundefined  get fullName() { return this._fullName; } } const jessica = new Person(\u0026#34;Jessica Davis\u0026#34;, 1996); console.log(jessica.age); // 41  const walter = new Person(\u0026#34;Walter\u0026#34;, 1996); // Walter is not a full name   static methods  ä½¿ç”¨é—œéµå­— static ä¾†å®šç¾©ä¸€å€‹éœæ…‹çš„æ–¹æ³•ï¼ˆmethodï¼‰çµ¦é¡åˆ¥ï¼ˆclassï¼‰ï¼Œéœæ…‹æ–¹æ³•åœ¨ç”±é¡åˆ¥æ‰€å»ºç«‹çš„ç‰©ä»¶å¯¦é«”ï¼ˆinstanceï¼‰ä¸Šä¸èƒ½è¢«å‘¼å«ï¼Œéœæ…‹æ–¹æ³•åªèƒ½ç”±é¡åˆ¥æœ¬èº«å‘¼å« ä¾‹å¦‚ Array.from() å¯ä»¥æŠŠé¡é™£åˆ—è½‰æˆé™£åˆ—ï¼Œä½†é™£åˆ—æœ¬èº«ä¸èƒ½å‘¼å«é€™å€‹æ–¹æ³• å› ç‚ºé€™å€‹æ–¹æ³•æ˜¯æ”¾åœ¨ Array constructor èº«ä¸Šï¼Œè€Œéé™£åˆ—çš„åŸå‹ï¼Œæ‰€ä»¥é™£åˆ—ç„¡æ³•ç²å–  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69  class Person { constructor(fullName, birthYear) { this.fullName = fullName; this.birthYear = birthYear; } calcAge() { console.log(2037 - this.birthYear); } greet() { console.log(`Hey ${this.fullName}`); } get age() { return 2037 - this.birthYear; } set fullName(name) { console.log(name); if (name.includes(\u0026#34; \u0026#34;)) this._fullName = name; else alert(`${name}is not a full name`); } get fullName() { return this._fullName; } } // é€™ç¨®å¯«æ³•æ–¹æ³•ä¸æœƒæ›´æ–°åœ¨åŸå‹ï¼Œjonasç„¡æ³•ç¹¼æ‰¿ Person.hey = function () { console.log(\u0026#34;hey\u0026#34;, this); }; Person.hey(); // hey class Person {...çœç•¥} (thisæœƒæ˜¯å»ºæ§‹å‡½å¼æœ¬èº«) jonas.hey(); // Uncaught TypeError: jonas.hey is not a function  // ä½¿ç”¨staticé—œéµå­—ï¼Œå¯å‡ºç¾è·Ÿä¸Šæ–¹ä¸€æ¨£çš„çµæœ class Person { constructor(fullName, birthYear) { this.fullName = fullName; this.birthYear = birthYear; } // å¯¦ä¾‹å¯ä»¥ç²å–çš„æ–¹æ³• æœƒè¢«åŠ å…¥åŸå‹.prototype property  calcAge() { console.log(2037 - this.birthYear); } greet() { console.log(`Hey ${this.fullName}`); } get age() { return 2037 - this.birthYear; } set fullName(name) { console.log(name); if (name.includes(\u0026#34; \u0026#34;)) this._fullName = name; else alert(`${name}is not a full name`); } get fullName() { return this._fullName; } // å»ºæ§‹æ™‚æ‰èƒ½ç²å–çš„æ–¹æ³•ï¼Œå¯¦ä¾‹ç„¡æ³•ç²å–  static hey() { console.log(\u0026#34;hey\u0026#34;, this); } }    å¦ä¸€å€‹å°ç·´ç¿’ï¼Œget set æ™‚ä½¿ç”¨å¦ä¸€å€‹è®Šæ•¸å(speedUS è€Œé speed)å°±ä¸ç”¨æ“”å¿ƒæ’è®Šæ•¸åçš„å•é¡Œ  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  class Car { constructor(make, speed) { this.make = make; this.speed = speed; } accelerate() { this.speed += 10; console.log(`${this.make}is going at ${this.speed}km/h`); } brake() { this.speed -= 5; console.log(`${this.make}is going at ${this.speed}km/h`); } get speedUS() { return this.speed / 1.6; } set speedUS(speed) { this.speed = speed * 1.6; } } const ford = new CarCl(\u0026#34;Ford\u0026#34;, 120); console.log(ford.speedUS); // 75 ford.accelerate(); // Ford is going at 130km/h ford.accelerate(); // Ford is going at 140km/h ford.brake(); // // Ford is going at 135km/h ford.speedUS = 50; // 50 console.log(ford); //Car{make:\u0026#34;Ford\u0026#34;, speed: 80}   Object.create() å»ºç«‹åŸå‹é€£çµ  ä¸éœ€è¦å¯«å»ºæ§‹å‡½å¼ constructor newï¼Œæˆ–æ˜¯.prototype ä¸‹æ–¹ç¯„ä¾‹ä¸€èˆ¬ä¸æœƒé€™æ¨£åšï¼Œé¡¯ç¤ºæ©Ÿåˆ¶ç”¨  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  const PersonProto = { // å¯ä»¥ä¸éœ€è¦å¯«constructor  calcAge() { console.log(2037 - this.birthYear); }, }; // å»ºç«‹åŸå‹é€£çµåˆ°steven const steven = Object.create(PersonProto); console.log(steven); // æ‰‹å‹•å¢åŠ åŸå‹å…§å®¹ steven.name = \u0026#34;Steven\u0026#34;; steven.birthYear = 2002; steven.calcAge(); //35 // {} \u0026gt; __proto__: calcAge: f calcAge()  console.log(steven.__proto__ === PersonProto); //true  // å»ºç«‹åŸå‹é€£çµåˆ°sarah const sarah = Object.create(PersonProto); const PersonProto = { // ä¸éœ€è¦å¯«constructor  // å»ºç«‹ä¸€å€‹æ–¹æ³•ä¾†æ–°å¢å±¬æ€§ï¼Œç›¸è¼ƒä¸Šé¢ä¸€å€‹å€‹æ–°å¢  init(firstName, birthYear) { this.firstName = firstName; this.birthYear = birthYear; }, calcAge() { console.log(2037 - this.birthYear); }, }; // èª°å‘¼å«thiså°±æ˜¯èª° sarah.init(\u0026#34;Sarah\u0026#34;, 1979); sarah.calcAge(); // 58   class é–“çš„ç¹¼æ‰¿: çˆ¶é¡åˆ¥ parent class \u0026amp; å­é¡åˆ¥ child class  äº†è§£å¦‚ä½•ç”¨ Object.create()åœ¨ class é–“è¨­ç½®åŸå‹éˆï¼Œè®“çˆ¶é¡åˆ¥åŸå‹æ–¹æ³•è·Ÿå±¬æ€§å¯ä»¥è¢«å­é¡åˆ¥ç¹¼æ‰¿ å­é¡åˆ¥ç¹¼æ‰¿çˆ¶é¡åˆ¥çš„æ–¹æ³•è·Ÿå±¬æ€§ï¼Œä¹Ÿå¯ä»¥æœ‰è‡ªå·±çš„æ–¹æ³•è·Ÿå±¬æ€§ ç•¶å­å±¤çˆ¶å±¤æœ‰ä¸€æ¨£åç¨±çš„æ–¹æ³•ï¼Œæœƒç”¨å­å±¤çš„  ä½¿ç”¨å»ºæ§‹å‡½å¼è·Ÿ new é‹ç®—å­å»ºç«‹çˆ¶å­é¡åˆ¥ç¹¼æ‰¿ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37  // äººé¡åŸå‹ const Person = function (firstName, birthYear) { this.firstName = firstName; this.birthYear = birthYear; }; // äººé¡åŸå‹å»ºç«‹æ–¹æ³• Person.prototype.calcAge = function () { console.log(2037 - this.birthYear); }; // å­¸ç”ŸåŸå‹ const Student = function (firstName, birthYear, course) { // å‘¼å«äººé¡å±¬æ€§  // å¦‚æœç”¨ä¸€èˆ¬å‡½å¼å‘¼å«(æ²’æœ‰ç”¨new) Person(firstName, birthYear) æœƒUncaught Error: cannot set firstName of undefined  // a regular function call, the this keyword is set to undefined  // å¦‚æœéœ€è¦å‘¼å«å‡½å¼ä¸¦è¨­ç½®thisåœ¨é€™å€‹å‡½å¼ï¼Œä½¿ç”¨call  Person.call(this, firstName, birthYear); this.course = course; }; // ä½¿ç”¨Object.createå»ºç«‹åŸå‹é€£çµ // æ–°å¢ä»»ä½•å­é¡åˆ¥åŸå‹çš„æ–¹æ³•å‰ï¼Œéœ€è¦å…ˆå»ºç«‹é€£çµï¼Œä¸‹æ–¹æœƒå›å‚³ç©ºç‰©ä»¶ï¼Œè‹¥é †åºéŒ¯èª¤ç©ºç‰©ä»¶æœƒè¦†è“‹æ‰æ–°å¢çš„æ–¹æ³• Student.prototype = Object.create(Person.prototype); // å­¸ç”ŸåŸå‹å»ºç«‹æ–¹æ³• Student.prototype.introduce = function () { console.log(`My name is ${this.firstName}and I study ${this.course}`); }; // å»ºç«‹ä¸€å€‹å­¸ç”Ÿ const mike = new Student(\u0026#34;Mike\u0026#34;, 2020, \u0026#34;Computer Science\u0026#34;); mike.introduce(); // æˆåŠŸå‘¼å«åˆ°çˆ¶é¡åˆ¥æ–¹æ³•ï¼Œè·Ÿscope chainä¸€æ¨£ç•¶å­å±¤æ‰¾ä¸åˆ°æœƒå¾€çˆ¶å±¤æ‰¾ // è‹¥å­å±¤æœ‰å®šç¾©è‡ªå·±çš„calcAge()ï¼Œæœƒå‘¼å«å­å±¤çš„æ–¹æ³• mike.calcAge(); // 17    å­é¡åˆ¥å¯¦ä¾‹è·Ÿå­é¡åˆ¥è·Ÿçˆ¶é¡åˆ¥é—œä¿‚  1 2 3 4 5 6 7 8 9 10 11  // å­¸ç”ŸåŸå‹ å¯ä»¥çœ‹åˆ°introduceæ–¹æ³• console.log(mike.__proto__); // Person { introduce: [Function (anonymous)] } // äººé¡åŸå‹ å¯ä»¥çœ‹åˆ°calcAgeæ–¹æ³• console.log(mike.__proto__.__proto__); // { calcAge: [Function (anonymous)] }  console.log(mike instanceof Student); // true console.log(mike instanceof Person); // true è‹¥æ²’æœ‰ä¸Šé¢å»ºç«‹é€£çµæœƒæ˜¯false console.log(mike instanceof Object); // true  Student.prototype.constructor = Student; // åŠ ä¸Šé€™è¡Œfix mikeçš„constructoræŒ‡å‘ã„ console.dir(Student.prototype.constructor); // è‹¥æ²’æœ‰ä¸Šé¢é€™è¡ŒæœƒæŒ‡å‘Person   ä½¿ç”¨ ES6 class å»ºç«‹çˆ¶å­é¡åˆ¥ç¹¼æ‰¿  ä½¿ç”¨ extend çˆ¶é¡åˆ¥ æ­é… super çˆ¶é¡åˆ¥åƒæ•¸ super æ˜¯çˆ¶å±¤çš„å»ºæ§‹å‡½å¼ constructor  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38  // äººé¡åŸå‹ class Person { constructor(firstName, birthYear) { this.firstName = firstName; this.birthYear = birthYear; } // äººé¡åŸå‹å»ºç«‹æ–¹æ³•  calcAge = function () { console.log(2037 - this.birthYear); }; } // å­¸ç”ŸåŸå‹ ä¸ç”¨å¯«çˆ¶å±¤.call ç”¨extendså°±æœƒæŒ‡å‘çˆ¶å±¤äº† class Student extends Person { constructor(firstName, birthYear, course) { // superæ°¸é å¯«åœ¨æœ€ä¸Šé¢ å­å±¤çš„this  super(firstName, birthYear); this.course = course; } introduce() { console.log(`My name is ${this.firstName}and I study ${this.course}`); } // è¦†å¯«çˆ¶å±¤æ–¹æ³•  // calcAge() {  // console.log(`i am ${2037- this.birthYear}`)  // } } // ä½¿ç”¨Object.createå»ºç«‹åŸå‹é€£çµï¼Œè®“å…©å€‹classå»ºç«‹çˆ¶å­é—œä¿‚ // åœ¨æ·»åŠ ä»»ä½•å­¸ç”ŸåŸå‹çš„æ–¹æ³•å‰ï¼Œéœ€è¦å…ˆå»ºç«‹é€£çµï¼Œå› ç‚ºä¸‹æ–¹æœƒå…ˆå›å‚³ç©ºç‰©ä»¶ï¼Œè‹¥é †åºéŒ¯èª¤ç©ºç‰©ä»¶æœƒè¦†è“‹æ‰æ–°å¢çš„æ–¹æ³• Student.prototype = Object.create(Person.prototype); // å»ºç«‹ä¸€å€‹å­¸ç”Ÿ const mike = new Student(\u0026#34;Mike\u0026#34;, 2020, \u0026#34;Computer Science\u0026#34;); mike.introduce(); // My name is Mike and I study Computer Science  // æˆåŠŸå‘¼å«åˆ°çˆ¶é¡åˆ¥æ–¹æ³•ï¼Œè‹¥å­å±¤æœ‰åŒæ¨£calcAge()å‰‡æœƒå‘¼å«å­å±¤æ–¹æ³• mike.calcAge(); // 17   ä½¿ç”¨ Object.create å»ºç«‹çˆ¶å­é¡åˆ¥ç¹¼æ‰¿ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  const PersonProto = { calcAge() { console.log(2037 - this.birthYear); }, init(firstName, birthYear) { this.firstName = firstName; this.birthYear = birthYear; }, }; // ä½¿ç”¨Object.createå»ºç«‹åŸå‹é€£çµ const StudentProto = Object.create(PersonProto); // ä½¿ç”¨Object.createå»ºç«‹åŸå‹é€£çµ const jay = Object.create(StudentProto); // å­å±¤æ–°å¢ç›¸åŒåç¨±æ–¹æ³• StudentProto.init = function (firstName, birthYear, course) { // å‘¼å«å‡½å¼ä¸¦è¨­ç½®thisåœ¨é€™å€‹å‡½å¼ï¼Œä½¿ç”¨call ç²å–çˆ¶å±¤initæ–¹æ³•  PersonProto.init.call(this, firstName, birthYear); this.course = course; }; // å­å±¤æ–°å¢ä¸åŒæ–¹æ³• StudentProto.introduce = function () { console.log(`My name is ${this.firstName}and I study ${this.course}`) }; jay.init(\u0026#34;Jay\u0026#34;, 2010, \u0026#34;computer science\u0026#34;); jay.introduce() // My name is Jay and I study computer science jay.calcAge() // 27   ","date":"2022-01-14T00:00:00+08:00","image":"https://bacnotes.github.io/p/object-oriented-programming/pexels-j%C3%A9shoots-271458_hu3d03a01dcc18bc5be0e67db3d8d209a6_2056159_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/object-oriented-programming/","title":"ä»Šæ™šï¼Œæˆ‘å€‘ä¾†èŠé»ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ(Object-Oriented Programming) ï½œThe Complete JavaScript Courseï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"æˆ‘å€‘ä¹‹å‰åœ¨JavaScript åº•å±¤é‹ä½œåŸç† 101ï¼Œä»‹ç´¹é primitives è·Ÿ objects ä½¿ç”¨è¨˜æ†¶é«”çš„æ–¹å¼\nä¹Ÿæœ‰åœ¨JavaScript åŸºç¤çŸ¥è­˜è¤‡ç¿’(2)ï¼Œè£œå……ä¸­æåˆ° primitives è³¦å€¼æ™‚æ˜¯å‚³å€¼ï¼Œè€Œé™£åˆ—ã€ç‰©ä»¶è³¦å€¼æ™‚æ˜¯å‚³å€\nåœ¨é€™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å€‘æœƒç¹¼çºŒä»‹ç´¹å‚³å€è·Ÿå‚³å€¼åœ¨å‡½å¼å‚³éåƒæ•¸(arguments)æ™‚ï¼Œprimitives è·Ÿ objects å…©è€…è¡¨ç¾æœƒæœ‰ä»€éº¼ä¸åŒ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  // æœ‰ä¸€å€‹å­—ä¸²è³‡æ–™è·Ÿä¸€å€‹ç‰©ä»¶è³‡æ–™ const flight = \u0026#39;LH234\u0026#39;; const jonas = { name: \u0026#39;Jonas Schmedtmann\u0026#39;, passport: 24739479284, }; const checkIn = function (flightNum, passenger) { // flightNum åªæ˜¯ä¸€å€‹flightå­—ä¸²å€¼çš„copy å…©è€…ä½¿ç”¨ä¸åŒè¨˜æ†¶é«”  flightNum = \u0026#39;LH999\u0026#39;; // passenger.name å‰‡æ˜¯ç›´æ¥æŠŠè¨˜æ†¶é«”å‚³éå» ä½¿ç”¨åŒä¸€ä»½è¨˜æ†¶é«”  passenger.name = \u0026#39;Mr. \u0026#39; + passenger.name; if (passenger.passport === 24739479284) { console.log(\u0026#39;Checked in\u0026#39;); } else { console.log(\u0026#39;Wrong passport!\u0026#39;); } }; // flightæ˜¯ä¸€å€‹primitives å‚³å€¼é€²function // jonasæ˜¯ä¸€å€‹object å‚³å€é€²function checkIn(flight, jonas); // Checked in  console.log(flight); // flightè®Šæ•¸(primitives): LH234 æ²’æœ‰è®Š console.log(jonas); // person.name(ç‰©ä»¶å±¬æ€§)ï¼šMr.Jonas Schmedtmann è®Šäº†    ç•¶å…©å€‹å‡½å¼æ“ä½œåŒä¸€å€‹ç‰©ä»¶ä¸”æ²’æœ‰åšæ·ºæ‹·è²ï¼Œç›´æ¥å‚³å€  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  const flight = \u0026#39;LH234\u0026#39;; const jonas = { name: \u0026#39;Jonas Schmedtmann\u0026#39;, passport: 24739479284, }; const flightNum = flight; const passenger = jonas; const checkIn = function (flightNum, passenger) { flightNum = \u0026#39;LH999\u0026#39;; // ä¿®æ”¹è¨˜æ†¶é«”ä¸­çš„å€¼  passenger.name = \u0026#39;Mr. \u0026#39; + passenger.name; if (passenger.passport === 24739479284) { console.log(\u0026#39;Checked in\u0026#39;); } else { console.log(\u0026#39;Wrong passport!\u0026#39;); } }; const newPassport = function (person) { person.passport = Math.trunc(Math.random() * 100000000000); }; newPassport(jonas); // a random number checkIn(flight, jonas); // Wrong passport! (å› ç‚ºæ”¹åˆ°passportè™Ÿç¢¼)    å¤§å‹å°ˆæ¡ˆæœ‰æ™‚å€™å› ç‚ºä¸ç¶“æ„çš„ä¿®æ”¹åˆ°ç‰©ä»¶è³‡æ–™ï¼Œæœƒé€ æˆå¾ˆå¤§çš„å½±éŸ¿ï¼Œæ‰€ä»¥éœ€è¦å¤šæ³¨æ„å‚³å€å‚³å€¼çš„æ¦‚å¿µ  First-Class Function ä¸€ç´šå‡½å¼ ä¹‹å‰ä»‹ç´¹ JavaScript èªè¨€ç‰¹æ€§æ™‚ï¼Œæœ‰æåˆ° JavaScript æœ‰ä¸€ç´šå‡½å¼çš„ç‰¹æ€§\nå› æ­¤æˆ‘å€‘å¯ä»¥ä½¿ç”¨ higher-order functionï¼š\n å¯ä»¥æŠŠ function ç•¶åƒæ•¸å‚³å…¥å¦ä¸€å€‹ function(åˆè¢«ç¨±ä½œå›å‘¼å‡½å¼) å¯ä»¥ function return function  callback function å›å‘¼å‡½å¼ å›å‘¼å‡½å¼ callback function æ˜¯æŠŠå‡½å¼ç•¶ä½œå¦ä¸€å€‹å‡½å¼çš„åƒæ•¸ï¼Œé€éå¦ä¸€å€‹å‡½å¼ä¾†å‘¼å«å®ƒ\nåªæ˜¯é€šå¸¸æåˆ°çš„å ´æ™¯æ˜¯åœ¨è™•ç†éåŒæ­¥çš„æ™‚å€™\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  // æŠŠæ‰€æœ‰è‹±æ–‡å­—ç©ºç™½å»æ‰ï¼ŒæŠŠå­—æ‹¼åœ¨ä¸€èµ·çš„å‡½å¼ const oneWord = function (str) { return str.replace(/ /g, \u0026#39;\u0026#39;).toLowerCase(); }; // æŠŠç¬¬ä¸€å€‹è‹±æ–‡å­—éƒ½è½‰å¤§å¯«å­—çš„å‡½å¼ const upperFirstWord = function (str) { const [first, ...others] = str.split(\u0026#39; \u0026#39;); return [first.toUpperCase(), ...others].join(\u0026#39; \u0026#39;); }; // Higher-order function å­—ä¸²è·Ÿå‡½å¼ç‚ºåƒæ•¸ const transformer = function (str, fn) { console.log(`Original string: ${str}`); console.log(`Transformed string: ${fn(str)}`); console.log(`Transformed by: ${fn.name}`); }; // å›å‘¼å‡½å¼ç¯„ä¾‹1 transformer(\u0026#39;JavaScript is the best!\u0026#39;, upperFirstWord); // Original string: JavaScript is the best! // Transformed string: JAVASCRIPT is the best! // Transformed by: upperFirstWord  // å›å‘¼å‡½å¼ç¯„ä¾‹2 transformer(\u0026#39;JavaScript is the best!\u0026#39;, oneWord); // Original string: JavaScript is the best! // Transformed string: javascriptisthebest! // Transformed by: oneWord   Function return function  å¯ä»¥æŠŠå‡½å¼ä¸€å±¤å±¤å°è£èµ·ä¾†ï¼Œè®“å¤–å±¤åªå‚³å…¥ä¸€å€‹åƒæ•¸ï¼Œfunction programming å¸¸ç”¨çš„ç¨‹å¼è¨­è¨ˆæŠ€å·§ï¼Œæœ‰åŠ©æ–¼é‡è¤‡åˆ©ç”¨ç¨‹å¼ç¢¼\nï¼ŠæŸ¯é‡ŒåŒ–ï¼šæŠŠæ¥å—å¤šå€‹åƒæ•¸çš„å‡½æ•¸è®Šæ›æˆæ¥å—ä¸€å€‹å–®ä¸€åƒæ•¸ï¼ˆæœ€åˆå‡½æ•¸çš„ç¬¬ä¸€å€‹åƒæ•¸ï¼‰çš„å‡½æ•¸ï¼Œä¸¦ä¸”è¿”å›æ¥å—é¤˜ä¸‹çš„åƒæ•¸è€Œä¸”è¿”å›çµæœçš„æ–°å‡½æ•¸çš„æŠ€è¡“ å› ç‚º Function return function æœƒå‰µé€ é–‰åŒ…ï¼Œé–‰åŒ…æ˜¯å‡½å¼æœ¬èº«åŠå‡½å¼è¢«å»ºç«‹æ™‚çš„åŸ·è¡Œæ–‡æœ¬(execution context)ï¼Œå› æ­¤ä¸‹æ–¹ greeting çš„åƒæ•¸ Hey æœƒè¢«è¨˜ä½  1 2 3 4 5 6 7 8 9 10 11 12 13 14  const greet = function (greeting) { return function (name) { console.log(`${greeting}${name}`); }; }; const greeterHey = greet(\u0026#39;Hey\u0026#39;); greeterHey(\u0026#39;Jonas\u0026#39;); // Hey Jonas greeterHey(\u0026#39;Steven\u0026#39;); // Hey Stevens  greet(\u0026#39;Hello\u0026#39;)(\u0026#39;Jonas\u0026#39;); // Hello Jonas  // ï¼Šè£œå……ä¸Šæ–¹çš„greetå‡½å¼ä¹Ÿå¯ä»¥å¯«æˆç®­é ­å‡½å¼ const greet = (greeting) =\u0026gt; (name) =\u0026gt; console.log(`${greeting}${name}`);   Call \u0026amp; Apply ç¶å®š this å°è±¡ ç•¶æˆ‘å€‘é–‹ç™¼ç¨‹å¼å¾Œå¯èƒ½æœƒè¤‡ç”¨ä¸åŒç‰©ä»¶å…§çš„æ–¹æ³•ï¼Œä½†å¦‚æœä½ åª copy æ–¹æ³•ï¼Œä½¿ç”¨ä¸€èˆ¬å‡½å¼å‘¼å«ï¼Œæœƒç™¼ç¾ this undefinedï¼Œç¬¦åˆæˆ‘å€‘ä¹‹å‰æåˆ°çš„ä¸€èˆ¬å‡½å¼å‘¼å«çš„ç‹€æ³ä¸‹ï¼Œåš´æ ¼æ¨¡å¼ä¸‹ this æ˜¯ undefinedï¼ˆéåš´æ ¼æ¨¡å¼ä¸‹ç‚ºå…¨åŸŸç‰©ä»¶ï¼‰\né€™å€‹æ™‚å€™ä½ å°±éœ€è¦ä½¿ç”¨ Call æˆ– Apply ä¾†å‘Šè¨´ç¨‹å¼ this è¦ç¶å®šçš„å°è±¡\nä½¿ç”¨ Call æ–¹æ³•  call(thisArg, arg1, \u0026hellip; , argN)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40  const lufthansa = { airline: \u0026#39;Lufthansa\u0026#39;, iataCode: \u0026#39;LH\u0026#39;, bookings: [], // book: function() {}  book(flightNum, name) { console.log( `${name}booked a seat on ${this.airline}flight ${this.iataCode}${flightNum}` ); this.bookings.push({ flight: `${this.iataCode}${flightNum}`, name }); }, }; lufthansa.book(239, \u0026#39;Jonas Schmedtmann\u0026#39;); lufthansa.book(635, \u0026#39;John Smith\u0026#39;); // ä¹Ÿæƒ³åœ¨é€™é‚Šä½¿ç”¨ä¸Šé¢bookçš„æ–¹æ³• const eurowings = { airline: \u0026#39;Eurowings\u0026#39;, iataCode: \u0026#39;EW\u0026#39;, bookings: [], }; // copyæ–¹æ³•ï¼Œå…§å®¹ç‚ºpushä¸€æ®µæ–‡å­—åˆ°bookings const book = lufthansa.book; // è‹¥ç›´æ¥ç”¨ä¸€èˆ¬å‡½å¼å‘¼å« not work book(23, \u0026#39;Sarah Williams\u0026#39;); // Uncaught TypeError: Cannot read property \u0026#39;airline\u0026#39; of undefined  // ä¸æ˜¯å»å‘¼å« bookå‡½å¼è€Œæ˜¯return æ–°çš„å‡½å¼ç¶å®šthiså°è±¡ç‚ºeurowings book.call(eurowings, 23, \u0026#39;Sarah Williams\u0026#39;); console.log(eurowings); // çš„ç¢ºæœ‰ä½¿ç”¨bookæ–¹æ³•æŠŠè³‡æ–™pushé€²ä¾†äº†  // { // airline: \u0026#39;Eurowings\u0026#39;, // iataCode: \u0026#39;EW\u0026#39;, // bookings: [ { flight: \u0026#39;EW23\u0026#39;, name: \u0026#39;Sarah Williams\u0026#39; } ] // }   ä½¿ç”¨ Apply æ–¹æ³•  apply(thisArg, argsArray) Call è·Ÿ Apply å·®åˆ¥åœ¨åƒæ•¸å‚³å…¥çš„è³‡æ–™çµæ§‹çš„ä¸åŒï¼Œä½¿ç”¨ Apply ç¶å®šæ™‚ï¼Œåƒæ•¸éœ€è¦æ”¾åœ¨é™£åˆ—ç•¶ä¸­ï¼ŒCall å‰‡æ˜¯ç›´æ¥å¯«åœ¨()ä¸­ã€‚  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  // å®šç¾©å¦ä¸€å€‹ç‰©ä»¶ const swiss = { airline: \u0026#39;Swiss Air Lines\u0026#39;, iataCode: \u0026#39;LX\u0026#39;, bookings: [], }; // åƒæ•¸æ”¾å…¥é™£åˆ— const flightData = [583, \u0026#39;George Cooper\u0026#39;]; book.apply(swiss, flightData); // å¯ä»¥çœ‹åˆ°çš„ç¢ºæœ‰ä½¿ç”¨åˆ°é€™å€‹æ–¹æ³•æ¨æ–°è³‡æ–™é€²å» console.log(swiss); // { // airline: \u0026#39;Swiss Air Lines\u0026#39;, // iataCode: \u0026#39;LX\u0026#39;, // bookings: [ { flight: \u0026#39;LX583\u0026#39;, name: \u0026#39;George Cooper\u0026#39; } ] // }  // è‹¥ä½¿ç”¨calléœ€è¦å±•é–‹é™£åˆ—ï¼Œç›´æ¥å‚³åƒæ•¸æœ¬èº« book.call(swiss, ...flightData);   ä¸æœƒé¦¬ä¸ŠåŸ·è¡Œå‡½å¼çš„ç¶å®šæ–¹æ³•ï¼šBind  bind(thisArg, arg1, \u0026hellip; , argN) bind æ˜¯å‰µé€ ä¸€å€‹å‡½å¼ç‰©ä»¶çš„æ‹·è²ï¼Œä¸æœƒåŸ·è¡Œå‡½å¼ å› æ­¤ bind ä¹‹å¾Œé‚„è¦å†å¦å¤–å¯«åŸ·è¡Œå‡½å¼çš„å‹•ä½œ()ï¼Œè€Œ call æ˜¯ç›´æ¥åŸ·è¡Œå‡½å¼  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37  // ä½¿ç”¨å‰›å‰›çš„ç‰©ä»¶è·ŸåŸå‹æ–¹æ³• const lufthansa = { airline: \u0026#39;Lufthansa\u0026#39;, iataCode: \u0026#39;LH\u0026#39;, bookings: [], // book: function() {}  book(flightNum, name) { console.log( `${name}booked a seat on ${this.airline}flight ${this.iataCode}${flightNum}` ); this.bookings.push({ flight: `${this.iataCode}${flightNum}`, name }); }, }; const book = lufthansa.book; const eurowings = { airline: \u0026#39;Eurowings\u0026#39;, iataCode: \u0026#39;EW\u0026#39;, bookings: [], }; // è¤‡ç¿’ä¸€ä¸‹ ä¸‹æ–¹æ˜¯returnæ–°çš„å‡½å¼ç¶å®šthiså°è±¡ç‚ºeurowings // book.call(eurowings, 23, \u0026#39;Sarah Williams\u0026#39;);  // ä½¿ç”¨é€™å€‹é‚è¼¯æŠŠæŒ‡å‘ä¸åŒå°è±¡çš„bookå‡½å¼å­˜åˆ°ä¸åŒè®Šæ•¸ const bookEW = book.bind(eurowings); const bookLH = book.bind(lufthansa); const bookLX = book.bind(swiss); bookEW(23, \u0026#39;Steven Williams\u0026#39;); // æ¸¬è©¦ä¸€ä¸‹æœ‰work! Steven Williams booked a seat on Eurowings flight EW23  // å±¤å±¤åƒæ•¸ç¶å®š const bookEW23 = book.bind(eurowings, 23); // åªéœ€è¦å‚³ä¸€å€‹åƒæ•¸é€²å»å°±å¯ä»¥å‘¼å«è£¡é¢çš„æ–¹æ³•ï¼ŒæŸ¯é‡ŒåŒ– bookEW23(\u0026#39;Jonas Schmedtmann\u0026#39;); bookEW23(\u0026#39;Martha Cooper\u0026#39;);    å¦ä¸€å€‹å¸¸ç”¨çš„å ´æ™¯æ˜¯ç›£è½äº‹ä»¶  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  // With Event Listeners lufthansa.planes = 300; // è¨ˆæ•¸å™¨ lufthansa.buyPlane = function () { console.log(this); // ä½¿ç”¨ç›£è½æ™‚ thisæŒ‡å‘è§¸ç™¼eventå…ƒç´   this.planes++; console.log(this.planes); }; lufthansa.buyPlane(); // çš„ç¢ºæœ‰+1 è®Šæˆ301  document .querySelector(\u0026#39;.buy\u0026#39;) // æˆ‘å€‘ä¸å¸Œæœ›ç«‹å³è§¸ç™¼æ‰€ä»¥ä½¿ç”¨bindç¶å®šthisæŒ‡å‘å°è±¡ï¼Œç­‰clickå†åŸ·è¡Œ  .addEventListener(\u0026#39;click\u0026#39;, lufthansa.buyPlane.bind(lufthansa));    ç•¶å‡½å¼åŸ·è¡Œå…§å®¹ä¸åŒ…å« thisï¼Œé‚„æ˜¯å¯ä»¥ä½¿ç”¨ Bind ç¶å®šé this éƒ¨åˆ†çš„åƒæ•¸ï¼Œè®“å‡½å¼æ›´æœ‰å½ˆæ€§çš„è¢«åŸ·è¡Œ ä¸éœ€è¦ this çš„ç‹€æ³ä¸‹å¯« null å³å¯  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  // ä¸åŒç¨…ç‡çš„è¨ˆç®—æ‡‰ç”¨ const addTax = (rate, value) =\u0026gt; value + value * rate; // ä¸€èˆ¬å‡½å¼ä¸‹æ“ä½œ console.log(addTax(0.1, 200)); // 220  // ç”¨bindç¶å®šç¨…ç‡23% const addVAT = addTax.bind(null, 0.23); // ç­‰æ–¼ addVAT = value =\u0026gt; value + value * 0.23;  console.log(addVAT(100)); // 123  // å˜—è©¦ç”¨function return function æ”¹å¯«ä¸Šé¢bindæ–¹æ³• const addTax = function (rate) { return function (value) { return value + value * rate; }; }; const addVAT = addTax(0.23);   Immediately Invoked Function Expressions (IIFE) ç«‹å³åŸ·è¡Œå‡½å¼  åªæœƒåŸ·è¡Œä¸€æ¬¡çš„å‡½å¼ï¼ŒåŸ·è¡Œå®Œå°±é¦¬ä¸Šæ¶ˆå¤± å‡½å¼æœƒå‰µé€ ä½œç”¨åŸŸï¼Œå¤–éƒ¨ç„¡æ³•ç²å–å…§éƒ¨çš„è®Šæ•¸ ä¸æœƒæ±¡æŸ“å¤–éƒ¨è®Šæ•¸ï¼Œé©åˆç”¨åœ¨ç¬¬ä¸‰æ–¹å‡½å¼åº«  1 2 3 4 5 6 7 8  (function () { statements; })(); // ä¹Ÿå¯ä»¥å¯«ç®­é ­å‡½å¼ (()=\u0026gt; statements)() // ä½†ä¸æœƒå­˜å–åœ¨ä¸€å€‹è®Šæ•¸è£¡const abc = function () {statements}    åœ¨ä¹‹å‰çš„æ–‡ç« æœ‰ä»‹ç´¹éï¼Œconst let ä¹Ÿæœƒå‰µé€ å‡º block ä½œç”¨åŸŸï¼Œå¤–éƒ¨ç„¡æ³•ç²å–å…§éƒ¨åƒæ•¸ ä½† var æœƒè¢«ç²å–åˆ°  1 2 3 4 5 6 7 8  // blockå€åŸŸ { const state = 123; var state2 = 123; } console.log(state); // Uncaught ReferenceError: state is not defined console.log(state2); // 123    å› ç‚ºæœ‰äº† let const é™åˆ¶ä½ä½œç”¨åŸŸï¼Œå› æ­¤åœ¨ ES6 å¾Œå°±æ¯”è¼ƒå°‘ä½¿ç”¨åˆ° IIFE  Closure é–‰åŒ…  é–‰åŒ…ï¼ˆClosureï¼‰æ˜¯å‡½å¼ä»¥åŠè©²å‡½å¼è¢«å®£å‘Šæ™‚æ‰€åœ¨çš„ä½œç”¨åŸŸç’°å¢ƒï¼ˆlexical environmentï¼‰çš„çµ„åˆ å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡æ¥è§¸é–‰åŒ…è§€å¿µæ‡‰è©²æœƒæœ‰ä¸‹æ–¹åæ‡‰   é€™éƒ¨åˆ†æœƒéœ€è¦çŸ¥é“ä»€éº¼æ˜¯ä½œç”¨åŸŸè·ŸåŸ·è¡Œæ–‡æœ¬ï¼Œä¸ç†Ÿçš„è©±å¯ä»¥çœ‹ä¸€ä¸‹é€™ç¯‡ JavaScript åº•å±¤é‹ä½œåŸç† 101å†å›ä¾† æˆ‘å€‘ä»¥ä¸‹æ–¹å‡½å¼ä¾†è¬›è§£é–‰åŒ…çš„é‹ä½œ step1. å‰µé€ å…¨åŸŸåŸ·è¡Œæ–‡æœ¬ (å…¨åŸŸè®Šæ•¸ç’°å¢ƒï¼šsecureBooking=fn, booker=fn) step2. åŸ·è¡Œå…¨åŸŸåŸ·è¡Œæ–‡æœ¬ï¼Œå‰µé€ å‡ºå€‹åˆ¥åŸ·è¡Œæ–‡æœ¬ secureBooking()ä½œç”¨åŸŸï¼šå¯ä»¥ç²å–æœ¬åœ°ä½œç”¨åŸŸè·Ÿçˆ¶å±¤çš„ç’°å¢ƒè®Šæ•¸\n(è®Šæ•¸ç’°å¢ƒï¼špassengerCount=0, secureBooking=fn)\nç¨‹å¼è·‘åˆ° return function å¾Œï¼ŒsecureBooking()åŸ·è¡Œæ–‡æœ¬æ¶ˆå¤±ï¼Œå›å‚³çš„ function æŒ‡æ´¾çµ¦ booker\n(è®Šæ•¸ç’°å¢ƒï¼špassengerCount=0, secureBooking=fn, booker=fn) step3. åŸ·è¡Œå€‹åˆ¥æ–‡æœ¬\nåŸ·è¡Œ booker() (è®Šæ•¸ç’°å¢ƒï¼šempty, secureBooking=fn, booker=fn)\nç”±æ–¼æ‰€æœ‰å‡½å¼éƒ½å¯ä»¥ç²å–è¢«å‰µé€ ç•¶ä¸‹çš„åŸ·è¡Œæ–‡æœ¬(execution context)çš„è®Šæ•¸ç’°å¢ƒ(variable environment)\nå› ç‚º booker æ˜¯å…¨åŸŸä¸‹çš„è®Šæ•¸ï¼Œæ‰€ä»¥å¯å–å¾—å…¨åŸŸçš„secureBooking=fn, booker=fnçš„è®Šæ•¸ç’°å¢ƒï¼Œè€ŒsecureBooking()çš„è®Šæ•¸ç’°å¢ƒè£¡é¢æœ‰passengerCount=0  1 2 3 4 5 6 7 8 9 10  const secureBooking = function () { let passengerCount = 0; return function () { passengerCount++; console.log(`${passengerCount}passenger`); }; }; const booker = secureBooking(); booker(); // 1 passenger   step 1 \u0026amp; 2 å‰µé€ ï¼†åŸ·è¡Œå…¨åŸŸåŸ·è¡Œæ–‡æœ¬ï¼Œå‰µé€ å‡ºå€‹åˆ¥åŸ·è¡Œæ–‡æœ¬\nstep 3 åŸ·è¡Œå€‹åˆ¥æ–‡æœ¬\nç¸½çµ  é–‰åŒ…å»ºç«‹åœ¨æ‰€æœ‰å‡½å¼éƒ½å¯ä»¥ç²å–è¢«å‰µé€ ç•¶ä¸‹çš„åŸ·è¡Œæ–‡æœ¬çš„è®Šæ•¸ç’°å¢ƒçš„æ©Ÿåˆ¶ä¸‹ å³ä¾¿åŸ·è¡Œæ–‡æœ¬å·²ç¶“è¢«éŠ·æ¯€ï¼Œå‡½å¼é‚„æ˜¯å¯ä»¥é€éæŸç¨® ref ç²å–åˆ°é€™å€‹è®Šæ•¸ç’°å¢ƒ æ‰€ä»¥å¯ä»¥å–å¾— passengerCount = 0 çš„å€¼ï¼Œä¸”å¯ä»¥æŒçºŒæ›´æ–°é€™å€‹è®Šæ•¸  1 2 3  booker(); // 1 passenger booker(); // 2 passenger booker(); // 3 passenger   è¨»ï¼šå¦‚æœæƒ³çŸ¥é“é€™å€‹ç¥ç§˜çš„Closureè®Šæ•¸å­˜åœ¨å“ªè£¡çš„è©±ï¼Œå¯ä»¥åœ¨devtoolsè£¡console.dirå·å·çœ‹ä¸€ä¸‹åŒ¿åå‡½å¼çš„[[Scopes]]ä¸‹Closureçš„passengerCountè®Šæ•¸ã€‚ä½†å› ç‚ºæ˜¯privateä½œç”¨åŸŸæ‰€ä»¥ç„¡æ³•å­˜å–æˆ–ä¿®æ”¹ã€‚\n1 2 3 4 5  console.dir(booker); // ... [[Scopes]]: Scopes[3] 0: Closure (secureBooking) {passengerCount: 0}   ","date":"2022-01-12T00:00:00+08:00","image":"https://bacnotes.github.io/p/javascript-advanced-part1/javascript-removebg-preview_hu5afc4de35f8caf4a9ddf52b81b394066_38619_120x120_fill_box_smart1_3.png","permalink":"https://bacnotes.github.io/p/javascript-advanced-part1/","title":"JavaScript é€²éšå‡½å¼çŸ¥è­˜ ï½œThe Complete JavaScript Courseï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"æ­¡è¿ä¾†åˆ°JavaScriptåŸºç¤çŸ¥è­˜è¤‡ç¿’(3)ï¼Œé‚„è¨˜å¾— \u0026amp;\u0026amp; || ?? é€™ä¸‰å€‹é‚è¼¯é‹ç®—å­å—ï¼Ÿå…¶å¯¦ä»–å€‘å¯ä»¥è·ŸæŒ‡æ´¾é‹ç®—å­ä¸€èµ·ä½¿ç”¨ï¼Œå¦‚æœæ²’æœ‰æ¥è§¸éçš„å¯ä»¥å…ˆçœ‹çœ‹ç¬¬ä¸€ç¯‡JavaScript åŸºç¤çŸ¥è­˜è¤‡ç¿’(1)çš„ä»‹ç´¹å†ä¾†å¾€ä¸‹çœ‹å”·\né‚è¼¯é‹ç®—å­ + æŒ‡æ´¾é‹ç®—å­ \u0026amp;\u0026amp;= ||= ??=  ä¸‹æ–¹æ˜¯å…©å€‹é¤å»³è³‡æ–™ç‰©ä»¶ï¼Œå½¼æ­¤çš„å±¬æ€§ç•¥æœ‰ä¸åŒ  1 2 3 4 5 6 7 8 9  const restaurant1 = { name: \u0026#34;Carpi\u0026#34;, numGuests: 20, }; const restaurant2 = { name: \u0026#34;La Piazza\u0026#34;, owner: \u0026#34;Giovanni Rossi\u0026#34;, };    ç•¶æˆ‘å€‘æƒ³å¢åŠ ç‰©ä»¶å…§çš„å±¬æ€§ï¼Œå¯ä»¥ç”¨é‚è¼¯é‹ç®—å­çš„æ–¹å¼æ·»åŠ   1 2 3 4  restaurant1.numGuests = restaurant1.numGuests || 10; // å±¬æ€§å­˜åœ¨ä¸æœƒæœ‰è®Šå‹• restaurant2.numGuests = restaurant2.numGuests || 10; // æ²’æœ‰é€™å€‹å±¬æ€§ï¼Œæ–°å¢ä¸€å€‹numGuests: 10 console.log(restaurant1); // { name: \u0026#39;Carpi\u0026#39;, numGuests: 20 } console.log(restaurant2); // { name: \u0026#39;La Piazza\u0026#39;, owner: \u0026#39;Giovanni Rossi\u0026#39;, numGuests: 10 }    ä½†é‚„å¯ä»¥å¯«å¾—æ›´ç²¾ç°¡ï¼Œä½¿ç”¨é‚è¼¯é‹ç®—å­ + æŒ‡æ´¾é‹ç®—å­ï¼Œè·Ÿä¸Šæ–¹çš„çµæœæ˜¯ä¸€æ¨£çš„  1 2 3 4  restaurant1.numGuests ||= 10; // å±¬æ€§å­˜åœ¨ä¸æœƒæœ‰è®Šå‹• restaurant2.numGuests ||= 10; // æ²’æœ‰é€™å€‹å±¬æ€§ï¼Œæ–°å¢ä¸€å€‹numGuests: 10 console.log(restaurant1); // { name: \u0026#39;Carpi\u0026#39;, numGuests: 20 } console.log(restaurant2); // { name: \u0026#39;La Piazza\u0026#39;, owner: \u0026#39;Giovanni Rossi\u0026#39;, numGuests: 10 }    é‡åˆ° numGuests æ•¸é‡ç‚º0ï¼Œæœƒå›  falsy æ›´æ–°æˆå¾Œé¢çš„å€¼ï¼Œé€™å€‹é‚è¼¯ä¸æ˜¯æˆ‘å€‘æœŸå¾…çš„çµæœå¯ä»¥ä½¿ç”¨??= çš„æ–¹å¼é¿å…é€™å€‹å•é¡Œ ç•¶å±¬æ€§ null ä¸å­˜åœ¨æˆ– undefinedï¼Œä½¿ç”¨å¾Œæ–¹çš„å€¼å¢åŠ é€™å€‹å±¬æ€§  1 2 3 4  restaurant1.numGuests ??= 10; restaurant2.numGuests ??= 10; console.log(restaurant1); // { name: \u0026#39;Carpi\u0026#39;, numGuests: 20 } console.log(restaurant2); // { name: \u0026#39;La Piazza\u0026#39;, owner: \u0026#39;Giovanni Rossi\u0026#39;, numGuests: 10 }    ç•¶æˆ‘å€‘æƒ³æ›´æ–°å±¬æ€§å€¼çš„æ™‚å€™å‰‡å¯ä»¥ä½¿ç”¨\u0026amp;\u0026amp;=ï¼Œå¦‚æœé€™å€‹å±¬æ€§ä¸å­˜åœ¨æœƒå›å‚³ undefined  1 2 3 4 5 6 7  // æ›´æ–°ç¬¬ä¸€å®¶é¤å»³çš„å®¢æˆ¶æ•¸é‡ restaurant1.numGuests \u0026amp;\u0026amp;= 300; console.log(restaurant1); // {name: \u0026#39;Carpi\u0026#39;, numGuests: 300}  // æ›´æ–°ç¬¬äºŒå®¶é¤å»³çš„owner restaurant2.owner \u0026amp;\u0026amp;= \u0026#34;Mars\u0026#34;; console.log(restaurant2); // {name: \u0026#39;La Piazza\u0026#39;, owner: \u0026#39;Mars\u0026#39;, numGuests: 10}   for è¿´åœˆèªæ³•ç³–ï¼šfor of è¿­ä»£å…ƒç´ ã€for in è¿­ä»£å±¬æ€§  æ¯æ¬¡å¯« for è¿´åœˆéƒ½è¦ºå¾—å¯«è¨ˆæ•¸å™¨è·Ÿè¿­ä»£æ¢ä»¶å¾ˆéº»ç…©å—ï¼Ÿå…¶å¯¦é‚„æœ‰æ›´ç°¡å–®çš„å¯«æ³• ä¸€æ¨£å¯ä»¥æ­é…ä½¿ç”¨ continue è·Ÿ break èªæ³•  for of è¿´åœˆè¿­ä»£é™£åˆ—è£¡çš„å…ƒç´   for (const é™£åˆ—å…ƒç´  of é™£åˆ—) è¿­ä»£å…ƒç´   1 2 3 4 5 6 7 8  const menu = [\u0026#34;Focaccia\u0026#34;, \u0026#34;Bruschetta\u0026#34;, \u0026#34;Garlic Bread\u0026#34;]; for (const item of menu) { console.log(item); } // Focaccia // Bruschetta // Garlic Bread   for in è¿´åœˆè¿­ä»£ç‰©ä»¶å±¬æ€§  for in è¿­ä»£å±¬æ€§  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  const openingHours = { mon: { open: 10, close: 16, }, tue: { open: 12, close: 18, }, }; for (const day in openingHours) { console.log(day); } // mon // tue    for in æ­é…å–å€¼çš„bracket[]è¿­ä»£å€¼  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  const openingHours = { mon: { open: 10, close: 16, }, tue: { open: 12, close: 18, }, }; for (const day in openingHours) { console.log(openingHours[day]); } // mon // tue    for..in ä¸æ‡‰è©²ç”¨ä¾†è¿­ä»£ä¸€å€‹ç´¢å¼•é †åºå¾ˆé‡è¦çš„é™£åˆ—ã€‚ é™£åˆ—ç´¢å¼•åªæ˜¯ä»¥æ•´æ•¸å‘½åçš„å¯åˆ—èˆ‰å±¬æ€§ï¼Œå…¶ä»–æ–¹é¢ç­‰åŒæ–¼ä¸€èˆ¬ç‰©ä»¶å±¬æ€§ã€‚ ç„¡æ³•æ“”ä¿ for\u0026hellip;in ä»¥ç‰¹å®šé †åºå‚³å›ç´¢å¼•ï¼Œä¸¦ä¸”å®ƒå°‡å‚³å›å…¨éƒ¨å¯åˆ—èˆ‰å±¬æ€§ï¼ŒåŒ…æ‹¬éæ•´æ•¸åçš„ï¼Œä»¥åŠç¹¼æ‰¿è€Œä¾†çš„å¯åˆ—èˆ‰å±¬æ€§ã€‚  ä½¿ç”¨ Object.keys()ã€Object.values() è¿­ä»£ç‰©ä»¶å±¬æ€§åæˆ–å€¼ Object.keys è¿­ä»£ç‰©ä»¶å±¬æ€§åæˆä¸€å€‹é™£åˆ—  Object.keys(obj)  1 2 3 4 5 6 7 8 9 10 11 12  const openingHours = { mon: { open: 10, close: 16, }, tue: { open: 12, close: 18, }, }; console.log(Object.keys(openingHours)); // [\u0026#39;mon\u0026#39;, \u0026#39;tue\u0026#39;]   1 2 3 4 5 6  - Object.keys()å¯æ­é… for of è¿­ä»£å‡ºé™£åˆ—å…ƒç´ (å€¼) for (const day of Object.keys(openingHours)){ console.log(day) } // mon // tue    è·Ÿ for in è¿´åœˆè¿­ä»£é †åºç›¸åŒä½† for in é‚„æœƒåˆ—èˆ‰å‡º prototype çš„å±¬æ€§  Object.values è¿­ä»£ç‰©ä»¶å€¼æˆä¸€å€‹é™£åˆ—  Object.values(obj)  1 2 3 4 5 6 7 8 9 10 11 12  const openingHours = { mon: { open: 10, close: 16, }, tue: { open: 12, close: 18, }, }; console.log(Object.values(openingHours)); // [{open: 10, close: 16}, {open: 12, close: 18}]   åŒæ™‚è¿­ä»£é™£åˆ—æˆ–ç‰©ä»¶çš„å±¬æ€§è·Ÿå€¼ï¼šé™£åˆ—.entries() Object.entries(Obj) é™£åˆ— array.prototype.entries() 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  const menu = [\u0026#34;Focaccia\u0026#34;, \u0026#34;Bruschetta\u0026#34;, \u0026#34;Garlic Bread\u0026#34;]; for (const item of menu.entries()) { console.log(item); } // [ 0, \u0026#39;Focaccia\u0026#39; ] // [ 1, \u0026#39;Bruschetta\u0026#39; ] // [ 2, \u0026#39;Garlic Bread\u0026#39; ]  // ...å±•é–‹é™£åˆ— for (const item of menu.entries()) { console.log(...item); } // 0 Focaccia // 1 Bruschetta // 2 Garlic Bread  // ä½¿ç”¨è§£æ§‹è³¦å€¼ï¼Œä¸¦å¾1é–‹å§‹å‘ˆç¾ for (const [index, item] of menu.entries()) { console.log(`${index + 1}: ${item}`); } // 1: Focaccia // 2: Bruschetta // 3: Garlic Bread   ç‰©ä»¶ Object.entries(obj)  è·Ÿ for in è¿´åœˆè¿­ä»£é †åºç›¸åŒä½† for in é‚„æœƒåˆ—èˆ‰å‡º prototype çš„å±¬æ€§  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  const openingHours = { mon: { open: 10, close: 16, }, tue: { open: 12, close: 18, }, }; // å±¬æ€§key å€¼value for (const [key, { open, close }] of Object.entries(openingHours)) { console.log(`On ${key}, we open at${open}and close at ${close}`); } // On mon, we open at10 and close at 16 // On tue, we open at12 and close at 18   Enhanced Object Literals ç•¶è®Šæ•¸è·Ÿå±¬æ€§åç¨±ç›¸åŒå¯çœç•¥ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  // è®Šæ•¸name è·Ÿ openingHours const name = \u0026#39;Great Restaurant\u0026#39;, const openingHours = { mon: { open: 10, close: 16, }, tue: { open: 12, close: 18 } } // ä»¥å¾€ç‰©ä»¶è³¦å€¼ï¼Œéœ€è¦å±¬æ€§keyè·Ÿå€¼valueéƒ½å¯«ä¸Šå» const restaurant = { name: name, openingHours:openingHours, location: \u0026#39;France\u0026#39; } // ç¾åœ¨åªè¦å±¬æ€§è·Ÿè®Šæ•¸åä¸€æ¨£ï¼Œå–®å¯«å±¬æ€§å°±å¥½ï¼Œç¨‹å¼ç¢¼æœƒå¹«ä½ æŠŠå€¼å°èµ·ä¾† const restaurant = { name, openingHours, location: \u0026#39;France\u0026#39; }   ç‰©ä»¶æ–¹æ³•å¯çœç•¥å†’è™Ÿè·Ÿ function 1 2 3 4 5 6 7 8 9  // éå»æœƒå¯«æˆ order: function (a,b){ return a + b } // å¯ä»¥ç°¡å¯«æˆ é•·å¾—å°±è·Ÿå®£å‘Šå‡½å¼ä¸€æ¨£ order(a, b) { return a + b }   è¡¨é”å¼ä½œç‚ºç‰©ä»¶çš„å±¬æ€§å 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  const weekdays = [\u0026#34;mon\u0026#34;, \u0026#34;tue\u0026#34;, \u0026#34;wed\u0026#34;, \u0026#34;thu\u0026#34;, \u0026#34;fri\u0026#34;]; const openingHours = { [weekdays[2]]: { open: 12, close: 18, }, [`day-${2 + 4}`]: { open: 13, close: 19, }, }; console.log(openingHours); // day-6: {open: 13, close: 19} // wed: {open: 12, close: 18}   Optional Chaining(ES2020) ?.  ç•¶è³‡æ–™æœ¬èº«å¾ˆå¤šå±¬æ€§ä¸”æ¯ç­†è³‡æ–™ä¸ä¸€å®šå­˜åœ¨é€™å€‹å±¬æ€§ï¼Œè®€å–åˆ°ä¸å­˜åœ¨çš„å±¬æ€§æœƒè·³å‡º Uncaught TypeError ä½¿ç”¨?.è®€å–å±¬æ€§ï¼Œè‹¥ä¸å­˜åœ¨ null æˆ– undefinedï¼Œæœƒç«‹å³å›å‚³ undefinedï¼Œå¯ä»¥é¿å…ä¸Šæ–¹çš„ Uncaught TypeError è‹¥ç‚º 0 \u0026lsquo;\u0026lsquo;æœƒå›å‚³ç›¸å°æ‡‰çš„å€¼ï¼Œåªæœ‰ null undefined æœƒå›å‚³ undefined å¸¸æ­é…??ä¸€èµ·ä½¿ç”¨  å±¬æ€§åŠ ä¸Š Optional Chaining 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39  const openingHours = { mon: { open: 10, close: 16, }, tue: { open: 12, close: 18 }, wed: { open: 12, close: 18 } } const restaurant = { name: \u0026#39;Great restaurant\u0026#39;, openingHours } // ä½¿ç”¨é‚è¼¯é‹ç®—å­çš„å¯«æ³• ç•¶å±¬æ€§å­˜åœ¨æ‰åŸ·è¡Œï¼ˆä½†è³‡æ–™ä¸€å¤šæœƒåè¡€ï¼‰ if(restaurant.openingHours \u0026amp;\u0026amp; restaurant.openingHours.mon) console.log(restaurant.openingHours.mon.open) // ä½¿ç”¨Optional Chainingçš„å¯«æ³• ç°¡çŸ­ console.log(restaurant.openingHours?.mon?.open) // åŠ ä¸Šè¿­ä»£for of æƒ³çŸ¥é“å¹³æ—¥å¹¾é»é–‹é–€ const weekdays = [\u0026#39;mon\u0026#39;, \u0026#39;tue\u0026#39;, \u0026#39;wed\u0026#39;, \u0026#39;thu\u0026#39;, \u0026#39;fri\u0026#39;] for (const weekday of weekdays){ // é¿å…undefinedå‡ºç¾ ä½¿ç”¨??è¨­å®šé è¨­å€¼ not open  const open = restaurant.openingHours[weekday]?.open ??\u0026#39;not open\u0026#39; console.log(`On ${weekday}, ${open}`) } // On mon, 10 // On tue, 12 // On wed, 12 // On thu, not open // On fri, not open   ç‰©ä»¶æ–¹æ³•åŠ ä¸Š Optional Chaining  ç¢ºèªæ–¹æ³•æ˜¯å¦å­˜åœ¨  1 2 3 4 5 6 7 8 9 10  const restaurant = { order(starterIndex, mainIndex) { return \u0026#34;Order!\u0026#34;; }, orderDelivery({ starterIndex = 1, mainIndex }) { return \u0026#34;OrderDelivery!\u0026#34;; }, }; console.log(restaurant.order?.(0, 1) ?? \u0026#34;Method not existed\u0026#34;); // Order! console.log(restaurant.orderRisotto?.(0, 1) ?? \u0026#34;Method not exist\u0026#34;); // \u0026#39;Method not exist\u0026#39;   é™£åˆ—åŠ ä¸Š Optional Chaining  æª¢æŸ¥é™£åˆ—æ˜¯å¦æœ‰è³‡æ–™  1 2 3 4 5 6 7 8  const users = [{ name: \u0026#39;Jonas\u0026#39;, email: \u0026#39;hello@jonas.com\u0026#39;}] // éå»å¯èƒ½è¦å¯« if(users.length \u0026gt; 0) console.log(users[0].name) else console.log(\u0026#39;User array empty\u0026#39;) // ä½¿ç”¨Optional Chaining å¯«èµ·ä¾†æ›´ç²¾ç°¡ console.log(users[0]?.name ?? \u0026#39;User array empty\u0026#39;)   Set  é•·å¾—åƒé™£åˆ—ï¼Œæ˜¯å…ƒç´ çš„é›†åˆï¼Œå…ƒç´ å¯ä»¥æ˜¯ä»»ä½•è³‡æ–™æ ¼å¼ Set ä¸­æ‰€æœ‰çš„å…ƒç´ éƒ½æ˜¯å”¯ä¸€çš„ (unique values)ï¼Œä¸æœƒæœ‰é‡è¤‡çš„å€¼ï¼Œç•¶ä½ å­˜å…¥é‡è¤‡çš„å…ƒç´ (å€¼)æœƒè¢«å¿½ç•¥ Set å…§éƒ¨æœƒç”¨ === ä¾†åˆ¤æ–·æ˜¯å¦æœ‰é‡è¤‡å€¼ï¼Œå”¯ä¸€çš„ä¾‹å¤–æ˜¯ NaN æœƒè¢«åˆ¤æ–·ä½œæ˜¯é‡è¤‡çš„å€¼(é›–ç„¶ NaN !== NaN) å…ƒç´ æ•¸é‡è¨ˆç®—ä½¿ç”¨.size  1 2  const someSet = new Set([a, b, c]); console.log(someSet.size); // 3    .has(\u0026lsquo;å…ƒç´ \u0026rsquo;)æª¢æŸ¥æ˜¯å¦æœ‰åŒ…å«å…ƒç´   1 2  const someSet = new Set([a, b, c]); console.log(someSet.has(\u0026#34;a\u0026#34;)); // true    å¢åŠ èˆ‡åˆªé™¤å…ƒç´  .add() .delete() .clear()  1 2 3 4 5 6  someSet.add(\u0026#34;d\u0026#34;); console.log(someSet); // [a, b, c, d] someSet.delete(\u0026#34;a\u0026#34;); console.log(someSet); // [b, c, d] someSet.clear(); console.log(someSet); // []    ç„¡æ³•ç”¨ index å¾ Set ä¸­æŠŠå€¼å–å‡ºï¼Œæœƒå›å‚³ undefined å¯ä»¥è¿­ä»£  1 2  const someSet = new Set([a, b, c]); for (const item of someSet) console.log(item); // a b c    æŸ¥è©¢è³‡æ–™ä¸­ä¸é‡è¤‡å…ƒç´ çš„æ•¸é‡  1 2 3  const classmate = [\u0026#34;a\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;b\u0026#34;]; const classmateSet = new Set(classmate); console.log(classmateSet.size);    æŠŠ Set è®Šä¸é‡è¤‡å…ƒç´ çš„é™£åˆ—  1 2 3  const classmate = [\u0026#34;a\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;b\u0026#34;]; const classmateSet = [...new Set(classmate)]; console.log(classmateSet); // [ \u0026#39;a\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39;, \u0026#39;b\u0026#39; ]   Map  é•·å¾—åƒç‰©ä»¶ï¼Œkey value pair çš„çµ„åˆï¼Œå¯ä»¥è¨˜ä½ key çš„åŸå§‹åŠ å…¥ Map çš„é †åº å¯ä»¥è¿­ä»£ï¼Œè¿­ä»£é †åºç‚ºåŠ å…¥ Map çš„é †åº åœ¨ Map åˆ¤æ–· NaN è·Ÿ NaN ç›¸ç­‰ï¼ˆé›–ç„¶ NaN !== NaNï¼‰ï¼Œå‰©ä¸‹çš„å€¼ä½¿ç”¨=== åˆ¤æ–·æ˜¯å¦ç›¸ç­‰  æ–°å»ºæ§‹ä¸€å€‹ Map 1  const restaurant = new Map(); //è£¡é¢æ˜¯ç©ºçš„ è·Ÿç‰©ä»¶æœ‰prototypeä¸åŒ    æ–°å¢ key ä½¿ç”¨.set(key, value) key å€¼çš„ä¸é™æ–¼å­—ä¸²ï¼Œå¯ä»¥æ˜¯ä»»ä½•è³‡æ–™å‹æ…‹ï¼ˆnumberã€arrayã€objectã€functionã€symbol)  1 2 3 4 5  console.log(restaurant.set(1, \u0026#34;Firenze, Italy\u0026#34;)); // Map(1) { 1 =\u0026gt; \u0026#39;Firenze, Italy\u0026#39; }  console.log(restaurant.set(2, \u0026#34;Tokyo, Japan\u0026#34;)); // Map(2) { 1 =\u0026gt; \u0026#39;Firenze, Italy\u0026#39;, 2 =\u0026gt; \u0026#39;Tokyo, Japan\u0026#39; }    set çš„æ™‚å€™ä¸åªæœƒæ›´æ–° Map å…§éƒ¨è³‡æ–™ï¼Œä¹Ÿæœƒå›å‚³ä¸€å€‹æ–°çš„ Mapï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥é€£çºŒ.set é€£çºŒæ–°å¢å¾ˆå¤šè³‡æ–™  1 2 3 4 5 6 7 8 9 10 11 12 13  restaurant .set(\u0026#34;categories\u0026#34;, [\u0026#34;Italian\u0026#34;, \u0026#34;Pizzeria\u0026#34;]) .set(\u0026#34;open\u0026#34;, 11) .set(\u0026#34;close\u0026#34;, 23) .set(true, \u0026#34;we are open\u0026#34;); console.log(restaurant); // Map(4) { // \u0026#39;categories\u0026#39; =\u0026gt; [ \u0026#39;Italian\u0026#39;, \u0026#39;Pizzeria\u0026#39; ], // \u0026#39;open\u0026#39; =\u0026gt; 11, // \u0026#39;close\u0026#39; =\u0026gt; 23, // true =\u0026gt; \u0026#39;we are open\u0026#39; // }   ä½¿ç”¨ get ç²å– key çš„å°æ‡‰å€¼ 1 2 3  restaurant.set(1, \u0026#34;Test\u0026#34;); console.log(restaurant.get(1)); // \u0026#39;Test\u0026#39;   è®€å– key å€¼åŠ ä¸Šé‚è¼¯åˆ¤æ–·åšæ¢ä»¶æ¸²æŸ“ 1 2 3 4 5 6 7 8 9 10 11 12 13  // æ–°å¢ä»¥ä¸‹key restaurant.set(\u0026#34;open\u0026#34;, 11); restaurant.set(\u0026#34;close\u0026#34;, 21); restaurant.set(true, \u0026#34;we are open\u0026#34;); restaurant.set(false, \u0026#34;we are closed\u0026#34;); // åˆ¤æ–·ç‡Ÿæ¥­æ™‚é–“ const time = 21; console.log( restaurant.get( time \u0026gt; restaurant.get(\u0026#34;open\u0026#34;) \u0026amp;\u0026amp; time \u0026lt; restaurant.get(\u0026#34;close\u0026#34;) ) ); // we are closed   ä½¿ç”¨.size æŸ¥è©¢è³‡æ–™é•·åº¦ 1  console.log(restaurant.size); //6   ä½¿ç”¨ has ç¢ºèªæ˜¯å¦åŒ…å«æŸå€‹ keyï¼Œå›å‚³ true false 1 2  console.log(restaurant.has(true)); //true console.log(restaurant.has(false)); //true   ä½¿ç”¨ delete åˆªé™¤å…ƒç´  clear æ¸…ç©ºå…ƒç´  1 2 3 4 5 6 7 8 9 10 11  restaurant.delete(1); console.log(restaurant); // Map(5) { // 2 =\u0026gt; \u0026#39;Tokyo, Japan\u0026#39;, // \u0026#39;open\u0026#39; =\u0026gt; 11, // \u0026#39;close\u0026#39; =\u0026gt; 21, // true =\u0026gt; \u0026#39;we are open\u0026#39;, // false =\u0026gt; \u0026#39;we are closed\u0026#39; // } restaurant.clear(); // Map(0) {}    æ³¨æ„ï¼šç‰©ä»¶å¦‚æœä¸æ˜¯ ref çš„æ–¹å¼çµ¦å€¼ï¼Œç„¡æ³•è®€å–åˆ°å°æ‡‰ value  1 2 3 4 5 6 7 8  restaurant.set([1, 2], \u0026#34;Test\u0026#34;); console.log(restaurant.get([1, 2])); // undefined  const arr = [1, 2]; restaurant.set(arr, \u0026#34;Test\u0026#34;); console.log(restaurant.get(arr)); // \u0026#39;Test\u0026#39;   å¯ä»¥ç¶å®š DOM å…ƒç´  1 2 3  restaurant.set(document.querySelector(\u0026#34;h1\u0026#34;), \u0026#34;Heading\u0026#34;); console.log(restaurant.get(\u0026#34;h1\u0026#34;)); //Map(1) {h1.bold-title.is-1 =\u0026gt; \u0026#39;Heading\u0026#39;}   ç‰©ä»¶è½‰ Map  Object.entries(obj) çµ„æˆå·¢ç‹€é™£åˆ—ï¼Œnew Map è½‰æˆ Map  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  const openingHours = { mon: { open: 10, close: 16, }, tue: { open: 12, close: 18, }, }; console.log(Object.entries(openingHours)); //[ // [ \u0026#39;mon\u0026#39;, { open: 10, close: 16 } ], // [ \u0026#39;tue\u0026#39;, { open: 12, close: 18 } ] //] // const hoursMap = new Map(Object.entries(openingHours)); console.log(hoursMap); //Map(2) { // \u0026#39;mon\u0026#39; =\u0026gt; { open: 10, close: 16 }, // \u0026#39;tue\u0026#39; =\u0026gt; { open: 12, close: 18 } //}   è¿­ä»£ Map key value   å»ºè­°è¿­ä»£çµæ§‹ç‚ºå·¢ç‹€é™£åˆ—(åŒ Object.entries(obj)æˆ–[\u0026hellip;array.entries()]è¼¸å‡ºçš„çµæ§‹) // [[\u0026lsquo;key\u0026rsquo;, {value}], [\u0026lsquo;key\u0026rsquo;, {value}], [\u0026lsquo;key\u0026rsquo;, {value}]]\n  ä½¿ç”¨å±•é–‹é‹ç®—å­æ­é….keys()æˆ–.values()ï¼Œä¸¦å°‡è¿­ä»£å‡ºçš„å…ƒç´ æ”¾å…¥ä¸€å€‹æ–°é™£åˆ—\n  ç›´æ¥ä½¿ç”¨.keys()æˆ–.values()æœƒå‡ºç¾[Map Iterator] { \u0026lsquo;question\u0026rsquo;, 1, 2, 3, \u0026lsquo;correct\u0026rsquo;, true, false }\n  1 2 3 4 5 6 7 8 9  const question = new Map([ [\u0026#34;question\u0026#34;, \u0026#34;What is the best programming language in the world?\u0026#34;], [1, \u0026#34;C\u0026#34;], [2, \u0026#34;Java\u0026#34;], [3, \u0026#34;JavaScript\u0026#34;], [\u0026#34;correct\u0026#34;, 3], [true, \u0026#34;Correct ğŸ‰\u0026#34;], [false, \u0026#34;Try again!\u0026#34;], ]);    å…ˆçœ‹çœ‹å±•é–‹é‹ç®—å­å¤–å±¤åŠ ä¸Šé™£åˆ—çš„çµæœ console.log([\u0026hellip;question]) ç­‰æ–¼ console.log([\u0026hellip;question.entries())  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33  //[ // [ \u0026#39;question\u0026#39;, \u0026#39;What is the best programming language in the world?\u0026#39; ], // [ 1, \u0026#39;C\u0026#39; ], // [ 2, \u0026#39;Java\u0026#39; ], // [ 3, \u0026#39;JavaScript\u0026#39; ], // [ \u0026#39;correct\u0026#39;, 3 ], // [ true, \u0026#39;Correct ğŸ‰\u0026#39; ], // [ false, \u0026#39;Try again!\u0026#39; ] //]  // è¿­ä»£Map key console.log([...question.keys()]); // [\u0026#39;question\u0026#39;, 1, 2, 3, \u0026#39;correct\u0026#39;, true, false]  // è¿­ä»£Map value console.log([...question.values()]); // [\u0026#39;What is the best programming language in the world?\u0026#39;, \u0026#39;C\u0026#39;, \u0026#39;Java\u0026#39;, \u0026#39;JavaScript\u0026#39;, 3, \u0026#39;Correct ğŸ‰\u0026#39;, \u0026#39;Try again!\u0026#39;]  // å•ç­” console.log(question.get(\u0026#34;question\u0026#34;)); // What is the best programming language in the world? for (const [key, value] of question) { if (typeof key === \u0026#34;number\u0026#34;) console.log(`Answer ${key}: ${value}`); } // Anwser 1: C // Anwser 2: Java // Anwser 3: JavaScript  const answer = Number(prompt(\u0026#34;Your Anwser\u0026#34;)); console.log(answer); // å•ç­”ç”¨å¸ƒæ—åˆ¤æ–· è‹¥ç­”æ¡ˆ3 ä¸‹æ–¹åˆ¤æ–·æ˜¯ç‚ºtrue é¡¯ç¤º\u0026#39;Correct ğŸ‰\u0026#39; question.get(question.get(\u0026#34;correct\u0026#34;) === answer);   å¦‚ä½•æ±ºå®šè³‡æ–™çµæ§‹ è€ƒé‡è³‡æ–™ä¾†æº  ç¨‹å¼æœ¬èº« 2. UI äº’å‹•ä»‹é¢ 3. API(JSON æ ¼å¼{a, b:[{},{}\u0026hellip;], c})  è³‡æ–™çµæ§‹  list (å¯ç”¨é™£åˆ—æˆ– set) key value pairs (å¯ç”¨ obj æˆ– map)  ä½•æ™‚é©åˆ Set è€Œä¸æ˜¯é™£åˆ—å‘¢  éœ€è¦ list è£¡é¢éƒ½æ˜¯å”¯ä¸€å€¼(ä¸èƒ½æœ‰é‡è¤‡å€¼) ä¸éœ€è¦ç´¢å¼•å–å€¼ ä¸éœ€è¦å°è³‡æ–™åšæ“ä½œ éœ€è¦é«˜æ•ˆèƒ½æŸ¥æ‰¾  ä½•æ™‚é©åˆ Map è€Œä¸æ˜¯ç‰©ä»¶å‘¢  éœ€è¦å°è³‡æ–™é »ç¹æ“ä½œï¼Œä¿æŒé«˜æ•ˆèƒ½ ç•¶è³‡æ–™æ’å…¥é †åºæ˜¯éœ€è¦è€ƒæ…®çš„å› ç´  éœ€è¦ä½¿ç”¨ä¸åŒè³‡æ–™å‹æ…‹çš„ keyï¼ˆä¸é™æ–¼ string å’Œ symbol ä½œç‚º key) æ–¹ä¾¿è¿­ä»£è·Ÿè¨ˆç®—å¤§å° size æ¯”è¼ƒå°‘éœ€è¦å–®ç¨å°éƒ¨åˆ†è³‡æ–™åšæ“ä½œ(ç‰©ä»¶æ¯”è¼ƒæ–¹ä¾¿ç”¨.è·Ÿ[]å–å€¼)  èª²ç¨‹å°ç·´ç¿’ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150  // challenge 1 const game = { team1: \u0026#34;Bayern Munich\u0026#34;, team2: \u0026#34;Borrussia Dortmund\u0026#34;, players: [ [ \u0026#34;Neuer\u0026#34;, \u0026#34;Pavard\u0026#34;, \u0026#34;Martinez\u0026#34;, \u0026#34;Alaba\u0026#34;, \u0026#34;Davies\u0026#34;, \u0026#34;Kimmich\u0026#34;, \u0026#34;Goretzka\u0026#34;, \u0026#34;Coman\u0026#34;, \u0026#34;Muller\u0026#34;, \u0026#34;Gnarby\u0026#34;, \u0026#34;Lewandowski\u0026#34;, ], [ \u0026#34;Burki\u0026#34;, \u0026#34;Schulz\u0026#34;, \u0026#34;Hummels\u0026#34;, \u0026#34;Akanji\u0026#34;, \u0026#34;Hakimi\u0026#34;, \u0026#34;Weigl\u0026#34;, \u0026#34;Witsel\u0026#34;, \u0026#34;Hazard\u0026#34;, \u0026#34;Brandt\u0026#34;, \u0026#34;Sancho\u0026#34;, \u0026#34;Gotze\u0026#34;, ], ], score: \u0026#34;4:0\u0026#34;, scored: [\u0026#34;Lewandowski\u0026#34;, \u0026#34;Gnarby\u0026#34;, \u0026#34;Lewandowski\u0026#34;, \u0026#34;Hummels\u0026#34;], date: \u0026#34;Nov 9th, 2037\u0026#34;, odds: { team1: 1.33, x: 3.25, team2: 6.5, }, }; // åˆ†çµ„ const [players1, players2] = game.players; console.log(players1); console.log(players2); // çµ„è£¡é¢æœ‰å…©ç¨®è§’è‰² å®ˆé–€å“¡gkè·Ÿ å…¶ä»–çƒå“¡ const [gk, ...fieldPlayers] = players1; console.log(gk, fieldPlayers); // æŠŠæ‰€æœ‰éšŠä¼äººçš„æ”¾é€²å»ä¸€å€‹é™£åˆ— const allPlayers = [...players1, ...players2]; console.log(allPlayers); // æ–°å¢ä¸‰å€‹å€™è£œ const players1Final = [...players1, \u0026#34;Thiago\u0026#34;, \u0026#34;Coutinho\u0026#34;, \u0026#34;Perisic\u0026#34;]; console.log(players1Final); // è§£æ§‹è³¦å€¼å–å‡ºè®Šæ•¸ xçš„è®Šæ•¸åæ”¹ç‚ºdraw const { odds: { team1, x: draw, team2 }, } = game; console.log(team1, draw, team2); // ä¸Ÿä¸€å †åå­—é€²å»ï¼Œä½¿ç”¨å…¶é¤˜é‹ç®—å­åˆä½µæˆé™£åˆ—ï¼Œlengthè¨ˆç®—é•·åº¦ function printGoals(...players) { console.log(`${players.length}goals were scored`); } printGoals(\u0026#34;Davies\u0026#34;, \u0026#34;Muller\u0026#34;, \u0026#34;Lewandowski\u0026#34;, \u0026#34;Kimmich\u0026#34;); // å‹ç‡æ¯”å¤§å° ä¸Šé¢å·²ç¶“æœ‰å¯«å‡ºteam1å‹ç‡è·Ÿteam2å‹ç‡ team1 \u0026gt; team2 \u0026amp;\u0026amp; console.log(\u0026#34;Team 1 is more likely to win\u0026#34;); team1 \u0026lt; team2 \u0026amp;\u0026amp; console.log(\u0026#34;Team 2 is more likely to win\u0026#34;); // challenge 2 // ä¾åºåˆ—å°å‡ºgame.scored array è£¡é¢çš„çƒå“¡ Goal 1: Lewandowski for (const [index, item] of game.scored.entries()) console.log(`Goal ${index + 1}: ${item}`); // éœ€è¦ç®—å‡ºteam1 x team2å¹³å‡æ•¸ ç´¯åŠ value / é•·åº¦ const odds = Object.values(game.odds); // [ 1.33, 3.25, 6.5 ] let sum = 0; for (const item of odds) { sum += item; } console.log(sum / odds.length); // åˆ—å°å‡º // Odd of victory Bayern Munich: 1.33 // Odd of draw: 3.25 // Odd of victory Borrussia Dortmund: 6.5  for (const [team, odd] of Object.entries(game.odds)) { // Object.entries(game.odds) // [ [ \u0026#39;team1\u0026#39;, 1.33 ], [ \u0026#39;x\u0026#39;, 3.25 ], [ \u0026#39;team2\u0026#39;, 6.5 ] ]  const teamStr = team === \u0026#34;x\u0026#34; ? \u0026#34;draw\u0026#34; : `victory ${game[team]}`; // æ¯æ¬¡loopå‡ºä¾†çš„teamæ˜¯å­—ä¸²ï¼Œæ‰€ä»¥å¯ä»¥ç”¨é€™å€‹[]æ–¹å¼å–å€¼  console.log(team, odd); } // åˆ†æ•¸çµ±è¨ˆ // scorers = { // Gnarby: 1, // Hummels: 1, // Lewandowski: 2 // }  const scorers = {}; for (const item of game.scored) { // å±¬æ€§å­˜åœ¨ è³¦å€¼+1 ä¸å­˜åœ¨æ™‚è³¦å€¼=1  scorers[item] ? scorers[item]++ : (scorers[item] = 1); } console.log(scorers); // challenge 3 const gameEvents = new Map([ [17, \u0026#34;âš½ï¸ GOAL\u0026#34;], [36, \u0026#34;ğŸ” Substitution\u0026#34;], [47, \u0026#34;âš½ï¸ GOAL\u0026#34;], [61, \u0026#34;ğŸ” Substitution\u0026#34;], [64, \u0026#34;ğŸ”¶ Yellow card\u0026#34;], [69, \u0026#34;ğŸ”´ Red card\u0026#34;], [70, \u0026#34;ğŸ” Substitution\u0026#34;], [72, \u0026#34;ğŸ” Substitution\u0026#34;], [76, \u0026#34;âš½ï¸ GOAL\u0026#34;], [80, \u0026#34;âš½ï¸ GOAL\u0026#34;], [92, \u0026#34;ğŸ”¶ Yellow card\u0026#34;], ]); // å‰µé€ ä¸é‡è¤‡äº‹ä»¶é™£åˆ—ï¼šè¿­ä»£å·¢ç‹€é™£åˆ—çš„valueè®Šæˆä¸€å€‹é™£åˆ— ä¸é‡è¤‡ä½¿ç”¨new Set(array) const events = new Set(gameEvents.values()); console.log(events); // ç§»é™¤mapä¸­64åˆ†é˜çš„è³‡æ–™ gameEvents.delete(64); console.log(gameEvents); // åˆ—å°å‡ºç™¼ç”Ÿäº‹ä»¶avgæ™‚é–“é•·åº¦\u0026#34;An event happened, on average, every 9 minutes\u0026#34; ä¸€å±€90åˆ†é˜ const time = [...gameEvents.keys()].pop(); console.log(time); // 92 æœ‰è¶…é90åˆ†é˜å› æ­¤å¦å¤–è¨ˆç®— console.log( `An event happened, on average, every ${time / gameEvents.size}minutes` ); // åŠ ä¸Šå‰å¾ŒåŠå ´æ¨™ç¤º[FIRST HALF] 17: âš½ï¸ GOAL  for (const [key, value] of gameEvents) { const half = key \u0026lt;= 45 ? \u0026#34;First\u0026#34; : \u0026#34;Second\u0026#34;; console.log(`[${half}HALF]${key}: ${value}`); }   ","date":"2022-01-10T00:00:00+08:00","image":"https://bacnotes.github.io/p/javascript-fundamentals-part3/javascript_hu206ed96a14226138f3215dbd4aa48c79_350158_120x120_fill_box_smart1_3.png","permalink":"https://bacnotes.github.io/p/javascript-fundamentals-part3/","title":"JavaScriptåŸºç¤çŸ¥è­˜è¤‡ç¿’(3)ï½œThe Complete JavaScript Courseï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"æœ¬æ–‡æ˜¯åŸºæ–¼ä¸‹æ–¹é€™å ‚ Udemy èª²ç¨‹çš„ç­†è¨˜ï¼Œå° React æœ‰èˆˆè¶£çš„è©±å¯ä»¥è³¼è²·çœ‹çœ‹å”·\nReact - The Complete Guide (incl Hooks, React Router, Redux)\nè®“æˆ‘å€‘å¨“å¨“é“ä¾† React çš„å„ç¨®çŸ¥è­˜å§ï¼\n1. ä»€éº¼æ˜¯ Reactï¼Ÿ 1 2  A JavaScript library for building user interfaces. ä¸€å¥—ç”¨ä¾†æ‰“é€ ä½¿ç”¨è€…ä»‹é¢çš„JavaScriptå‡½å¼åº«    React æ˜¯å®¢æˆ¶ç«¯ based(éä¼ºæœå™¨ç«¯é‹ä½œ)ï¼Œåœ¨ç€è¦½å™¨æ“ä½œ DOM è®“äº’å‹•æ€§è®Šé«˜ ä½¿ç”¨ SPA æ¸›å°‘è·Ÿä¼ºæœå™¨çš„æºé€šï¼Œä½¿ç”¨ä¸Šå°±è·Ÿæ‰‹æ©Ÿçš„åŸç”Ÿ APP ä¸€æ¨£é †æš¢ï¼Œæ‰€ä»¥åå­—æ‰å« React æŠ€è¡“ä¸Šä¾†èªª(e.g.è·Ÿ Augular ç›¸æ¯”)React ä¸ç®—æ˜¯ä¸€å€‹å®Œæ•´çš„æ¡†æ¶  ï¼Šä»€éº¼æ˜¯ SPAï¼ˆSingle-page applicationï¼‰\n å–®é æ‡‰ç”¨ï¼Œä¼ºæœå™¨å‚³é€ä¸€æ¬¡ HTMLï¼Œå°±æ¥ç®¡æ•´å€‹é é¢çš„ç”Ÿå‘½é€±æœŸ å¯ä»¥é€é API(e.g. XMLHttpRequest æˆ– Fetch)æ›´æ–°éƒ¨åˆ†ç•«é¢(å…ƒä»¶)æˆ–æ•´å€‹é é¢ Angularã€Reactã€Vue éƒ½æ˜¯ç†±é–€çš„ SPA  2. ç‚ºä»€éº¼ç”¨ React å°é–‹ç™¼è€…å¥½è™•  ä½¿ç”¨ Declarative programming å®£å‘Šå¼ç¨‹å¼è¨­è¨ˆ\næè¿°ç›®æ¨™è€Œéæµç¨‹ï¼Œæ¯”èµ·éå¾€ DOM æ“ä½œè¦ä¸€å€‹å€‹é¸å…ƒç´ ï¼Œä¸€å€‹å£ä»¤ä¸€å€‹å‹•ä½œçš„æŒ‡ä»¤å¼ç¨‹å¼è¨­è¨ˆ imperative programmingï¼Œå¯ä»¥è®“æ’°å¯«çš„ç¨‹å¼ç¢¼ç²¾ç°¡ä¸å°‘ ä»¥å…ƒä»¶ç‚ºä¸­å¿ƒ\næŠŠè¦–è¦ºå‘ˆç¾ã€è³‡æ–™ç­‰å…ƒç´ æ”¾åœ¨å–®ä¸€æª”æ¡ˆä¸­ï¼Œè¤‡ç”¨æ€§é«˜ï¼Œå¯ä»¥æ¸›å°‘é‡è¤‡ä»£ç¢¼ JSX èªæ³•\nJSX å¹«åŠ©æˆ‘å€‘åŒæ™‚å¯« HTML è·Ÿ JS é‚è¼¯ï¼Œè³‡æ–™è·Ÿäº‹ä»¶çš„ç¶å®šå¯ä»¥ç›´æ¥å¯«åœ¨ HTML ä¸Šï¼Œå¾ˆæ–¹ä¾¿ï¼Œåƒæ˜¯åœ¨ HTML ä¸Šå¯¦ä½œ JS é‚è¼¯ï¼Œä¸”å®¹æ˜“é–±è®€ é—œæ³¨é»åˆ†é›¢\næ¯ä¸€æ¨¡çµ„å„è‡ªæœ‰ç¨ç«‹é—œæ³¨ç„¦é»ï¼Œæœ‰åŠ©æ–¼å¾ŒçºŒå”ä½œè·Ÿç¶­è­· è³‡æ–™é©…å‹•ç•«é¢\nç”¨ useState+é›™å‘ç¶å®š HTML å…ƒç´ ï¼Œè³‡æ–™æœ‰è®Šå‹•ç•«é¢å°±æœƒè®Šå‹• ä¸ç”¨å†å¯«ä¸€å€‹æ¸²æŸ“æŒ‡ä»¤è«‹ç¨‹å¼æ›´æ–°ç•«é¢  å°ä½¿ç”¨è€…å¥½è™•  ä¸éœ€è¦åœ¨æ›é æ™‚è·Ÿä¼ºæœå™¨è¦è³‡æ–™(æ¸›å°‘ç­‰å¾…é‡æ–°æ¸²æŸ“çš„æ™‚é–“)ï¼Œä½¿ç”¨è€…é«”é©—ä½³  3. React.js v.s. Angular v.s. Vue  éƒ½æ˜¯ä»¥å…ƒä»¶ç‚ºä¸­å¿ƒï¼Œè³‡æ–™é©…å‹•ç•«é¢ Reactï¼šå…§å»º framework è¼ƒå°‘ï¼Œå»ºè­°ä½¿ç”¨ JSX èªæ³•ä½†ä¹Ÿå¯ä»¥ç”¨ JavaScript æ’°å¯«ï¼Œä¸æƒ³è·Ÿç”¨ Vue ä¸€æ¨£è¨˜å¤ªå¤šé¡å¤–çš„èªæ³•ï¼Œé©åˆç›´æ¥ä¾† React Angularï¼šç”¨ TypeScript æ’°å¯«ï¼Œæœ‰å¾ˆå¤šå…§å»ºçš„ frameworkï¼Œä¸å¤ªéœ€è¦ç¤¾ç¾¤è³‡æºï¼Œæ¯”è¼ƒè¤‡é›œ Vueï¼šå…§å»º framework æ¯” React å¤šï¼Œæ¯” Angular å°‘ï¼Œæœ‰å¾ˆå¤šèªæ³•ç³–ï¼Œé©åˆåˆå­¸è€…å»ºç«‹æ¡†æ¶èˆ‡ç”Ÿå‘½é€±æœŸè§€å¿µ  4. React å»ºç«‹å°ˆæ¡ˆ CRA(create-react-app)  ç›¸å°å‚³çµ±æ’°å¯«ç¶²é çš„æ–¹å¼ï¼Œåªè¦å»ºç«‹ HTMLã€CSSã€JavaScript ä¸‰å€‹æª”æ¡ˆ React å°ˆæ¡ˆå»ºç«‹ç›¸è¼ƒè¤‡é›œä¸€é»ï¼Œä½¿ç”¨ CRA æŒ‡ä»¤å‰è¦å…ˆå®‰è£ node.js(JavaScript åŸ·è¡Œç’°å¢ƒ)æ‰èƒ½ä½¿ç”¨ npm/npx ç­‰æŒ‡ä»¤ä¸‹è¼‰ç›¸é—œæ¨¡çµ„(è¨˜å¾—ä¸‹è¼‰æ™‚ç¶²è·¯è¦é †æš¢)  1 2 3 4 5  // cdåˆ°å°ˆæ¡ˆè³‡æ–™å¤¾ å°ˆæ¡ˆåä»¥new-appç‚ºç¯„ä¾‹ npx create-react-app new-app cd new-app npm start // å¯ä»¥åœ¨localhost 3000çœ‹åˆ°    CRA å…§å»º Babel å’Œ Webpack å¹«ä½ æŠŠ JSX è½‰æˆç€è¦½å™¨å¯ä»¥è§£æçš„ HTMLã€CSSã€JavaScript  5. VSCode å®‰è£ Prettier format document é¸æ“‡ prettier  è‹¥åŒæ™‚æœƒä½¿ç”¨ Vue æˆ– Javascript é–‹ç™¼ä¸åŒå°ˆæ¡ˆï¼Œå»ºè­° VSCode è¨­å®šæª” by æ¡†æ¶/èªè¨€è¨­å®šæ ¼å¼åŒ–çš„é è¨­å¥—ä»¶åŠ formatOnSave é¸é …  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  { // JavaScript  \u0026#34;[javascript]\u0026#34;: { \u0026#34;editor.defaultFormatter\u0026#34;: \u0026#34;esbenp.prettier-vscode\u0026#34;, \u0026#34;editor.formatOnSave\u0026#34;: true }, // vue  \u0026#34;[vue]\u0026#34;: { \u0026#34;editor.formatOnSave\u0026#34;: true, \u0026#34;editor.defaultFormatter\u0026#34;: \u0026#34;esbenp.prettier-vscode\u0026#34; }, // react JSX  \u0026#34;[javascriptreact]\u0026#34;: { \u0026#34;editor.formatOnSave\u0026#34;: true, \u0026#34;editor.defaultFormatter\u0026#34;: \u0026#34;esbenp.prettier-vscode\u0026#34; }, }   åƒè€ƒæ–‡ç« ï¼šVSCode does not format JSX Correctly\nå•Ÿç”¨ emmet snippet ç¸®å¯«  è¨­å®šæª”å¯«å…¥  1 2 3 4 5  { \u0026#34;emmet.includeLanguages\u0026#34;: { \u0026#34;javascript\u0026#34;: \u0026#34;javascriptreact\u0026#34; }, }    ä½¿ç”¨ rcc æˆ– rfcï¼ˆè¶¨å‹¢) ä¾†å¹«åŠ©ä½ åŠ é€Ÿé–‹ç™¼å§  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  // rcc class component import React, { Component } from \u0026#39;react\u0026#39;; class å…ƒä»¶å extends Component { render() { return ( \u0026lt;div\u0026gt; \u0026lt;/div\u0026gt; ); } } export default å…ƒä»¶å; // rfc function component import React from \u0026#39;react\u0026#39;; const å…ƒä»¶å = () =\u0026gt; { return ( \u0026lt;div\u0026gt; \u0026lt;/div\u0026gt; ); } export default å…ƒä»¶å;   åƒè€ƒæ–‡ç« ï¼šEnable Emmet support for JSX in Visual Studio Code | React\n6. é–‹ç™¼å°ˆæ¡ˆå‰ç’°å¢ƒæ•´ç†  å¦‚æœåªæ˜¯è¦ç°¡å–®é–‹ç™¼ä¸€å€‹ React ç¨‹å¼ï¼Œå¿…è¦çš„æª”æ¡ˆæœ‰ App.jsã€index.cssã€index.js ç§»é™¤ä¸éœ€è¦çš„ import  1 2 3 4 5  // App.js function App() { return \u0026lt;div\u0026gt;Hello\u0026lt;/div\u0026gt;; } export default App;    npm run start è§€çœ‹å³æ™‚ Hot Reload ç•«é¢  7. äº†è§£ React é‹ä½œæ–¹å¼è·Ÿå…ƒä»¶   åœ¨ 2020 React17 æ›´æ–°å¾Œä¸ç”¨åœ¨æ¯å€‹å®¢è£½åŒ–å…ƒä»¶æœ€ä¸Šæ–¹ import React from 'react'ï¼ŒBabel é‡åˆ° JSX å°±æœƒå¹«æˆ‘å€‘è™•ç†ï¼Œä¸”è·Ÿéå¾€çš„ JSX ç¨‹å¼ç¢¼ç›¸å®¹\n  ä½†è¨˜å¾— index.js entry point é€™é‚Šçš„ import React from 'react'ä¸èƒ½æ‹¿æ‰\n  å°æ–¼ JSX è½‰æ›ç´°ç¯€æœ‰èˆˆè¶£çš„äººå¯ä»¥åƒè€ƒé€™ç¯‡æ–‡ç« Introducing the New JSX Transform\n  1 2 3 4 5 6  // Inserted by a compiler (don\u0026#39;t import it yourself!) import { jsx as _jsx } from \u0026#34;react/jsx-runtime\u0026#34;; function App() { return _jsx(\u0026#34;h1\u0026#34;, { children: \u0026#34;Hello world\u0026#34; }); }     SPA æ˜¯é‡å° server å›å‚³çš„å–®é  HTML åšè®Šå‹•ï¼Œä¹Ÿå°±æ˜¯\u0026lt;body\u0026gt; ä¸­ id=\u0026lsquo;root\u0026rsquo;å€å¡Š\n  è€Œ \u0026lt;App /\u0026gt;æ˜¯ä¸€å€‹ JavaScript function å›å‚³ JSX codeï¼Œæˆ‘å€‘ä¸æœƒåœ¨ç€è¦½å™¨ element å€å¡Šçœ‹åˆ°\u0026lt;App /\u0026gt;è£¡é¢çš„ JSX å…§å®¹(å› ç€è¦½å™¨ä¸æ‡‚ JSX çš„å…§å®¹) è€Œæ˜¯æœƒ render å‡º Babel è½‰è­¯\u0026lt;App /\u0026gt;å¾Œçš„å…§å®¹\n  1 2 3  import React from \u0026#34;react\u0026#34;; import ReactDOM from \u0026#34;react-dom\u0026#34;; ReactDom.render(\u0026lt;App /\u0026gt;, document.getElementById(\u0026#34;root\u0026#34;));   8. å…ƒä»¶æ·»åŠ  CSS æ¨£å¼ä½¿ç”¨ className è€Œé class  å› ç‚º class æ˜¯ JavaScript çš„ä¿ç•™å­—ï¼Œè€Œ JSX æ˜¯ JavaScript çš„å»¶ä¼¸èªæ³•ï¼Œæ‰€ä»¥ä¸ä½¿ç”¨ class  1 2 3 4 5 6 7 8  function APP() { return ( \u0026lt;div\u0026gt; \u0026lt;h1 className=\u0026#39;container\u0026#39;\u0026gt;Hello\u0026lt;/h1\u0026gt; \u0026lt;/div\u0026gt; ); } export default App;   9. ä½¿ç”¨å…ƒä»¶å¢åŠ è¤‡ç”¨æ€§  ä¸‹æ–¹æ˜¯ä¸€å€‹å…ƒä»¶ç¯„ä¾‹ï¼Œä¸€èˆ¬æœƒæ”¾åœ¨ src/components ä¸‹ï¼Œæª”æ¡ˆå‘½åå»ºè­°å¤§å¯«é–‹é ­ å…ƒä»¶ä¿æŒç²¾ç°¡ï¼Œä¸€å€‹å…ƒä»¶å°ˆå¿ƒåšä¸€ä»¶äº‹ï¼Œé™ä½è€¦åˆ  1 2 3 4 5 6 7 8 9 10 11 12 13  // å®¢è£½åŒ–å…ƒä»¶å¤§å¯«å‘½åï¼Œè·Ÿå…§å»ºHTMLå…ƒç´ åšå€éš” function Todo() { return ( \u0026lt;div className=\u0026#39;container\u0026#39;\u0026gt; \u0026lt;h2\u0026gt;Title\u0026lt;/h2\u0026gt; \u0026lt;div className=\u0026#39;actions\u0026#39;\u0026gt; \u0026lt;span\u0026gt;A span\u0026lt;/span\u0026gt; \u0026lt;button className=\u0026#39;btn\u0026#39;\u0026gt;Delete\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ); } export default Todo;    å¼•ç”¨å…ƒä»¶åˆ° App.js è¦å…ˆ import  1 2 3 4 5 6 7 8 9 10 11 12  // App.js import Todo from \u0026#34;./components/Todo\u0026#34;; function APP() { return ( \u0026lt;div\u0026gt; \u0026lt;h1 className=\u0026#39;container\u0026#39;\u0026gt;Hello\u0026lt;/h1\u0026gt; \u0026lt;Todo /\u0026gt; \u0026lt;Todo /\u0026gt; \u0026lt;/div\u0026gt; ); } export default App;   10. çˆ¶å±¤é€é props å‚³è³‡æ–™åˆ°å­å±¤å…ƒä»¶  {}æ”¾å…¥è¡¨é”å¼ ï¼Œç”¨åŒæ¨£é‚è¼¯æ¸²æŸ“å‡ºä¸åŒçš„è³‡æ–™  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29  // App.js // è³‡æ–™å‚³å…¥å­å±¤ import Todo from \u0026#39;./components/Todo\u0026#39; function APP () { return ( \u0026lt;div\u0026gt; \u0026lt;h1 className=\u0026#39;container\u0026#39;\u0026gt;Hello\u0026lt;/h1\u0026gt; \u0026lt;Todo text=\u0026#39;Learn React\u0026#39;/\u0026gt; \u0026lt;Todo text=\u0026#39;Master React\u0026#39;/\u0026gt; \u0026lt;/div\u0026gt; ) } export default App // å…ƒä»¶ Todo.js // åˆ©ç”¨propsæ”¶åˆ°çš„å‹•æ…‹è³‡æ–™ï¼Œæ¸²æŸ“å‡º2é …Todo function Todo(props) { return ( \u0026lt;div className=\u0026#39;container\u0026#39;\u0026gt; \u0026lt;h2\u0026gt;{props.text}\u0026lt;/h2\u0026gt; \u0026lt;div className=\u0026#39;actions\u0026#39;\u0026gt; \u0026lt;span\u0026gt;A span\u0026lt;/span\u0026gt; \u0026lt;button className=\u0026#39;btn\u0026#39;\u0026gt;Delete\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ) } export default Todo;   11. è¨­ç½®èˆ‡ç›£è½äº‹ä»¶  éœ€ç†è§£ React è£¡é¢çš„ JSX ä¸ç­‰æ–¼ HTMLï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ HTML inline JavaScript äº‹ä»¶çš„å€¼æ‡‰è©²æ˜¯ä¸€å€‹è¡¨é”å¼æ‰€ä»¥ç”¨ onClick={} å¯ä»¥å¯«æˆåŒ¿åå‡½å¼ onClick={function(){}}æˆ–ç®­é ­å‡½å¼ onClick={()â‡’{}} ä½†å»ºè­°æŒ‡å‘å¦ä¸€å€‹ functionï¼Œä¿æŒ HTML ç²¾ç°¡(å¯«åœ¨ return å‰çš„å€å¡Š)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  // å…ƒä»¶ Todo.js ä¸‹æ–¹æ˜¯ä¸€å€‹ delete äº‹ä»¶ function Todo(props) { // å‘½åé€šå¸¸æ˜¯xxxHandler  function openModalHandler() { console.log(\u0026#34;click\u0026#34;, props.text); } return ( \u0026lt;div className=\u0026#39;container\u0026#39;\u0026gt; \u0026lt;h2\u0026gt;{props.text}\u0026lt;/h2\u0026gt; \u0026lt;div className=\u0026#39;actions\u0026#39;\u0026gt; \u0026lt;span\u0026gt;A span\u0026lt;/span\u0026gt; // openModalHandleré€™é‚Šä¸æœƒåŠ ä¸ŠåŸ·è¡Œ() ç­‰è§¸ç™¼æ‰åŸ·è¡Œ  \u0026lt;button onClick={openModalHandler} className=\u0026#39;btn\u0026#39;\u0026gt; Delete \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ); } export default Todo;   12. å¼•å…¥å¤šå€‹å…ƒä»¶  ä»¥æç¤ºçª—ç‚ºä¾‹ï¼Œéœ€è¦ä¸€å€‹ backdrop è¦†è“‹ modal å¾Œé¢çš„èƒŒæ™¯ï¼Œè·Ÿä¸€å€‹ modal  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  function Backdrop(props) { return \u0026lt;div className=\u0026#39;backdrop\u0026#39; /\u0026gt;; } function Modal(props) { return ( \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;Are you sure?\u0026lt;/p\u0026gt; \u0026lt;button className=\u0026#39;btn btn--alt\u0026#39;\u0026gt;Cancel\u0026lt;/button\u0026gt; \u0026lt;button className=\u0026#39;btn\u0026#39;\u0026gt;Delete\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; ); } export default Modal;    å…©å€‹éƒ½å¼•å…¥åˆ° App  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  // App.js import Todo from \u0026#34;./components/Todo\u0026#34;; import Modal from \u0026#34;./components/Modal\u0026#34;; import Backdrop from \u0026#34;./components/Backdrop\u0026#34;; function APP() { return ( \u0026lt;div\u0026gt; \u0026lt;h1 className=\u0026#39;container\u0026#39;\u0026gt;Hello\u0026lt;/h1\u0026gt; \u0026lt;Todo text=\u0026#39;Learn React\u0026#39; /\u0026gt; \u0026lt;Todo text=\u0026#39;Master React\u0026#39; /\u0026gt; \u0026lt;Modal /\u0026gt; \u0026lt;Backdrop /\u0026gt; \u0026lt;/div\u0026gt; ); } export default App;   13. useState ç´€éŒ„ç¶²é  Stateï¼Œè·Ÿä½¿ç”¨è€…äº’å‹•  useState æ˜¯ React ä¸€å€‹ Hookï¼ŒHook æ˜¯ä¸€å€‹å…§å»º functionï¼ŒuseState æ˜¯ç”¨ä¾†æ“ä½œç‹€æ…‹çš„ hook æˆ‘å€‘è¨»å†Šä¸åŒçš„ Stateï¼ŒReact æœƒåœ¨ State æ”¹è®Šæ™‚ render ä¸åŒæ±è¥¿ const [state, setState] = useState(initialState setState(newState);  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  // useState æ˜¯ä¸€å€‹ functionï¼Œå› ç‚ºæ˜¯ç¬¬ä¸‰æ–¹å‡½å¼åº«ä¸ç”¨å¯«è·¯å¾‘ import { useState } from â€˜reactâ€™ function SomeFunction(){ // useState æœƒå›å‚³é™£åˆ—ï¼Œå…§æœ‰ 2 å€‹å…ƒç´ ï¼Œå¯ä»¥å®šç¾©åˆå§‹å€¼åƒæ•¸ // useState è¦æ”¾åœ¨å…ƒä»¶ function å…§ç¬¬ä¸€å±¤ï¼Œä¸èƒ½å·¢ç‹€åˆ° const [variable, setVariable] = useState(initialValue) return ( \u0026lt;div\u0026gt; ... \u0026lt;/div\u0026gt; ); } export default SomeFunction   ç‚ºä»€éº¼æˆ‘é‡æ–°è³¦å€¼çš„è®Šæ•¸ç•«é¢æ²’æœ‰æ›´æ–°ï¼Ÿ ç„¡æ³•é€éé‡æ–°è³¦å€¼ è®Šæ•¸ çš„å€¼ä¾†æ›´æ–°ç•«é¢\n æ›´æ”¹å€¼æœƒéœ€è¦å‘¼å«é™£åˆ—çš„ç¬¬äºŒå€‹åƒæ•¸(ä¸€å€‹ callback function)æ›´æ–°åˆå§‹å€¼(ä»¥ä¸‹æ–¹ç¯„ä¾‹ä¾†èªªæ˜¯ setModalIsOpen) å‘¼å« useState çš„æ™‚å€™ React æ‰æœƒé‡æ–°åŸ·è¡Œ State æ‰€å±¬çš„å…ƒä»¶ï¼Œä¸¦é‡æ–°æ›´æ–°è³‡æ–™è·Ÿç•«é¢ ï¼Šä¸é€™éº¼åšçš„è©±ç•«é¢æ˜¯ä¸æœƒé‡æ–°æ¸²æŸ“çš„ï¼ˆä¹Ÿå°±æ˜¯è·‘ä¸€æ¬¡ä¸‹æ–¹çš„ return çš„ JSX)ã€‚ æˆ‘å€‘æœƒç”¨ setModalIsOpen ä¾†æ›´æ–°å€¼ï¼Œç”¨ modalIsOpen åˆ¤æ–·æ¢ä»¶æ¸²æŸ“ JSX çš„ç¨‹å¼ç¢¼  ï¼ŠHook æœ‰å¾ˆå¤šç¨®ï¼Œå®˜æ–¹æ–‡ä»¶æœ‰åˆ—å‡ºæ‰€æœ‰çš„ Hook åœ¨é€™è£¡Hook API\n useEffect å¯ä»¥ fetch è³‡æ–™ã€è¨‚é–±ã€æˆ–æ“ä½œ DOM useRef å¯ä»¥æŠ“å– Dom å…ƒç´ ï¼Œç²å–è¡¨å–®çš„ value(ä½†æ›´æ–° current å€¼ä¸æœƒé‡æ–°æ¸²æŸ“ç•«é¢) useContext å¯ä»¥ç®¡ç†å…¨åŸŸç‹€æ…‹ç­‰ï¼Œä¸‹æ–¹æœƒç¹¼çºŒä»‹ç´¹  åŒå±¤ç›£è½ï¼šclick é–‹å•Ÿåˆªé™¤ç¢ºèª modal 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  // Todo.js å…ƒä»¶  import { useState } from \u0026#34;react\u0026#34;; import Modal from \u0026#34;./Modal\u0026#34;; import Backdrop from \u0026#34;./Backdrop\u0026#34;; function Todo(props) { const [modalIsOpen, setModalIsOpen] = useState(false); function deleteHandler() { setModalIsOpen(true); } return ( \u0026lt;div className=\u0026#39;card\u0026#39;\u0026gt; \u0026lt;h2\u0026gt;{props.text}\u0026lt;/h2\u0026gt; \u0026lt;div className=\u0026#39;actions\u0026#39;\u0026gt; // é»æ“Šè§¸ç™¼ä¸Šå±¤function  \u0026lt;button className=\u0026#39;btn\u0026#39; onClick={deleteHandler}\u0026gt; Delete \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; {modalIsOpen \u0026amp;\u0026amp; \u0026lt;Modal /\u0026gt;} {modalIsOpen \u0026amp;\u0026amp; \u0026lt;Backdrop /\u0026gt;} \u0026lt;/div\u0026gt; ); }   çˆ¶å±¤ç›£è½å­å±¤ï¼šclick é—œé–‰åˆªé™¤ç¢ºèª modal  å­å…ƒä»¶è§¸ç™¼äº‹ä»¶ï¼Œæ–¹æ³•å¯«åœ¨çˆ¶å±¤ onClick ç›£è½æ˜¯è§¸ç™¼åŒå±¤ functionï¼Œè£¡é¢åŒ…è£¹ props å‚³ä¸‹ä¾†çš„çˆ¶å±¤æ–¹æ³•(Passing Function As Props) ç¯„ä¾‹ç‚ºé» Cancel è·Ÿ Delete æŒ‰éˆ•æœƒé—œé–‰ modal  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54  // Todo.js å…ƒä»¶ import Modal from \u0026#34;./components/Modal\u0026#34;; import Backdrop from \u0026#34;./components/Backdrop\u0026#34;; function Todo(props) { const [modalIsOpen, setModalIsOpen] = userState(false); function openModalHandler() { setModalIsOpen(true); } function closeModalHandler() { setModalIsOpen(false); } return ( \u0026lt;div className=\u0026#39;container\u0026#39;\u0026gt; \u0026lt;h2\u0026gt;{props.text}\u0026lt;/h2\u0026gt; \u0026lt;div className=\u0026#39;actions\u0026#39;\u0026gt; \u0026lt;button onClick={openModalHandler} className=\u0026#39;btn\u0026#39;\u0026gt; Delete \u0026lt;/button\u0026gt; {modalIsOpen \u0026amp;\u0026amp; ( \u0026lt;Modal onCancel={closeModalHandler} onConfirm={openModalHandler} /\u0026gt; )} // é€épropså‚³ä¸‹å»key value è®“å­å±¤è§¸ç™¼åŸ·è¡Œ  {modalIsOpen \u0026amp;\u0026amp; \u0026lt;Backdrop onCancel={closeModalHandler} /\u0026gt;} \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ); } // Modal.js function Modal(props) { function cancelHandler() { // åŸ·è¡ŒonCancel çˆ¶å±¤æ–¹æ³• é—œé–‰modal  props.onCancel(); } function confirmHandler() { // åŸ·è¡ŒonCancel çˆ¶å±¤æ–¹æ³• é—œé–‰modal  props.onConfirm(); } return ( \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;Are you sure?\u0026lt;/p\u0026gt; \u0026lt;button onClick={cancelHandler} className=\u0026#39;btn btn--alt\u0026#39;\u0026gt; Cancel \u0026lt;/button\u0026gt; \u0026lt;button onClick={confirmHandler} className=\u0026#39;btn\u0026#39;\u0026gt; Delete \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; ); } export default Modal;   ï¼ŠonCancel æ˜¯é›¢é–‹ä¸€å€‹ dialog å…ƒç´ æœƒè§¸ç™¼çš„äº‹ä»¶(e.g. é»é®ç½©æˆ–å³ä¸Šè§’ xï¼Œæˆ–å–æ¶ˆæŒ‰éˆ•)\nï¼ŠonConfirm æ˜¯é»ç¢ºèª\n14. åŠ ä¸Šè·¯ç”±  éœ€è¦å®‰è£å¥—ä»¶ï¼ˆä¸åŒ…å«åœ¨ CRA)  1  npm install --save react-router-dom@5    å»ºè­°åŠ ä¸Š src/pages è³‡æ–™å¤¾ï¼Œæ¯”è¼ƒå¥½æ‰¾åˆ°å°æ‡‰å…ƒä»¶  1 2 3 4 5 6 7 8 9 10 11  // å»ºç«‹é€™ä¸‰å€‹æª”æ¡ˆåœ¨pagesè£¡é¢ AllMeetups.js å‘½åPageå¹«åŠ©æˆ‘å€‘çŸ¥é“é€™å€‹å…ƒä»¶æ˜¯ä¸€å€‹é é¢ function AllMetupsPage(){ return ( \u0026lt;div\u0026gt;AllMetupsPage\u0026lt;/div\u0026gt; ) } export default AllMeetupsPage Favorites.js NewMeetup.js åŒä¸Šé‚è¼¯ æ”¹divå…§å®¹è·Ÿfunctionåå­—è·Ÿexportåå³å¯    æˆ‘å€‘ä½¿ç”¨ BrowserRouter å¥—ä»¶å»å®šç¾©å“ªäº›é é¢ä½•æ™‚è¦ load  1 2 3 4 5 6 7 8  // index.js import { BrowserRouter } from \u0026#34;react-router-dom\u0026#34;; // åˆå§‹åŒ–å¥—ä»¶ ç¢ºä¿ä»–æœ‰åœ¨è§€å¯Ÿurl RouterDOM.render( \u0026lt;BrowserRouter\u0026gt; \u0026lt;APP /\u0026gt; \u0026lt;/BrowserRouter\u0026gt; );    æ­é…ä½¿ç”¨ Switch æ¸²æŸ“ç¬¬ä¸€å€‹ç¬¦åˆè·¯å¾‘çš„å…ƒä»¶  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  // App.js import { Route } from \u0026#34;react-router-dom\u0026#34;; import AllMeetupsPage from \u0026#34;./pages/AllMeetups\u0026#34;; import NewMeetupsPage from \u0026#34;./pages/NewMeetups\u0026#34;; import FavoritesPage from \u0026#34;./pages/Favorites\u0026#34;; function App() { return ( \u0026lt;div\u0026gt; \u0026lt;Switch\u0026gt; // é¿å…/å·¢ç‹€é‡è¤‡å‡ºç¾å¤šå€‹é é¢å…§å®¹ ä¹Ÿå¯ä»¥ç›´æ¥exact  \u0026lt;Route path=\u0026#39;/\u0026#39; exact={true}\u0026gt; \u0026lt;AllMeetupsPage /\u0026gt; \u0026lt;/Route\u0026gt; \u0026lt;Route path=\u0026#39;/newmeetup\u0026#39;\u0026gt; \u0026lt;NewMeetupsPage /\u0026gt; \u0026lt;/Route\u0026gt; \u0026lt;Route path=\u0026#39;/favorites\u0026#39;\u0026gt; \u0026lt;FavoritesPage /\u0026gt; \u0026lt;/Route\u0026gt; \u0026lt;/Switch\u0026gt; \u0026lt;/div\u0026gt; ); } export default App;   15. ç”¨å°è¦½åˆ—ä¾†ç·´ç¿’ Link  å°è¦½åˆ—ä¸€èˆ¬æœƒè¨­ç½®åœ¨ src ä¸‹æ–¹è³‡æ–™å¤¾ layoutï¼Œå› ç‚ºæ˜¯æ•´é«”ä½ˆå±€çš„å…ƒä»¶ a hrefå±¬æ€§å¯ä»¥ç”¨ï¼Œä½†æˆ‘å€‘ä¸æƒ³ç”¨ä¼ºæœå™¨å‚³ HTMLï¼Œå¤±å» SPA å„ªå‹¢ import link å…ƒä»¶ï¼Œæœƒæ­é…toå±¬æ€§åŠ å…¥è·¯å¾‘ä½¿ç”¨ \u0026lt;Link\u0026gt;tag è‡ªå‹•åœ¨ DOM åŠ å…¥ç›£è½ï¼Œé˜»æ“‹ç€è¦½å™¨é è¨­è¡Œç‚ºé€å‡ºè«‹æ±‚ ä¸”åªæœƒè§£æ urlï¼Œä¿®æ”¹ç¶²å€åˆ—è·Ÿ load ç›¸å°æ‡‰çš„å…ƒä»¶(React/JavaScript)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  // MainNavigation.js  import { Link } from \u0026#39;react-router-dom\u0026#39; function MainNavigation() { return ( \u0026lt;header\u0026gt; \u0026lt;div\u0026gt; React Meetups\u0026lt;/div\u0026gt; \u0026lt;nav\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt; \u0026lt;Link to=\u0026#39;/\u0026#39;\u0026gt;All Meetups\u0026lt;/Link\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li\u0026gt; \u0026lt;Link to=\u0026#39;/newMeetup\u0026#39;\u0026gt;Add New Meetups\u0026lt;/Link\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li\u0026gt; \u0026lt;Link to=\u0026#39;/favorites\u0026#39;\u0026gt;My favorites\u0026lt;/Link\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;/nav\u0026gt; \u0026lt;/header\u0026gt; ) } export default MainNavigation    å°è¦½åˆ— å¼•å…¥ App.js  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  // App.js import { Route } from \u0026#34;react-router-dom\u0026#34;; import AllMeetupsPage from \u0026#34;./pages/AllMeetups\u0026#34;; import NewMeetupsPage from \u0026#34;./pages/NewMeetups\u0026#34;; import FavoritesPage from \u0026#34;./pages/Favorites\u0026#34;; import MainNavigation from \u0026#34;./components/layout/MainNavigation\u0026#34;; function App() { return ( \u0026lt;div\u0026gt; \u0026lt;MainNavigation /\u0026gt; \u0026lt;Switch\u0026gt; \u0026lt;Route path=\u0026#39;/\u0026#39; exact={true}\u0026gt; \u0026lt;AllMeetupsPage /\u0026gt; \u0026lt;/Route\u0026gt; \u0026lt;Route path=\u0026#39;/newmeetup\u0026#39;\u0026gt; \u0026lt;NewMeetupsPage /\u0026gt; \u0026lt;/Route\u0026gt; \u0026lt;Route path=\u0026#39;/favorites\u0026#39;\u0026gt; \u0026lt;FavoritesPage /\u0026gt; \u0026lt;/Route\u0026gt; \u0026lt;/Switch\u0026gt; \u0026lt;/div\u0026gt; ); } export default App;   16. CSS modules ä¾†ç‚ºå…ƒä»¶åŠ ä¸Šæ¨£å¼  CRA æœ¬èº«æœ‰å…§å»º CSS modules éœ€è¦åœ¨æª”åä½¿ç”¨ module.css å¼•å…¥åç¨±è‡ªè¨‚(e.g. classes)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  // MainNavigation.js // classesæœƒè®Šæˆä¸€å€‹ç‰©ä»¶ import classes from \u0026#39;./MainNavigation.module.css\u0026#39; import { Link } from \u0026#39;react-router-dom\u0026#39; function MainNavigation() { return ( //module.cssè£¡é¢çš„cssæ¨£å¼æœƒè®Šæˆkey value pair  \u0026lt;header className={classes.header}\u0026gt; \u0026lt;div className={classes.logo}\u0026gt; React Meetups\u0026lt;/div\u0026gt; \u0026lt;nav\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt; \u0026lt;Link to=\u0026#39;/\u0026#39;\u0026gt;All Meetups\u0026lt;/Link\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li\u0026gt; \u0026lt;Link to=\u0026#39;/newMeetup\u0026#39;\u0026gt;Add New Meetups\u0026lt;/Link\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li\u0026gt; \u0026lt;Link to=\u0026#39;/favorites\u0026#39;\u0026gt;My favorites\u0026lt;/Link\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;/nav\u0026gt; \u0026lt;/header\u0026gt; ) } export default App   17. ä½¿ç”¨ map è¿´åœˆæ¸²æŸ“è³‡æ–™ React èƒ½æ¸²æŸ“å‡º JSX å…ƒç´ è£¡çš„é™£åˆ—  JSX expression{[\u0026lt;li\u0026gt;item1\u0026lt;/li\u0026gt;, \u0026lt;li\u0026gt;item2\u0026lt;/li\u0026gt;]} æˆ–ç”¨ map æ–¹æ³•æŠŠå…ƒç´  return å‡ºä¾†  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33  // pages/AllMeetup.js const DUMMY_DATA = [ { id: \u0026#34;m1\u0026#34;, title: \u0026#34;This is a first meetup\u0026#34;, image: \u0026#34;https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Stadtbild_M%C3%BCnchen.jpg/2560px-Stadtbild_M%C3%BCnchen.jpg\u0026#34;, address: \u0026#34;Meetupstreet 5, 12345 Meetup City\u0026#34;, description: \u0026#34;This is a first, amazing meetup which you definitely should not miss. It will be a lot of fun!\u0026#34;, }, { id: \u0026#34;m2\u0026#34;, title: \u0026#34;This is a second meetup\u0026#34;, image: \u0026#34;https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Stadtbild_M%C3%BCnchen.jpg/2560px-Stadtbild_M%C3%BCnchen.jpg\u0026#34;, address: \u0026#34;Meetupstreet 5, 12345 Meetup City\u0026#34;, description: \u0026#34;This is a first, amazing meetup which you definitely should not miss. It will be a lot of fun!\u0026#34;, }, ]; function AllMeetupsPage() { return ( \u0026lt;section\u0026gt; \u0026lt;h1\u0026gt;AllMeetupsPage\u0026lt;/h1\u0026gt; {DUMMY_DATA.map((el) =\u0026gt; { return \u0026lt;li key={el.id}\u0026gt;{el.title}\u0026lt;/li\u0026gt;; })} \u0026lt;/section\u0026gt; ); } export default AllMeetupsPage;   è¿´åœˆçš„å…ƒç´ è¨­ç½® å”¯ä¸€å€¼çš„ key  å‚³çµ±æ¼”ç®—æ³•æ¯”å°å…©å€‹ç¯€é»å·®ç•°ï¼Œæ™‚é–“è¤‡é›œåº¦ç‚º O çš„ 3 æ¬¡æ–¹ ç‚ºäº†æ¸²æŸ“çš„æ•ˆèƒ½ï¼ŒReact ä½¿ç”¨ heuristic æ¼”ç®—æ³•æ¯”è¼ƒå…§å®¹è®Šå‹•çš„å…ƒç´ ï¼Œä½†ä¹Ÿå¯èƒ½å› ç‚ºæ²’æœ‰æ¯”å°å¥½(éƒ¨åˆ†æ¼”ç®—æ³•å‡è¨­è·Ÿç¾å¯¦ä¸ç¬¦)é€ æˆæ¸²æŸ“å‡ºéŒ¯èª¤çš„å…ƒç´  é€éè¨­ç½® key å‘Šè¨´ React ä½ æ”¹å‹•çš„å…ƒç´ ï¼Œè€Œéè®“ React è‡ªå·±æ¯”è¼ƒå…ƒç´ å…§å®¹å·®ç•° é¿å…ä½¿ç”¨ index(å…ƒç´ å®Œå…¨ä½ç§»), Math.random(key å€¼éå›ºå®š)ç­‰æ–¹å¼ä¾†å»ºç«‹ key  18. å®¢è£½åŒ–å…ƒä»¶çš„å…¶ä»–ä½¿ç”¨æ–¹å¼ï¼Œç›®çš„åœ¨æ–¼è®“å…ƒä»¶å°ˆæ³¨åœ¨ä¸€ä»¶äº‹ å…ƒä»¶ä½œç‚ºå®¹å™¨ Wrapper/Container ä½¿ç”¨  è¨­å®š Container åŒ…è£¹ children å…§å®¹  1 2 3 4 5 6 7  import classes from \u0026#34;./Container.module.css\u0026#34;; // å¼•å…¥props.children childrenæ˜¯æ¯å€‹å…ƒä»¶éƒ½å¯ä»¥ç²å–çš„é è¨­å±¬æ€§ï¼Œå€¼æ˜¯tagåŒ…è¦†çš„å…§å®¹ function Container(props) { return \u0026lt;div className={classes.container}\u0026gt;{props.children}\u0026lt;/div\u0026gt;; } export default Container;    div å¤–ç”¨ Container åŒ…è£¹  1 2 3 4 5 6 7 8  import Container from \u0026#34;../ui/Container\u0026#34;; function MeetUpItem(props) { return ( \u0026lt;Container\u0026gt; \u0026lt;div\u0026gt;some content\u0026lt;/div\u0026gt; \u0026lt;/Container\u0026gt; ); }   å…ƒä»¶ä½œç‚º Layout ä½¿ç”¨(æ’ç‰ˆ body å…§å®¹)  Layout æ”¾å°è¦½åˆ—è·Ÿèªæ„åŒ–æ¨™ç±¤ main åŒ…è£¹å…¶ä»–å…§å®¹ åœ¨ components/layout è³‡æ–™å¤¾è£½ä½œä¸€å€‹ Layout.js  1 2 3 4 5 6 7 8 9 10 11 12  import MainNavigation from \u0026#34;./MainNavigation\u0026#34;; import classes from \u0026#34;./Layout.module.css\u0026#34;; function Layout(props) { return ( \u0026lt;div\u0026gt; \u0026lt;MainNavigation /\u0026gt; \u0026lt;main className={classes.main}\u0026gt;{props.children}\u0026lt;/main\u0026gt; \u0026lt;/div\u0026gt; ); } export default Layout;    Layout åŒ…è£¹è·¯ç”±å…§å®¹  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  // App.js import { Route } from \u0026#39;react-router-dom\u0026#39;; import AllMeetupsPage from \u0026#39;./pages/AllMeetups\u0026#39;; import NewMeetupsPage from \u0026#39;./pages/NewMeetups\u0026#39;; import FavoritesPage from \u0026#39;./pages/Favorites\u0026#39;; // æ‹¿æ‰ä¹‹å‰çš„MainNavigation æ›æˆLayout import Layout from \u0026#39;./components/layout/Layout\u0026#39;; function App() { return ( \u0026lt;div\u0026gt; \u0026lt;Layout\u0026gt; \u0026lt;Switch\u0026gt; \u0026lt;Route path=\u0026#39;/\u0026#39; exact={true}\u0026gt; \u0026lt;AllMeetupsPage /\u0026gt; \u0026lt;/Route\u0026gt; \u0026lt;Route path=\u0026#39;/newmeetup\u0026#39;\u0026gt; \u0026lt;NewMeetupsPage /\u0026gt; \u0026lt;/Route\u0026gt; \u0026lt;Route path=\u0026#39;/favorites\u0026#39;\u0026gt; \u0026lt;FavoritesPage /\u0026gt; \u0026lt;/Route\u0026gt; \u0026lt;/Layout\u0026gt; \u0026lt;/div\u0026gt; ); } export default App;   19. åŠ ä¸Šè¡¨å–®  Page æ–°å¢ä¸€é  è£¡é¢æ”¾è¡¨å–®å…ƒä»¶  1 2 3 4 5 6 7 8 9  function NewMeetupPage() { return ( \u0026lt;section\u0026gt; \u0026lt;h1\u0026gt;Add New Meetup\u0026lt;/h1\u0026gt; \u0026lt;NewMeetupFrom\u0026gt; \u0026lt;/section\u0026gt; ); } export default NewMeetupPage;    æ–°å¢è¡¨å–®å…ƒä»¶ for å±¬æ€§åœ¨ React è¦å¯«æˆ htmlFor  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35  // NewMeetupForm.js import Container from \u0026#34;../ui/Container\u0026#34;; import classes from \u0026#34;./NewMeetupForm.module.css\u0026#34;; function NewMeetupForm() { return ( \u0026lt;Container\u0026gt; \u0026lt;form className={classes.form}\u0026gt; \u0026lt;div className={classes.control}\u0026gt; \u0026lt;label htmlFor=\u0026#39;title\u0026#39;\u0026gt;Title\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;text\u0026#39; id=\u0026#39;title\u0026#39; required /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={classes.control}\u0026gt; \u0026lt;label htmlFor=\u0026#39;image\u0026#39;\u0026gt;Image\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;url\u0026#39; id=\u0026#39;image\u0026#39; required /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={classes.control}\u0026gt; \u0026lt;label htmlFor=\u0026#39;address\u0026#39;\u0026gt;Address\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;text\u0026#39; id=\u0026#39;address\u0026#39; required /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={classes.control}\u0026gt; \u0026lt;label htmlFor=\u0026#39;description\u0026#39;\u0026gt;Address\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;textarea\u0026#39; rows=\u0026#39;5\u0026#39; id=\u0026#39;description\u0026#39; required /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={classes.control}\u0026gt; \u0026lt;label htmlFor=\u0026#39;description\u0026#39;\u0026gt;Address\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;textarea\u0026#39; rows=\u0026#39;5\u0026#39; id=\u0026#39;description\u0026#39; required /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={classes.action}\u0026gt; \u0026lt;button\u0026gt;Add\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/Container\u0026gt; ); } export default NewMeetupFrom;   20. ä½¿ç”¨ useRef ç²å–è¡¨å–®å…ƒç´ å€¼  åµæ¸¬è¡¨å–®å…§å®¹æœ‰å…©ç¨®åšæ³•   ä½¿ç”¨ useState ç›£è½æ¯å€‹ input onChange äº‹ä»¶ï¼Œæ›´æ–°è³‡æ–™ ä½¿ç”¨ useRef ç›´æ¥æ“ä½œ DOM å…ƒç´    ref é‚„é©åˆç”¨åœ¨ç®¡ç† focusã€æ–‡å­—é¸æ“‡ã€æ’­æ”¾å½±éŸ³ã€æ•´åˆç¬¬ä¸‰æ–¹ DOM å‡½å¼åº«ã€è§¸ç™¼å‹•ç•« éå¿…è¦æ™‚ä¸æ¿«ç”¨ ref æ“ä½œ DOM å…ƒç´ ï¼Œå¤šæ•¸å…ƒç´ ä¿æŒç”¨ State ç®¡ç† ref å»ºè­°ä»¥ callback æ–¹å¼ä½¿ç”¨  1 2 3  // å…ƒç´ ç¶å®šthis.contentï¼Œä½¿ç”¨this.xxxå‘¼å«ç›¸é—œå±¬æ€§ \u0026lt;input type=\u0026#39;text\u0026#39; ref={(el) =\u0026gt; (this.content = el)} /\u0026gt;; this.content.focus();    å¼•å…¥ ref objectï¼Œä½¿ç”¨ current å±¬æ€§ç²å– value  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64  // NewMeetupForm.js import Container from \u0026#34;../ui/Container\u0026#34;; import classes from \u0026#34;./NewMeetupForm.module.css\u0026#34;; import { useRef } from \u0026#34;react\u0026#34;; function NewMeetupForm() { // å‰µé€ ä¸€å€‹refç‰©ä»¶ï¼Œå¸¶æœ‰refå±¬æ€§ï¼Œè£¡é¢æœ‰currentå±¬æ€§  const titleInputRef = useRef(); const imageInputRef = useRef(); const addressInputRef = useRef(); const descriptionInputRef = useRef(); function submitHandler(event) { // é˜»æ“‹ç€è¦½å™¨é è¨­äº‹ä»¶ï¼Œé¿å…é»ä¸‹è¡¨å–®å°±æœƒå°ä¼ºæœå™¨ç™¼å‡ºè«‹æ±‚  event.preventDefault(); // ç²å¾—titleç›®å‰inputå€¼  const enteredTitle = titleInputRef.current.value; const enteredImage = imageInputRef.current.value; const enteredAddress = addressInputRef.current.value; const enteredDescription = descriptionInputRef.current.value; // å‰µé€ ä¸€å€‹ç‰©ä»¶ç®¡ç†  const meetupData = { title: enteredTitle, image: enteredImage, address: enteredAddress, description: enteredDescription, }; // send to server console.log(meetupData)  props.onAddMeetupData(meetupData); } return ( \u0026lt;Container\u0026gt; // æ–°å¢ submit ç›£è½  \u0026lt;form className={classes.form} onSubmit={submitHandler}\u0026gt; \u0026lt;div className={classes.control}\u0026gt; \u0026lt;label htmlFor=\u0026#39;title\u0026#39;\u0026gt;Title\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;text\u0026#39; id=\u0026#39;title\u0026#39; ref={titleInputRef} required /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={classes.control}\u0026gt; \u0026lt;label htmlFor=\u0026#39;image\u0026#39;\u0026gt;Image\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;url\u0026#39; id=\u0026#39;image\u0026#39; ref={imageInputRef} required /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={classes.control}\u0026gt; \u0026lt;label htmlFor=\u0026#39;address\u0026#39;\u0026gt;Address\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;text\u0026#39; id=\u0026#39;address\u0026#39; ref={addressInputRef} required /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={classes.control}\u0026gt; \u0026lt;label htmlFor=\u0026#39;description\u0026#39;\u0026gt;Description\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;textarea\u0026#39; rows=\u0026#39;5\u0026#39; id=\u0026#39;description\u0026#39; ref={descriptionInputRef} required /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={classes.action}\u0026gt; \u0026lt;button\u0026gt;Add\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/Container\u0026gt; ); } export default NewMeetupFrom;    è¡¨å–®è³‡æ–™ä¸Ÿåˆ°çˆ¶å±¤  1 2 3 4 5 6 7 8 9 10 11 12 13 14  // pages/NewMeetup.js function NewMeetupPage() { // è¡¨å–®è³‡æ–™meetupData  function addMeetupHandler(meetupData) { // send http req  } return ( \u0026lt;section\u0026gt; \u0026lt;h1\u0026gt;Add New Meetup\u0026lt;/h1\u0026gt; \u0026lt;NewMeetupForm onAddMeetupData={addMeetupHandler}\u0026gt; \u0026lt;/section\u0026gt; ); } export default NewMeetupPage;   21. API ä¸²æ¥ ç‚ºä»€éº¼éœ€è¦ API  å‰ç«¯çš„ç¨‹å¼ç¢¼åœ¨ devtool å¯ä»¥çœ‹åˆ°ï¼Œé€é API è³‡æ–™è·Ÿ server è¦è³‡æ–™ä»¥ç¢ºä¿å®‰å…¨ ä¸ç„¶æ‡‚ä¸€é»ç¨‹å¼çš„äººé€éå‰ç«¯ç¨‹å¼ç¢¼å‘¼å« serverï¼Œå¯ä»¥ç›œå–ä½¿ç”¨è€…å€‹è³‡ï¼Œä¹Ÿå¯ä»¥æŠŠä½  server æ¸…ç©º å¯ä»¥ç”¨ Firebase Realtime Database æ¸¬è©¦å‰ç«¯ä¸Ÿå‡ºå»çš„ JSON è³‡æ–™  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  function NewMeetupPage() { function addMeetupHandler(meetupData) { // Firebase realtime è³‡æ–™åº«çš„APIå¾Œæ–¹åŠ ä¸Š/xxx.jsonç­‰æ–¼ä¸€å€‹å¤§è¡¨  fetch(\u0026#39;firebaseAPIç¶²å€/xxx.json\u0026#39;, { method: \u0026#39;POST\u0026#39;, // bodyæ˜¯JSONæ ¼å¼  body:JSON.stringify(meetupData), // éƒ¨åˆ†APIæœƒè¦æ±‚æä¾›\u0026#39;Content-Type\u0026#39;  headers: { \u0026#39;Content-Type\u0026#39;:\u0026#39;application/json\u0026#39; } }) } return ( \u0026lt;section\u0026gt; \u0026lt;h1\u0026gt;Add New Meetup\u0026lt;/h1\u0026gt; \u0026lt;NewMeetupForm onAddMeetupData={addMeetupHandler}\u0026gt; \u0026lt;/section\u0026gt; ); } export default NewMeetupPage;   22. ä½¿ç”¨ useHistory è·³è½‰é é¢  history.goBack() å›ä¸Šä¸€é  history.push(\u0026rsquo;/\u0026rsquo;) åˆ°é¦–é ï¼Œæ–°å¢ä¸€å€‹ç¶²å€è³‡æ–™åˆ°é™£åˆ—å°¾ç«¯ history.replace(\u0026rsquo;/\u0026rsquo;) å›é¦–é ï¼Œç›´æ¥å–ä»£ current entry è³‡æ–™ï¼Œä¸æ–°å¢è³‡æ–™ï¼Œç•¶ä¸å¸Œæœ›ä½¿ç”¨è€…å›ä¸Šä¸€é å¯ä½¿ç”¨  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  import { useHistory } from \u0026#34;react-router-dom\u0026#34;; function NewMeetupPage() { function addMeetupHandler(meetupData) { // Firebase realtime è³‡æ–™åº«çš„APIå¾Œæ–¹åŠ ä¸Š/xxx.jsonç­‰æ–¼ä¸€å€‹å¤§è¡¨  fetch(\u0026#34;firebaseAPIç¶²å€/xxx.json\u0026#34;, { method: \u0026#34;POST\u0026#34;, // bodyæ˜¯JSONæ ¼å¼  body: JSON.stringify(meetupData), // éƒ¨åˆ†APIæœƒè¦æ±‚æä¾›\u0026#39;Content-Type\u0026#39;  headers: { \u0026#34;Content-Type\u0026#34;: \u0026#34;application/json\u0026#34;, }, }).then(() =\u0026gt; { history.replace(\u0026#34;/\u0026#34;); }); } }   23. ä½¿ç”¨ useEffect  useEffect å¯ä»¥ç”¨ä¾†é™åˆ¶å…ƒä»¶ä¸è¦æ¯æ¬¡æ¸²æŸ“éƒ½åŸ·è¡Œæ‰€æœ‰çš„ç¨‹å¼ç¢¼ ç¬¬ä¸€å€‹åƒæ•¸ç‚ºå‡½å¼ï¼Œç¬¬äºŒå€‹æ˜¯é™£åˆ—ï¼Œåªæœ‰[]å…§å®¹æœ‰è®ŠåŒ–æ‰æœƒåŸ·è¡Œ è‹¥æ²’åŠ ç¬¬äºŒå€‹åƒæ•¸ç­‰æ–¼æ¯æ¬¡éƒ½æœƒåŸ·è¡Œï¼Œæœ‰ç”¨è·Ÿæ²’ç”¨ä¸€æ¨£ è‹¥ç‚ºç©ºé™£åˆ—ï¼Œç”±æ–¼æ²’æœ‰ç›¸ä¾ä»»ä½•è®Šæ•¸ï¼Œæ‰€ä»¥åµæ¸¬ä¸åˆ°è®ŠåŒ–ï¼ŒåªæœƒåŸ·è¡Œç¬¬ä¸€æ¬¡ è‹¥è£¡é¢æœ‰è®Šæ•¸ï¼Œå‰‡è®Šæ•¸æœ‰è®ŠåŒ–å°±æœƒå†åŸ·è¡Œä¸€æ¬¡ é©åˆç”¨åœ¨ fetch dataã€è¨‚é–±ç›£è½äº‹ä»¶ã€æ”¹è®Š DOMã€è¼¸å‡º log get æ–¹æ³•è®“å€‹åˆ¥é é¢ç²å–ä¸åŒè³‡æ–™(æŠŠ dummyData æ›æˆå¯¦éš› server è³‡æ–™)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57  // pages/AllMeetup.js import { useState, useEffect } from \u0026#34;react\u0026#34;; function AllMeetupsPage() { const [isLoading, setIsLoading] = useState(true); const [meetups, setMeetups] = useState([]); useEffect(() =\u0026gt; { // fetchå›å‚³promise  fetch(\u0026#34;firebaseUrl/meetups.json\u0026#34;) .then((response) =\u0026gt; { // ç²å–body ä½¿ç”¨.jsonæ–¹æ³• æŠŠjsonæª”æ¡ˆè®ŠæˆJS object  // å› ç‚º.json return promiseæ‰€ä»¥ç”¨thenæ¥ èª²ç¨‹é€™é‚Šå°ˆå¿ƒåœ¨ç²å–è³‡æ–™ æ²’æœ‰å¯«åˆ°errorè™•ç†  return response.json(); }) .then((data) =\u0026gt; { // æˆ‘å€‘æœŸæœ›æ˜¯é™£åˆ—è³‡æ–™å¥—å…¥åˆ°æ¨¡æ¿ï¼Œè€Œfirebaseä¸Šçš„meetupsè³‡æ–™æ˜¯å·¢ç‹€ç‰©ä»¶çµæ§‹  // æœ€å¤–å±¤æ˜¯ä¸€å€‹objectï¼Œæ¯ç­†è³‡æ–™æ˜¯ä¸€å€‹key value pair  // meetups = {  // key1: {title:\u0026#39;\u0026#39;, image:\u0026#39;\u0026#39;, address:\u0026#39;\u0026#39;, description:\u0026#39;\u0026#39;},  // key2: {title:\u0026#39;\u0026#39;, image:\u0026#39;\u0026#39;, address:\u0026#39;\u0026#39;, description:\u0026#39;\u0026#39;}  // }  const meetups = []; for (const key in data) { // è§£æ§‹å‡ºdata  const meetups = { id: key, ...data[key], }; // è³‡æ–™ä¸€ç­†ç­†æ¨å…¥é™£åˆ—  meetups.push(meetup); } setIsLoading(false); setMeetups(data); }); }, []); if (isLoading) { return ( \u0026lt;section\u0026gt; \u0026lt;p\u0026gt;Loading...\u0026lt;/p\u0026gt; \u0026lt;/section\u0026gt; ); } // é€™æ®µä¸æœƒç­‰ä¸Šé¢å›å‚³è³‡æ–™ï¼Œä½†ä¸èƒ½ç”¨async function AllMeetupPage await fetchä¾†è™•ç†  // å…ƒä»¶å‡½å¼æ‡‰æ˜¯åŒæ­¥å‡½å¼ï¼Œä¸æ‡‰è©²return promiseè€Œæ˜¯JSX  // å¯ä½¿ç”¨Stateæ¢ä»¶æ¸²æŸ“ loading  return ( \u0026lt;section\u0026gt; \u0026lt;h1\u0026gt;AllMeetupsPage\u0026lt;/h1\u0026gt; {meetups.map((el) =\u0026gt; { return \u0026lt;li key={el.id}\u0026gt;{el.title}\u0026lt;/li\u0026gt;; })} \u0026lt;/section\u0026gt; ); } export default AllMeetupsPage;    è‹¥æ²’ä½¿ç”¨ useEffectï¼Œç•¶ useState æ›´æ–°ç‹€æ…‹æœƒå†è·‘ä¸€æ¬¡å…ƒä»¶ï¼Œå† fetch ä¸€æ¬¡å°±æœƒç„¡é™è¿´åœˆ  24-1 useContext ç®¡ç†å…¨åŸŸ State (é€™å€‹æ‡‰è©²æ˜¯æœ€è¤‡é›œçš„)  ä¸Šé¢ä»‹ç´¹é useState åœ¨å–®å€‹å…ƒä»¶çš„æ›´æ–°è³‡æ–™æ–¹æ³• å¦‚æœéœ€è¦ç®¡ç†å…¨åŸŸçš„ Stateï¼Œå¯ä»¥ç”¨ props å‚³é State æ›´æ–°å…¶ä»–å…ƒä»¶è³‡æ–™ï¼Œä½†å¤§å°ˆæ¡ˆæœƒä¸å¥½ç¶­è­·è·Ÿç®¡ç† ä¹Ÿå¯ä»¥ä½¿ç”¨ reduxï¼Œä½† React å‡½å¼åº«æœ¬èº«å°±æœ‰å…§å»º context ç®¡ç† State çš„ function ç®¡ç† State çš„ context ä¸€èˆ¬æœƒå»ºç«‹åœ¨ src/store ä¸‹(e.g. favorites-context.js)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53  import { createContext, useState } from \u0026#34;react\u0026#34;; // å»ºç«‹ä¸€å€‹contextç‰©ä»¶ è£¡é¢æ”¾åˆå§‹å€¼ const FavoritesContext = createContext({ favorites: [], totalFavorites: 0, addFavorite: (favoriteMeetup) =\u0026gt; {}, removeFavorite: (favoriteMeetup) =\u0026gt; {}, itemIsFavorite: (favoriteMeetup) =\u0026gt; {}, }); // æ›´æ–°æˆ‘çš„æœ€æ„›Stateçš„å‡½å¼ ç”¨ä¾†ç®¡ç†é€™å€‹å‡½å¼è£¡çš„State é€™é‚ŠåŠ ä¸Šexportä¹‹å¾Œæœƒå¾å¤–éƒ¨å‘¼å« export function FavoritesContextProvider(props) { const [userFavorites, setUserFavorites] = useState([]); // å»ºç«‹ä¸‰å€‹è™•ç†æˆ‘çš„æœ€æ„›Stateçš„å‡½å¼  function addFavoriteHandler(favoriteMeetup) { setUserFavorites((prevUserFavorites) =\u0026gt; { return prevUserFavorites.concat(favoriteMeetup); }); } function removeFavoriteHandler(meetupId) { setUserFavorites((prevUserFavorites) =\u0026gt; { return prevUserFavorites.filter((prev) =\u0026gt; prev.id !== meetupId); }); } function itemIsFavoriteHandler(meetupId) { return userFavorites.some((meetup) =\u0026gt; meetup.id !== meetupId); } // æ–°å¢ä¸€å€‹ context object é€évalueæŠŠå€¼å‚³éå»  const context = { // æŠŠuserFavoriteçš„snapshotæ”¾åœ¨é€™è£¡ï¼Œç•¶Stateæ”¹è®Šcontextç‰©ä»¶ä¹Ÿæœƒæ”¹è®Š  // ä¹Ÿæœƒé€évalue={context}å‚³æ–°çš„å€¼åˆ°ç›¸é—œå…ƒä»¶  favorites: userFavorites, totalFavorites: userFavorites.length, // ç•¶å…¶ä»–å…ƒä»¶è¦ä½¿ç”¨ä¸Šæ–¹ä¸‰å€‹å‡½å¼æ™‚ï¼Œç”¨pointeræŒ‡å‘ä¸‹é¢çš„keyç„¶å¾Œå°±æœƒåŸ·è¡Œå¾Œé¢çš„å‡½å¼ï¼Œå³ä¸Šé¢çš„function  addFavorite: addFavoriteHandler, removeFavorite: removeFavoriteHandler, itemIsFavorite: itemIsFavoriteHandler, }; // Provideræ˜¯å…§å»ºçš„å…ƒä»¶ å¿…é ˆåŒ…åœ¨æ‰€æœ‰æœƒè·Ÿä»–äº’å‹•çš„å…ƒä»¶(e.g. App) valueæœƒå‚³å€¼  return ( \u0026lt;FavoritesContext.Provider value={context}\u0026gt; {props.children} \u0026lt;/FavoritesContext.Provider\u0026gt; ); } // è¼¸å‡ºFavoritescontext export default FavoritesContext;    index.js å¼•ç”¨ï¼Œè®“å…¨åŸŸéƒ½å¯ä»¥ä½¿ç”¨ context  1 2 3 4 5 6 7 8 9 10 11  // index.js import { BrowserRouter } from \u0026#34;react-router-dom\u0026#34;; import { FavoriteContextProvider } from \u0026#34;./store/favorite-context\u0026#34;; RouterDOM.render( \u0026lt;FavoriteContextProvider\u0026gt; \u0026lt;BrowserRouter\u0026gt; \u0026lt;APP /\u0026gt; \u0026lt;/BrowserRouter\u0026gt; \u0026lt;/FavoriteContextProvider\u0026gt; );   24-2 åœ¨å…ƒä»¶å¼•ç”¨ useContext  å¼•ç”¨åˆ° MeetupItem.js  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34  // é»åŠ å…¥æˆ‘çš„æœ€æ„›å°±æœƒæŠŠitemåŠ å…¥é™£åˆ—ï¼Œæ›´æ–°æŒ‰éˆ•æ–‡å­— ... import FavoritesContext from \u0026#39;./../../store/favorite-context\u0026#39; function MeetUpItem(props) { function toggleFavoritesStatusHandler() { const favoritesCtx = useContext(FavoritesContext) const itemIsFavorite = favoriteCtx.itemIsFavorite(prop.id) function toggleFavoriteStatusHandler() { if(itemIsFavorite) { favoritesCtx.removeFavorite(prop.id) } else { // æ›´æ–°é™£åˆ—è³‡æ–™ï¼Œå°±æœƒé€éfavorite-contextè®“å…¨åŸŸç‰©ä»¶ä¸‹ç›¸é—œè³‡æ–™éƒ½æ›´æ–°  favoritesCtx.addFavorite({ id: props.id, title: props.title, address: props.address, image: props.image, description: prop.description }) } } return ( \u0026lt;li className={classes.item}\u0026gt; \u0026lt;Container\u0026gt; ... \u0026lt;div\u0026gt; \u0026lt;button onClick={toggleFavoriteStatusHandler}\u0026gt;{itemIsFavorite ? \u0026#39;Remove\u0026#39; : \u0026#39;Add\u0026#39;}\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/Container\u0026gt; \u0026lt;/li\u0026gt; ); } }    å¼•ç”¨åˆ° FavoritesPage  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  ... import { useContext } from \u0026#39;react\u0026#39; import FavoritesContext from \u0026#39;./../store/favorite-context\u0026#39; // é¡¯ç¤ºæˆ‘çš„æœ€æ„›item function FavoritesPage(){ const favoritesCtx = useContext(FavoritesContext) let content if (favoritesCtx.totalFavorites.length === 0){ content = \u0026lt;p\u0026gt;No Favorites yet\u0026lt;/p\u0026gt; } else { content = \u0026lt;MeetupList meetups={favoritesCtx.favorites}\u0026gt; } return \u0026lt;section\u0026gt; \u0026lt;h1\u0026gt;My Favorites\u0026lt;/h1\u0026gt; // array  {content} \u0026lt;/section\u0026gt; } export default FavoritesPage    å¼•ç”¨åˆ°å°è¦½åˆ—(æ”¾ä¸Šæˆ‘çš„æœ€æ„›ç¸½æ•¸)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  // MainNavigation.js ... import { useContext } from \u0026#39;react\u0026#39; import FavoritesContext from \u0026#39;./../../store/favorite-context\u0026#39; import { Link } from \u0026#39;react-router-dom\u0026#39; function MainNavigation() { const favoriteCtx = useContext(FavoritesContext) return ( \u0026lt;header\u0026gt; ... \u0026lt;li\u0026gt; \u0026lt;Link to=\u0026#39;/favorites\u0026#39;\u0026gt;My favorites \u0026lt;span\u0026gt;{favoriteCtx.totalFavorites.length}\u0026lt;/span\u0026gt; \u0026lt;/Link\u0026gt; \u0026lt;/li\u0026gt; ... \u0026lt;/header\u0026gt; ) } export default MainNavigation   æœ€å¾Œæƒ³è£œå……ä¸€ä¸‹\u0026hellip;\nå…¶å¯¦æˆ‘è¦ºå¾— Vue ä¹Ÿä¸éŒ¯å•Šï¼ˆx)\næœ‰å¥½åƒçš„èªæ³•ç³–ï¼šç”¨@ç›£è½äº‹ä»¶ï¼Œ@submit.prevent.stop å°±å¯é˜»æ­¢ç€è¦½å™¨æäº¤è¡¨å–®è·Ÿå†’æ³¡ï¼šå‹•æ…‹ classï¼Œwatch æ·±å±¤ç›£è½ç‰©ä»¶å±¬æ€§ï¼Œcomputed å‹•æ…‹æ›´æ–°ï¼Œv-model é›™å‘ç¶å®šè¡¨å–®\u0026hellip;å„ç¨®å¥½åƒçš„ç³–)\nåŸä¾†æš—è—ä¸€ç¯‡ Vue æ¨éŠ·æ–‡ï¼ŒçœŸæ˜¯å¤ªé‚ªæƒ¡äº†\n","date":"2022-01-06T00:00:00+08:00","image":"https://bacnotes.github.io/p/react-knowledge-101/photo-1633356122544-f134324a6cee_hu3d03a01dcc18bc5be0e67db3d8d209a6_61563_120x120_fill_q75_box_smart1.jpeg","permalink":"https://bacnotes.github.io/p/react-knowledge-101/","title":"è‡ªå­¸Reactçš„ä½ éœ€è¦çŸ¥é“çš„ä¸€äº›çŸ¥è­˜ï½œReact - The Complete Guideï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"JavaScript çš„ç‰¹æ€§ high level é«˜éš(èªè¨€)  é«˜éšæ˜¯æ¥è¿‘äººé¡è®€å¾—æ‡‚çš„èªè¨€ï¼Œä½éšæ˜¯æ¥è¿‘æ©Ÿå™¨çš„ 2 é€²ä½çš„æ©Ÿå™¨ç¢¼(machine code) ä¾‹å¦‚ c èªè¨€(ä½éšèªè¨€)ï¼Œéœ€è¦è™•ç†å®£å‘Šæ–°è®Šæ•¸æ™‚çš„è¨˜æ†¶é«” è€Œé«˜éšèªè¨€çš„ python è·Ÿ JavaScript ä¸éœ€è¦ï¼Œä½†æ•ˆèƒ½ä¸æœƒæœ‰ c èªè¨€å¥½  prototype based object-oriented ç‰©ä»¶å°å‘  JavaScript è³‡æ–™é™¤äº† primitives éƒ½æ˜¯ç‰©ä»¶ é™£åˆ—ä¹Ÿæ˜¯ç‰©ä»¶ï¼Œåªæ˜¯ key ç‚º index  1 2  let arr = [1, 2, 3] typeof arr //object   interpreted or just-in-time compiled  JavaScript å¼•æ“æœƒå¹«æˆ‘å€‘è½‰æˆ 2 é€²ä½çš„æ©Ÿå™¨ç¢¼  dynamic-typed å‹•æ…‹è³‡æ–™å‹æ…‹  å®£å‘Šè®Šæ•¸æ™‚ä¸éœ€è¦çµ¦äºˆå‹åˆ¥(Cã€Javaã€Ruby è¦) å®¹æ˜“æ”¹è®Šå‹åˆ¥  single-threaded å–®åŸ·è¡Œç·’  ä¸€æ¬¡åªèƒ½åŸ·è¡Œä¸€ä»¶äº‹  garbage collected æœ‰è¨˜æ†¶é«”å›æ”¶æ©Ÿåˆ¶  æœ‰æ©Ÿåˆ¶æœƒè‡ªå‹•ç§»é™¤è¨˜æ†¶é«”ä¸­è€èˆŠæˆ–æ²’æœ‰ä½¿ç”¨çš„è®Šæ•¸  multi-paradigm å¯ä»¥åŒæ™‚ä½¿ç”¨å¤šç¨®é¢¨æ ¼ä¾†å¯«ç¨‹å¼  å¯ä»¥ç”¨ Procedural Programming ç¨‹åºåŒ–ç¨‹å¼è¨­è¨ˆ å¯ä»¥ç”¨ Function Programming å‡½å¼ç¨‹å¼è¨­è¨ˆ å¯ä»¥ç”¨ Object-Oriented Programming ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ  with first-class functions ä¸€ç´šå‡½å¼  ä¸€ç´šå‡½å¼æ˜¯ä¸€ç¨®ç‰¹æ€§ï¼Œéƒ¨åˆ†ç¨‹å¼èªè¨€æ²’æœ‰ï¼Œè€Œ JavaScript æœ‰ ä¸€ç´šå‡½å¼è¡¨ç¤ºåœ¨é€™å€‹èªè¨€å‡½å¼å¯ä»¥è¢«ç•¶ä½œä¸€å€‹è®Šæ•¸(variable)ï¼Œè³¦å€¼çµ¦å…¶ä»–è®Šæ•¸æˆ–åšç‚ºåƒæ•¸å‚³é(functions are values)  non-blocking event loop concurrent model  ç”±æ–¼å–®åŸ·è¡Œç·’ä½†åˆå¾—è™•ç†åŒæ™‚ç™¼ç”Ÿçš„å¤šç¨®ä»»å‹™ï¼Œå®¹æ˜“é˜»å¡ JavaScript å¼•æ“æœƒä½¿ç”¨ event loopï¼Œä¸€å€‹èƒŒæ™¯åŸ·è¡Œçš„ taskï¼Œä»»å‹™åŸ·è¡Œå®Œçš„çµæœæœƒæ”¾åˆ° call stack  JavaScript å¼•æ“ v.s. åŸ·è¡Œç’°å¢ƒ runtime v.s.åŸ·è¡Œæ–‡æœ¬ context JavaScript å¼•æ“  å„å®¶ç€è¦½å™¨æœ‰è‡ªå·±çš„ JavaScript å¼•æ“ï¼Œç”¨ä¾†åŸ·è¡Œ JavaScript Google é–‹ç™¼çš„ V8 å¼•æ“ï¼Œä¸åªç”¨æ–¼ Chrome é‚„æœ‰ Node.js(å¯ä»¥åœ¨ç€è¦½å™¨å¤–åŸ·è¡Œ JavaScript) JavaScript å¼•æ“åŒ…å«ä¸€å€‹ Call Stack(execution context)è·Ÿä¸€å€‹ Heap Heap æ˜¯éçµæ§‹åŒ–çš„è¨˜æ†¶é«”æ± ï¼Œå„²å­˜æ‰€æœ‰ç‰©ä»¶ interpretationï¼šç¨‹å¼ç¢¼è½‰æˆä¸€è¡Œè¡ŒåŸ·è¡Œçš„ codeï¼Œå†è½‰æˆæ©Ÿå™¨ç¢¼ compilationï¼šæ•´åŒ…ç¨‹å¼ç¢¼è½‰æˆ machine code(2 é€²ä½)ï¼Œå†åŸ·è¡Œç¨‹å¼ just-in-time compilation: ç¨‹å¼ç¢¼è½‰æˆ 2 é€²ä½å¾Œç«‹å³åŸ·è¡Œ(é¿å…ç­‰å¾…) ç•¶ä¸€æ®µç¨‹å¼ç¢¼é€²åˆ°å¼•æ“æœƒåŸ·è¡Œä¸‹æ–¹ç¨‹åº  1 2 3 4  step1. parsing: JavaScript â†’ AST(abstract syntax tree) çµæ§‹åŒ–JavaScript step2. compilation: AST â†’ 2é€²ä½çš„æ©Ÿå™¨ç¢¼ step3. execution: åœ¨call stackåŸ·è¡Œ step2~3. optimization: é‚ŠåŸ·è¡Œé‚Šæœ€ä½³åŒ–(åœ¨ç‰¹åˆ¥çš„threadåŸ·è¡Œï¼Œç„¡æ³•access)   JavaScript Runtime åŸ·è¡Œç’°å¢ƒ   browser: JavaScript å¼•æ“ + webAPIs + callback queue\n  call stack : ç”±ä¸Šåˆ°ä¸‹åŸ·è¡Œ stack è£¡é¢æ¯ä¸€è¡Œç¨‹å¼ï¼Œè®Šæ•¸çš„è¨˜æ†¶é«”ä¹Ÿæ˜¯åœ¨é€™å€‹éšæ®µå»ºç«‹(hoisting)ï¼Œé‡åˆ°éœ€è¦å‘¼å« API çš„éåŒæ­¥å‡½å¼æœƒæŠŠè£¡é¢çš„ call back function ä¸Ÿåˆ° webAPI æ’ç¨‹åŸ·è¡Œ\n  webAPIs è™•ç†éåŒæ­¥å‡½å¼ï¼Œç•¶æœ‰æ”¶åˆ°å›å‚³çµæœï¼Œæœƒä¾ç…§å›å‚³æ™‚é–“é †åºæŠŠ callback function å‚³åˆ° callback queue\n  ç•¶ stack æ¸…ç©ºæ™‚ï¼Œcallback queue å°±æœƒæŠŠ callback function ä¾åºï¼ˆqueueå…ˆé€²å…ˆå‡º)ä¸Ÿåˆ° stack è£¡åŸ·è¡Œ\n  é€™æ•´å€‹éç¨‹å°±æ˜¯ event loopï¼Œç‚ºäº†æé«˜ç€è¦½å™¨çš„ä½¿ç”¨é«”é©—ï¼Œä¸æœƒè¢«éåŒæ­¥å‡½å¼ç­‰å¾…éç¨‹é˜»å¡çš„æ©Ÿåˆ¶   node.js: JavaScript å¼•æ“ + C ++ bindings \u0026amp; thread pool + callback queue (é€™é‚ŠçŸ¥é“çš„å¤§æ¦‚å³å¯)\n  ï¼Šstack æ˜¯å…ˆé€²å¾Œå‡º(å¾Œé€²å…ˆå‡º)çš„è³‡æ–™çµæ§‹ï¼Œqueue æ˜¯å…ˆé€²å…ˆå‡ºçš„è³‡æ–™çµæ§‹\nexecution context åŸ·è¡Œæ–‡æœ¬ ï¼Šç‚ºäº†è·ŸåŸ·è¡Œç’°å¢ƒ runtime åšåè©å€éš”ï¼Œä½¿ç”¨ä¸åŒä¸­æ–‡åç¨±æŒ‡ç¨±\n  åŸ·è¡Œæ–‡æœ¬åŒ…å«\n\u0026ndash; variable environment è®Šæ•¸ç’°å¢ƒ:åŒ…å« let const var å®£å‘Š, å‡½å¼, åƒæ•¸ arguments obj\n\u0026ndash; scope chain ä½œç”¨åŸŸéˆ:è®“å€‹åˆ¥å‡½å¼å¯ä»¥ ref åˆ°å‡½å¼å¤–çš„è®Šæ•¸ï¼Œæœƒå­˜åœ¨å€‹åˆ¥åŸ·è¡Œæ–‡æœ¬\n\u0026ndash; this:æ¯å€‹åŸ·è¡Œæ–‡æœ¬éƒ½æœ‰è‡ªå·±çš„ thisï¼Œåœ¨å‰µé€ éšæ®µæ™‚èª•ç”Ÿ(åŸ·è¡Œéšæ®µå‰)\n  æœ‰å‰µé€ éšæ®µè·ŸåŸ·è¡Œéšæ®µ\n  ç®­é ­å‡½å¼æ²’æœ‰è‡ªå·±çš„ this æˆ–åƒæ•¸ï¼Œä½†å¯ä»¥ä½¿ç”¨çˆ¶å±¤çš„ this æˆ–åƒæ•¸\n  åŸ·è¡Œé †åº\nstep1. å‰µé€ å…¨åŸŸåŸ·è¡Œæ–‡æœ¬(top-level/not inside the function)\nï¼Š åªæœ‰é function çš„æœƒè¢«åŸ·è¡Œï¼Œå› ç‚º function è¦è¢«å‘¼å«æ‰æœƒåŸ·è¡Œ\nï¼Š åªæœƒæœ‰ä¸€å€‹ global execution context\nstep2. åŸ·è¡Œå…¨åŸŸåŸ·è¡Œæ–‡æœ¬(inside global EC)\nstep3. åŸ·è¡Œå‡½å¼ç­‰å¾… callback å›å‚³çµæœ\nï¼Š ä¾åºå‘¼å«å€‹åˆ¥å‡½å¼ï¼Œå€‹åˆ¥å‡½å¼çš„æ–‡æœ¬æœƒè¢«å‰µé€ \nï¼Š call stack çš„å…§å®¹å°±æ˜¯ç”±é€™äº›å€‹åˆ¥å‡½å¼è·Ÿæ–‡æœ¬æ‰€çµ„æˆ\n  scope ä½œç”¨åŸŸ \u0026amp; scope chain ä½œç”¨åŸŸéˆ global scope å…¨åŸŸ  ä½æ–¼ function è·Ÿ block å¤– å¯ä»¥è¢«æ‰€æœ‰åœ°æ–¹å­˜å–  function scope å‡½å¼ä½œç”¨åŸŸ  ä¹Ÿè¢«ç¨±ä½œ local scope åªèƒ½åœ¨å‡½å¼å…§å­˜å–ï¼Œå˜—è©¦å­˜å–æœƒå‡ºç¾ error ES6 é–‹å§‹åš´æ ¼æ¨¡å¼ä¸‹ä¹Ÿæ˜¯ block scope  block scope(ES6 é–‹å§‹å‡ºç¾) å€å¡Šä½œç”¨åŸŸ  let è·Ÿ const è¢«é™åˆ¶åªèƒ½åœ¨ block ç¯„åœå…§å­˜å– var é‚„æ˜¯å¯ä»¥è¢« function scope å­˜å– ES6 é–‹å§‹åš´æ ¼æ¨¡å¼ä¸‹ function scope ä¹Ÿæ˜¯ block scope(å¯«å…©æ¬¡å› ç‚ºå¾ˆé‡è¦)  scope chain  ç•¶è®Šæ•¸ä¸å­˜åœ¨ç¾æœ‰ scopeï¼Œç„¡è«–æ˜¯ block æˆ– function éƒ½å¯ä»¥è®€å¤–é¢çˆ¶å±¤è£¡çš„è®Šæ•¸ æ‰¾ä¸åˆ°æ™‚æœƒä¸€å±¤å±¤å¾€å¤–æ‰¾(variable lookup)ï¼Œå®Œå…¨æ‰¾ä¸åˆ°æœƒå‡ºç¾ ReferenceError åªèƒ½å¾€å¤–æ‰¾ï¼Œä¸èƒ½å¾€å…§ console.log(function æˆ– block è£¡é¢çš„è®Šæ•¸)æœƒ ReferenceError sibling ä¹‹é–“ä¸è¡Œäº’ç›¸è®€å– æ¯å€‹ scope chain éƒ½åŒ…å«ä»–çš„è®Šæ•¸è·Ÿçš„çˆ¶å±¤çš„è®Šæ•¸ scope chain å¯ä»¥è®€å–çš„è®Šæ•¸è·Ÿ function åœ¨ call stack åŸ·è¡Œé †åºç„¡é—œ  callstack v.s. scope chain  ä½¿ç”¨ä¸‹æ–¹å‡½å¼èˆ‰ä¾‹ step1. å‰µé€ å…¨åŸŸåŸ·è¡Œæ–‡æœ¬\n(å…¨åŸŸè®Šæ•¸ç’°å¢ƒï¼ša=\u0026lsquo;Jonas\u0026rsquo;, first=fn, third=fn) step2. åŸ·è¡Œå…¨åŸŸåŸ·è¡Œæ–‡æœ¬ï¼Œå‰µé€ å‡ºå€‹åˆ¥åŸ·è¡Œæ–‡æœ¬\nfirst()ä½œç”¨åŸŸï¼šå¯ä»¥ç²å–æœ¬åœ°ä½œç”¨åŸŸè·Ÿçˆ¶å±¤çš„è®Šæ•¸ç’°å¢ƒ\n(è®Šæ•¸ç’°å¢ƒï¼šb=\u0026lsquo;Hello\u0026rsquo;, second=fn, a=\u0026lsquo;Jonas\u0026rsquo;, first=fn, third=fn)\nsecond()ä½œç”¨åŸŸï¼šå¯ä»¥ç²å–æœ¬åœ°ä½œç”¨åŸŸè·Ÿçˆ¶å±¤çš„è®Šæ•¸ç’°å¢ƒ\n(è®Šæ•¸ç’°å¢ƒï¼šc, b=\u0026lsquo;Hello\u0026rsquo;, second=fn, a=\u0026lsquo;Jonas\u0026rsquo;, first=fn, third=fn)\nthird()ä½œç”¨åŸŸï¼šå¯ä»¥ç²å–æœ¬åœ°ä½œç”¨åŸŸè·Ÿçˆ¶å±¤çš„è®Šæ•¸ç’°å¢ƒ\n(è®Šæ•¸ç’°å¢ƒï¼šd=\u0026lsquo;Hey\u0026rsquo;, a=\u0026lsquo;Jonas\u0026rsquo;, first=fn, third=fn) step3. åŸ·è¡Œå€‹åˆ¥æ–‡æœ¬(åŸ·è¡Œå‡½å¼)ï¼Œç­‰å¾… callback å›å‚³çµæœ  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  const a = \u0026#39;Jonas\u0026#39;; first(); function first() { const b = \u0026#39;Hello\u0026#39;; second(); function second() { const c = \u0026#39;H1\u0026#39;; third(); } } function third() { const d = \u0026#39;Hey!\u0026#39;; console.log(d + c + b + a); // ReferenceError }   ï¼Šä¸‹æ–¹æ˜¯å¦ä¸€å€‹ç¯„ä¾‹ï¼Œè¼¸å‡ºçµæœç”¨//è¡¨ç¤ºï¼Œä¸”è¦–ç‚ºå–®ç¨å‡ºç¾é€™è¡Œçš„ç‹€æ³ï¼ˆå½¼æ­¤ä¹‹é–“ä¸å½±éŸ¿ï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41  \u0026#39;use strict\u0026#39;; const firstName = \u0026#39;Jonas\u0026#39; function calcAge(birthYear) { const age = 2037 - birthYear function printAge() { // åŸ·è¡Œæ™‚è£¡é¢æ²’æœ‰ageï¼Œvariable lookupå¾€çˆ¶å±¤æ‰¾  const output = `You are ${age}, born in ${birthYear}`; console.log(output); if (birthYear \u0026gt;= 1981 \u0026amp;\u0026amp; birthYear \u0026lt;= 1996) { var millenial = true; // å‰µé€ è·Ÿå¤–é¢ä¸€æ¨£è®Šæ•¸åçš„æ–°è®Šæ•¸  const firstName = \u0026#39;Steven\u0026#39; const str = `you are a millenial, ${firstName}`; console.log(str); // åŸ·è¡Œæ™‚è£¡é¢æ²’æœ‰firstNameï¼Œå¾€çˆ¶å±¤æ‰¾ you are a millenial, Jonas  function add(a, b) { return a + b; } // å…§éƒ¨é‡æ–°è³¦å€¼output ä¸‹æ–¹æœƒåˆ—å°å‡ºæ–°çš„å€¼çš„output  output = \u0026#39;New output\u0026#39; } console.log(str); // ç„¡æ³•ç²å–å…§éƒ¨è®Šæ•¸ str is not defined  console.log(millenial); // varä¸æ˜¯block scopeæ˜¯function scopeå› æ­¤å¯ä»¥ç²å–åŒfunctionçš„è®Šæ•¸ true  console.log(add(3,5)) //add function åš´æ ¼æ¨¡å¼ä¸‹ä¹Ÿæ˜¯block scope æœƒReferenceErrorï¼Œéåš´æ ¼æ¨¡å¼ä¸‹æœƒæ˜¯8  console.log(output) //\u0026#39;New output\u0026#39;  } printAge() return age } calcAge(1991) // You are 46, born 1991 console.log(age) // ReferenceError ç„¡æ³•ç²å–å…§éƒ¨è®Šæ•¸age printAge(); // ReferenceError ç„¡æ³•ç²å–å…§éƒ¨è®Šæ•¸ printAge()   ç¸½çµ  è¦äº†è§£è®Šæ•¸å­˜æ´»çš„å€åŸŸï¼Œå“ªè£¡å¯ä»¥ç²å–é€™äº›å€¼ å¦‚ä½•è¨­è¨ˆè®Šæ•¸çš„ä½ç½®è·Ÿç²å–ç¨‹å¼çš„è®Šæ•¸ lexical scoping æ˜¯ä½¿ç”¨ function è·Ÿ block ç­‰å°é–‰ç’°å¢ƒï¼Œæ§åˆ¶è®Šæ•¸å­˜å– scope å®£å‘Šè®Šæ•¸çš„ç’°å¢ƒï¼Œæœ‰ global å…¨åŸŸ, function å‡½å¼è·Ÿ block å€å¡Šä¸‰ç¨®ä½œç”¨åŸŸ æ‰€æœ‰ scope éƒ½å¯ä»¥ç²å–çˆ¶å±¤çš„ scopeï¼Œå› ç‚ºé€™æ˜¯ä¸€æ¢ scope chain  Hoisting æå‡  è¡¨é¢ä¸Šæ˜¯å¯ä»¥åœ¨å®£å‘Šå‰è¢«ä½¿ç”¨ å…¶å¯¦æ˜¯åœ¨åŸ·è¡Œéšæ®µå‰ï¼Œå·²ç¶“åœ¨å‰µé€ éšæ®µå°±å»ºç«‹åœ¨è®Šæ•¸ç’°å¢ƒ(variable environment) ä¸åŒè®Šæ•¸è¡Œç‚ºä¸åŒ  å‡½å¼å®£å‘Š  å‡½å¼å®£å‘Šæœƒæå‡ æœªå®£å‘Šä½¿ç”¨ç‚ºå¯¦éš›å€¼ è®Šæ•¸å­˜å–ç¯„åœåš´æ ¼æ¨¡å¼ä¸‹ç‚º block scopeï¼Œéåš´æ ¼æ¨¡å¼ä¸‹ç‚º function scope  var  var æœƒæå‡ æœªå®£å‘Šä½¿ç”¨ç‚º undefined è®Šæ•¸å­˜å–ç¯„åœç‚º function scope  const/let  const è·Ÿ letï¼ŒæŠ€è¡“ä¸Šä¾†èªªæœ‰æå‡ä½†æ˜¯æœªåˆå§‹åŒ– uninitialized æ²’æœ‰å¯å–ç”¨çš„å€¼ æœªå®£å‘Šä½¿ç”¨ä¸‹æœƒè¢«é–åœ¨ TDZ(temporary dead zone) è®Šæ•¸å­˜å–ç¯„åœç‚º block scope  å‡½å¼è¡¨é”å¼è·Ÿç®­é ­å‡½å¼  å‡½å¼è¡¨é”å¼è·Ÿç®­é ­å‡½å¼è‹¥ç”¨ var å­˜å–æœƒæå‡ æœªå®£å‘Šä½¿ç”¨æ˜¯ undefinedï¼Œåä¹‹å‰‡è·Ÿ const/let ç‰¹æ€§ä¸€æ¨£ é€™ä¹Ÿæ˜¯ç‚ºä½•åœ¨å‡½å¼è¡¨é”å¼ä¸­ï¼Œæˆ‘å€‘ç„¡æ³•ä½¿ç”¨åœ¨å®£å‘Šè®Šæ•¸å‰èª¿ç”¨å‡½å¼ï¼Œè€Œå‡½å¼å®£å‘Šå¯ä»¥ä¸é¡§å‡½å¼å®£å‘Šé †åºï¼Œä»»ä½•åœ°æ–¹éƒ½å¯ä»¥èª¿ç”¨  TDZ æ˜¯ä»€éº¼ (ES6 é–‹å§‹å‡ºç¾)  TDZ ç‚ºè®Šæ•¸åˆå§‹åŒ–å‰çš„å€å¡Š ä¸‹åœ– job åœ¨è¢« const å®£å‘Šå‰è¢«å‘¼å«ï¼Œæœƒå‡ºç¾ ReferenceError cannot access \u0026lsquo;job\u0026rsquo; before initializationï¼Œéœ€è¦å®£å‘Šå¾Œæ‰èƒ½è¢«ä½¿ç”¨ ä½†å¦‚æœå‘¼å«å®Œå…¨æ²’è¢«å‰µé€ çš„è®Šæ•¸ï¼Œæœƒé¡¯ç¤ºå¦ä¸€ç¨®è¨Šæ¯ ReferenceError x is not defined æœ‰ TDZ æ¯”è¼ƒå®¹æ˜“æŠ“å‡ºæœªå®£å‘Šä½¿ç”¨çš„éŒ¯èª¤ å¦ä¸€å€‹ TDZ å­˜åœ¨å¥½è™•æ˜¯ï¼Œå›  const ç„¡æ³•é‡æ–°è³¦å€¼ï¼Œæ‰€ä»¥ç„¡æ³•è¨­å®š undefined å†çµ¦æ–°çš„å€¼ï¼ŒTDZ å¯ä»¥è®“ const é †åˆ©é‹ä½œ hoisting çš„å¥½è™•ï¼šmutual recursionï¼Œè®“ code å¯è®€æ€§é«˜ï¼Œè€Œ var çš„ hoisting ç®—æ˜¯å‰¯ç”¢ç‰©ï¼Œå¾Œè¦‹ä¹‹æ˜çœ‹ä¾†ä¸æ˜¯å¥½æ±æ±  ï¼Šä¸‹æ–¹è¼¸å‡ºçµæœç”¨//è¡¨ç¤ºï¼Œä¸”è¦–ç‚ºå–®ç¨å‡ºç¾é€™è¡Œçš„ç‹€æ³ï¼ˆå½¼æ­¤ä¹‹é–“ä¸å½±éŸ¿ï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  // Variables console.log(me); // not defined console.log(job); // ReferenceError cannot access \u0026#39;job\u0026#39; before initialization console.log(year); // ReferenceError cannot access \u0026#39;job\u0026#39; before initialization  var me = \u0026#39;Jonas\u0026#39;; let job = \u0026#39;teacher\u0026#39;; const year = 1991; -- // Functions console.log(addDecl(2, 3)); // 5 console.log(addExpr(2, 3)); // cannot access \u0026#39;addExpr\u0026#39; before initialization console.log(addArrow(2, 3)); // undefined(2,3) -\u0026gt; // addArrow is not a function  function addDecl(a, b) { return a + b; } const addExpr = function (a, b) { return a + b; }; var addArrow = (a, b) =\u0026gt; a + b;    å› ç‚º hoisting é€ æˆçš„ bug ç¯„ä¾‹ï¼Œä½¿ç”¨ const/let å¯é¿å…ï¼Œé¤Šæˆå…ˆå®£å‘Šè®Šæ•¸å†ä½¿ç”¨çš„å¥½ç¿’æ…£  1 2 3 4 5 6 7 8 9 10 11  // åŸæœ¬æœŸå¾…ä¸å­˜åœ¨productåŸ·è¡ŒdeleteShoppingCart() // å› ç‚ºæ²’å®£å‘Šè®Šæ•¸å°±ä½¿ç”¨ï¼Œå€¼è®Šæˆundefined // !undefinedè€Œè®Šæˆtrue console.log(!numProducts); //true // !undefined is true if (!numProducts) deleteShoppingCart(); var numProducts = 10; function deleteShoppingCart() { console.log(\u0026#39;All products deleted!\u0026#39;); }    ç•¶ç”¨ var å®£å‘Šï¼Œæœƒåœ¨ browser çš„ window(å…¨åŸŸè®Šæ•¸)ä¸‹å¤šä¸€å€‹å±¬æ€§  1 2 3 4 5 6 7  var x = 1; let y = 2; const z = 3; console.log(x === window.x); // true console.log(y === window.y); // false console.log(z === window.z); // false   this æ˜¯ä»€éº¼?  æ‰€æœ‰åŸ·è¡Œæ–‡æœ¬ä¸‹éƒ½æœƒæœ‰çš„ç‰¹åˆ¥è®Šæ•¸ï¼Œå€¼å–æ±ºæ–¼è¢«å‘¼å«çš„æ–¹å¼ ä½œç‚º Method(ç‰©ä»¶ä¸‹çš„ function)å‘¼å«æ™‚ï¼Œthis æ˜¯å‘¼å«ä»–çš„è®Šæ•¸ ä¸€èˆ¬å‡½å¼å‘¼å«ï¼Œåš´æ ¼æ¨¡å¼ä¸‹ this å€¼æ˜¯ undefinedï¼Œéåš´æ ¼æ¨¡å¼ä¸‹ç‚ºå…¨åŸŸç‰©ä»¶ ç®­é ­å‡½å¼æ²’æœ‰è‡ªå·±çš„ thisï¼Œthis å€¼å–æ±ºæ–¼çˆ¶å±¤(parent scope) eventListener å‘¼å«æ™‚ï¼ŒæŒ‡å‘è§¸ç™¼çš„å…ƒç´  this ä¸æœƒæ˜¯å‡½å¼è‡ªå·±ï¼Œä¹Ÿä¸æœƒæ˜¯è®Šæ•¸ç’°å¢ƒ(Variable Environment) new, call, apply, bind æœƒæ–¼å…¶ä»–ç¯‡ä»‹ç´¹  ï¼Šä¸‹æ–¹è¼¸å‡ºçµæœç”¨//è¡¨ç¤ºï¼Œä¸”è¦–ç‚ºå–®ç¨å‡ºç¾é€™è¡Œçš„ç‹€æ³ï¼ˆå½¼æ­¤ä¹‹é–“ä¸å½±éŸ¿ï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34  // this Keyword in Practice console.log(this); //window object  const calcAge = function (birthYear) { console.log(2037 - birthYear); console.log(this); }; calcAge(1991); // 46 åš´æ ¼æ¨¡å¼ thisæ˜¯undefined éåš´æ ¼æ¨¡å¼thisæ˜¯window object  const calcAgeArrow = birthYear =\u0026gt; { console.log(2037 - birthYear); console.log(this); }; calcAgeArrow(1980); // çˆ¶å±¤çš„this window object  const jonas = { year: 1991, calcAge: function () { console.log(this); console.log(2037 - this.year); }, }; jonas.calcAge(); // 46 jonaså‘¼å« thisæ˜¯jonas  const matilda = { year: 2017, }; matilda.calcAge = jonas.calcAge; // copy calcAge method from jonas matilda.calcAge(); // matilda, 20  // thisæ˜¯å‹•æ…‹çš„ const f = jonas.calcAge; // copy function to a new variable f(); // ä¸€èˆ¬å‡½å¼æ–¹æ³•å‘¼å«this undefined, cannot read property \u0026#39;year\u0026#39; of undefined at calcAge   è®“ this æŒ‡å‘çˆ¶å±¤çš„ 2 ç¨®åšæ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  // var firstName = \u0026#39;Matilda\u0026#39;;  const jonas = { firstName: \u0026#39;Jonas\u0026#39;, year: 1991, calcAge: function () { // console.log(this); // jonas  console.log(2037 - this.year); // Solution 1 (ES6å‰) åœ¨å‡½å¼å¤–å®šç¾©selfç‚ºthis å–å¾—jonas  // const self = this; // self or that  // const isMillenial = function () {  // console.log(self);  // console.log(self.year \u0026gt;= 1981 \u0026amp;\u0026amp; self.year \u0026lt;= 1996);  // };  // Solution 2 ï¼ˆmodern) ä½¿ç”¨ç®­é ­å‡½å¼ï¼Œæ²’æœ‰è‡ªå·±çš„thisï¼Œæœƒå¾€çˆ¶å±¤æ‰¾  const isMillenial = () =\u0026gt; { console.log(this); console.log(this.year \u0026gt;= 1981 \u0026amp;\u0026amp; this.year \u0026lt;= 1996); }; isMillenial(); // ä¸€èˆ¬å‡½å¼å‘¼å« åš´æ ¼æ¨¡å¼ä¸‹undefined é™¤éç”¨selfç¶å®šthisæˆ–ç”¨ç®­é ­å‡½å¼å‘¼å«  }, greet: () =\u0026gt; { console.log(this); console.log(`Hey ${this.firstName}`); }, }; jonas.greet(); jonas.calcAge(); // æ²’æœ‰solutionç‹€æ³ä¸‹ cannot read property of \u0026#39;year\u0026#39; of undefined   ä¸€èˆ¬å‡½å¼ v.s. ç®­é ­å‡½å¼ ç‰©ä»¶å…§çš„å‡½å¼  ç•¶ä½¿ç”¨ä¸€èˆ¬å‡½å¼æœƒæœ‰è‡ªå·±çš„ thisï¼Œå¯ä»¥å–å¾— jonas.firsName ç•¶ä½¿ç”¨ç®­é ­å‡½å¼æœƒæ²’æœ‰è‡ªå·±çš„ thisï¼Œæœƒå¾€çˆ¶å±¤å–è®Šæ•¸ï¼Œbug é€šå¸¸åœ¨é€™è£¡ç™¼ç”Ÿï¼ˆå¯èƒ½å–å¾— undefined æˆ–çœŸçš„æœ‰ä¸€å€‹è®Šæ•¸å€¼) å…¨åŸŸé¿å…ä½¿ç”¨ var  1 2 3 4 5 6 7 8 9 10 11 12  // ç”¨ let/const çš„è©±æœƒæ˜¯ undefinedï¼Œä½¿ç”¨ var å°±æœƒæ˜¯\u0026#39;hey mirenda\u0026#39; var firstName = \u0026#39;mirenda\u0026#39; const jonas = { firstName: \u0026#39;Jonas\u0026#39;, year: 1991, // ç®­é ­å‡½å¼æ²’æœ‰è‡ªå·±çš„this  greet: () =\u0026gt; { console.log(this); console.log(`Hey ${this.firstName}`); }, }; jonas.greet(); // window obj, hey mirenda   arguments  åªå­˜åœ¨ä¸€èˆ¬å‡½å¼ï¼Œç®­é ­å‡½å¼æ²’æœ‰  1 2 3 4 5 6 7 8 9 10 11 12  const addExpr = function (a, b) { console.log(arguments); return a + b; }; addExpr(2, 5); addExpr(2, 5, 8, 12); // é›–ç„¶functionä¸Šé¢åƒæ•¸è¨­å®š2å€‹ï¼Œä½†å¯ä»¥åŠ ä¸Šæ›´å¤šargumentså­˜åˆ°Argumentsé™£åˆ—ï¼Œå¯ä»¥loopåŠ ç¸½é€™äº›åƒæ•¸ç­‰  var addArrow = (a, b) =\u0026gt; { console.log(arguments); return a + b; }; addArrow(2, 5, 8);    arguments è·Ÿå…¶é¤˜é‹ç®—å­çš„æ­é…  1 2 3 4 5 6 7 8 9 10  const restaurant = { orderPizza: function(mainIngredients, ...otherIngredients) { console.log(mainIngredients) console.log(otherIngredients) } } restaurant.orderPizza(\u0026#39;mushrooms\u0026#39;, \u0026#39;onions\u0026#39;, \u0026#39;olives\u0026#39;, \u0026#39;spinach\u0026#39;) // mushrooms [ \u0026#39;onions\u0026#39;, \u0026#39;olives\u0026#39;, \u0026#39;spinach\u0026#39; ] restaurant.orderPizza(\u0026#39;mushrooms\u0026#39;) // mushrooms []    ç•¶å‡½å¼å¾ˆå¤š argument ä¸å¥½è¨˜é †åºï¼Œå¯ä»¥å‚³å…¥ä¸€å€‹ç‰©ä»¶ä½œç‚ºåƒæ•¸ï¼Œå‡½å¼æœƒè§£æ§‹ç‰©ä»¶ä¸¦åŸ·è¡Œå‡½å¼ å¸¸ç”¨æ–¼ç¬¬ä¸‰æ–¹å‡½å¼åº«  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  const restaurant = { starterMenu: [\u0026#39;Focaccia\u0026#39;, \u0026#39;Bruschetta\u0026#39;, \u0026#39;Garlic Bread\u0026#39;, \u0026#39;Caprese Salad\u0026#39;], mainMenu: [\u0026#39;Pizza\u0026#39;, \u0026#39;Pasta\u0026#39;, \u0026#39;Risotto\u0026#39;], orderDelivery: function ({ starterIndex = 1, // é è¨­å€¼  mainIndex = 0, // é è¨­å€¼  time = \u0026#39;00:00\u0026#39;, // é è¨­å€¼  address, }) { console.log( `Order received! ${this.starterMenu[starterIndex]}and ${this.mainMenu[mainIndex]}will be delivered to ${address}at ${time}` ); }, }; restaurant.orderDelivery({ time: \u0026#39;22:30\u0026#39;, address: \u0026#39;via del sole, 21\u0026#39;, mainIndex: 2, starterIndex: 2 }); // Order received! Garlic Bread and Risotto will be delivered to via del sole, 21 at 22:30  // æ²’æœ‰å…¨éƒ¨åƒæ•¸ æœƒç”¨å‡½å¼åƒæ•¸çš„é è¨­å€¼ restaurant.orderDelivery({ address: \u0026#39;via del sole, 21\u0026#39;, starterIndex: 2, }); // Order received! Garlic Bread and Pizza will be delivered to via del sole, 21 at 00:00   primitives v.s. objects  primitives åŒ…å« æ•¸å­—ã€å­—ä¸²ã€å¸ƒæ—ã€undefinedã€nullã€Symbolã€BigIntï¼Œå…¶ä»–éƒ½æ˜¯ objects primitives è¨˜æ†¶é«”å­˜åœ¨ call stack objects è¨˜æ†¶é«”å­˜åœ¨ Heap  primitives  let age = 30 çµ¦ä¸€å€‹ call stack çš„è¨˜æ†¶é«”åœ°å€è·Ÿ 30 çš„å€¼(0001) let oldAge = age å‚³ age çš„ call stack åœ°å€(0001)çµ¦ oldAge primitives çš„å€¼æ˜¯ immutableï¼ˆä¸å¯è®Šæ›´ï¼‰ï¼Œç•¶æˆ‘å€‘å¯« age = 31 æœƒå†çµ¦ä¸€å€‹æ–°çš„è¨˜æ†¶é«”çš„åœ°å€è·Ÿå€¼çµ¦ age(0002)ï¼Œè€Œéä¿®æ”¹åŸæœ¬çš„ 30 çš„é‚£å¡Šè¨˜æ†¶é«”(0001)çš„å…§å®¹  objects  const me = {name: \u0026lsquo;Jonas\u0026rsquo;}ï¼Œçµ¦ä¸€å€‹ call stack è¨˜æ†¶é«”çš„åœ°å€è·Ÿ Heap çš„åœ°å€ å› ç‚ºç‰©ä»¶æª”æ¡ˆå¯èƒ½å¤ªå¤§ï¼Œæ‰€ä»¥è¨˜æ†¶é«”å¯¦éš›ä¸Šæ˜¯å­˜åœ¨ Heap const friend = meï¼Œæœƒå‚³ me è¨˜æ†¶é«”çš„åœ°å€çµ¦ friend friend.name = \u0026lsquo;mirenda\u0026rsquo; ç‰©ä»¶è·Ÿä¸Šé¢çš„ primitives ä¸åŒï¼Œæœƒæ”¹åˆ° me çš„å€¼(D30F)ï¼Œå€¼åƒç…§åŒæ¨£çš„ Heap åœ°å€ï¼Œä¸¦æ²’æœ‰å¦å¤–å†çµ¦ä¸€å€‹æ–°çš„è¨˜æ†¶é«”ï¼Œå¯ä»¥åƒè€ƒä¸‹æ–¹åœ–è¡¨çš„ç®­é ­ï¼ˆåªæœ‰ä¸€å€‹)  å¸¸ç”¨æ·ºæ‹·è²æ–¹æ³•  Object.assign ç”¨æ–¼ç‰©ä»¶  1 2 3 4 5 6 7 8 9 10 11  const jessica = { firstName: \u0026#39;Jessica\u0026#39;, lastName: \u0026#39;Williams\u0026#39;, age: 27, family: [\u0026#39;Alice\u0026#39;, \u0026#39;Bob\u0026#39;], }; const jessicaCopy = Object.assign({}, jessica); jessicaCopy.lastName = \u0026#39;Davis\u0026#39;; console.log(\u0026#39;Before marriage:\u0026#39;, jessica.lastName); // \u0026#39;Williams\u0026#39; console.log(\u0026#39;After marriage: \u0026#39;, jessicaCopy.lastName); // \u0026#39;Davis\u0026#39;    å±•é–‹é‹ç®—å­ é™¤äº†ç‰©ä»¶å¤–ä¹Ÿå¯ç”¨æ–¼ stringã€arrayã€array-likeã€Setã€Map ç­‰å¯è¿­ä»£ç‰©ä»¶  1 2  const arr = [1, 2, 3] const arrCopy = [...arr]   ","date":"2022-01-03T00:00:00+08:00","image":"https://bacnotes.github.io/p/javascript-behind-the-scenes/kanan-khasmammadov-7K8_U900tVc-unsplash_hu1499a893ce824cc10dc28f27c37e5d8f_1839383_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/javascript-behind-the-scenes/","title":"JavaScriptåº•å±¤é‹ä½œåŸç†101ï½œThe Complete JavaScript Courseï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"å®Œå…¨æ²’æœ‰æ¥è§¸é JavaScript èªè¨€çš„æœ‹å‹å€‘ï¼Œå¯ä»¥å…ˆè£œè¶³ä¸‹æ–¹çŸ¥è­˜é»å†ç¹¼çºŒé–±è®€å”·\nJavaScript åŸºç¤çŸ¥è­˜è¤‡ç¿’(1)\nJavaScript åŸºç¤çŸ¥è­˜è¤‡ç¿’(2)\nDocument Object Model(DOM) æ˜¯ä»€éº¼  å°‡ HTML å…ƒç´ è®Šæˆæ–‡ä»¶ç‰©ä»¶æ¨¡å‹ï¼Œç”±ç¯€é» Node çµ„æˆï¼Œæ¨¹ç‹€çµæ§‹ è®“ JavaScript å¯ä»¥ä¿®æ”¹ HTML å…§å®¹è·Ÿæ”¹è®Š CSS æ¨£å¼(HTML çš„ style å±¬æ€§) DOM æœ€ä¸Šæ–¹çµæ§‹æ˜¯ document ç‰©ä»¶ï¼Œæ˜¯æˆ‘å€‘å° DOM çš„ entry point ç¯€é»ä¹‹é–“æœ‰ç¸±å‘çš„çˆ¶å­é—œä¿‚(parent/child)æˆ–æ©«å‘çš„å…„å¼Ÿé—œä¿‚(sibling) ç¬¬ä¸€å€‹å­å…ƒç´ é€šå¸¸æ˜¯ HTML(ä¹Ÿè¢«ç¨±ä½œæ ¹å…ƒç´ )ï¼Œä¸‹æ–¹é€šå¸¸æœ‰å…©å€‹å­å…ƒç´  head è·Ÿ bodyï¼Œäº’ç‚º sibling DOM æ–¹æ³•(e.g. querySelector)è·Ÿå±¬æ€§(e.g. innerHTML)ä¸å±¬æ–¼ JavaScript é€™å€‹èªè¨€ï¼Œè€Œæ˜¯ WebAPIs(ç€è¦½å™¨ä¸Šä½¿ç”¨ JavaScript æ’°å¯«çš„ library)çš„ä¸€éƒ¨åˆ† æˆ‘å€‘å¯ä»¥ç”¨ JavaScript å»è·Ÿ WebAPIs äº’å‹•ï¼Œåƒæ˜¯ timerã€fetch API  é¸å–å…ƒç´  é¸å–å–®å€‹å…ƒç´  document.querySelector()  å›å‚³ç›¸ç¬¦çš„ç¬¬ä¸€å€‹å…ƒç´   1 2  document.querySelector(\u0026#39;#id\u0026#39;) //id selector document.querySelector(\u0026#39;.classname\u0026#39;) //class selector   é¸å–å¤šå€‹å…ƒç´  document.querySelectorAll()  å›å‚³æ‰€æœ‰ç›¸ç¬¦çš„å…ƒç´ æ–¼ä¸€å€‹ nodeList é¡é™£åˆ— æ¯”å–®å€‹å…ƒç´ å¤š index èˆ‡ length å±¬æ€§ åªèƒ½ä½¿ç”¨éƒ¨åˆ†é™£åˆ—æ–¹æ³•(e.g. forEach, index, length)  1 2  document.querySelectorAll(\u0026#39;.classname\u0026#39;) // class selector document.querySelectorAll(\u0026#39;li\u0026#39;) // type selector   é¸å–å¤šå€‹å…ƒç´ ä¸­ç‰¹å®šæ¢ä»¶ 1 2  // é¸å–tbodyç¬¬ä¸€è¡Œå…§å®¹ document.querySelectorAll(\u0026#39;.className tbody tr\u0026#39;)[0]   é¸å–æ–‡å­—å…§å®¹ innerHTML v.s. innerText v.s. textContent ä¸‹æ–¹æ˜¯ä¸€æ®µ HTML\n1 2 3 4  \u0026lt;section class=\u0026#34;left\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;number\u0026#34; class=\u0026#34;guess\u0026#34; /\u0026gt; \u0026lt;button class=\u0026#34;btn check\u0026#34;\u0026gt;Check!\u0026lt;/button\u0026gt; \u0026lt;/section\u0026gt;    innerHTML é¸å–å…ƒç´ ä¸‹çš„æ•´å€‹ HTML çµæ§‹  1 2 3 4  console.log(document.querySelector(\u0026#39;.left\u0026#39;).innerHTML) //  \u0026lt;input type=\u0026#34;number\u0026#34; class=\u0026#34;guess\u0026#34;\u0026gt; \u0026lt;button class=\u0026#34;btn check\u0026#34;\u0026gt;Check!\u0026lt;/button\u0026gt;    innerText é¸å–æ•´å€‹ HTML ä¸‹å¯è¦‹(é display:none)çš„æ–‡å­— æœƒè®€å– CSSï¼Œæ•ˆèƒ½è¼ƒå·®  1 2 3 4  console.log(document.querySelector(\u0026#39;.left\u0026#39;).innerText) // Check!    textContent é¸å–æ•´å€‹ HTML ä¸‹çš„æ‰€æœ‰æ–‡å­—(åŒ…å«ç©ºç™½) ä¸æœƒè®€å– CSSï¼Œæ•ˆèƒ½è¼ƒå¥½  1 2 3 4 5  console.log(document.querySelector(\u0026#39;.left\u0026#39;).textContent) //  Check!   document.querySelector().value é¸å–è¡¨å–®å…ƒç´ å€¼ 1  document.querySelector(\u0026#39;.className\u0026#39;).value;   ä¿®æ”¹å…ƒç´ å…§å®¹ åœ¨é¸å–å…ƒç´ å¾ŒåŠ ä¸Š = å³å¯\n1  document.querySelector(\u0026#39;.className\u0026#39;).value = 1   ä¿®æ”¹ CSS æ¨£å¼ ä¿®æ”¹ç‰¹å®šå±¬æ€§ 1 2 3 4  // ä¿®æ”¹é¡è‰² document.querySelector(\u0026#39;body\u0026#39;).style.background = \u0026#39;#ffffff\u0026#39; // ä¿®æ”¹å¯¬åº¦ document.querySelector(\u0026#39;.number\u0026#39;).style.width = \u0026#39;10rem\u0026#39;   æ–°å¢/åˆ‡æ›/åˆªé™¤/ç¢ºèª class 1 2 3 4  document.classList.add(\u0026#39;hidden\u0026#39;); document.classList.toggle(\u0026#39;hidden\u0026#39;); document.classList.remove(\u0026#39;hidden\u0026#39;); document.classList.contains(\u0026#39;hidden\u0026#39;);   æ–°å¢/åˆ‡æ›/åˆªé™¤/ç¢ºèª å±¬æ€§/å›å‚³å±¬æ€§å€¼ 1 2 3 4 5  document.setAttribute(\u0026#39;disable\u0026#39;); document.toggleAttribute(\u0026#39;disable\u0026#39;); document.removeAttribute(\u0026#39;disable\u0026#39;); document.hasAttribute(\u0026#39;disable\u0026#39;); // æ˜¯å¦åŒ…å«æŒ‡å®šå±¬æ€§ return boolean document.getAttribute(\u0026#39;width\u0026#39;); // å›å‚³æŒ‡å®šå±¬æ€§å€¼ e.g. 18rem ä¸å­˜åœ¨æœƒå›å‚³null   è¨­ç½®ç›£è½äº‹ä»¶  ç¬¬ä¸€å€‹åƒæ•¸ç‚ºäº‹ä»¶ï¼Œç¬¬äºŒå€‹ç‚ºåŸ·è¡Œ{}å…§å®¹ï¼Œç¬¬ä¸‰å€‹æ˜¯å¦æ•æ‰å†’æ³¡äº‹ä»¶ ç¬¬ä¸‰å€‹åƒæ•¸æ²’æœ‰è¨­å®šæ™‚é è¨­ç‚º false ç›£è½å†’æ³¡äº‹ä»¶ï¼Œè¨­å®šç‚º true ç›£è½æ•æ‰äº‹ä»¶  1  element.addEventListener(event, function, useCapture)   æ»‘é¼ é»æ“Šäº‹ä»¶ click 1 2 3 4 5 6 7  // é¸å–æŒ‰éˆ•è·Ÿå‘ˆç¾è¨Šæ¯å…ƒç´  const guessButton = document.querySelector(\u0026#39;.check\u0026#39;) const message = document.querySelector(\u0026#39;.message\u0026#39;) // ç”¨addEventListenerç›£è½guessButtonå…ƒç´ ä¸Šçš„clickäº‹ä»¶ guessButton.addEventListener(\u0026#39;click\u0026#39;, function(){ console.log(\u0026#39;click\u0026#39;) })   æŒ‰éµäº‹ä»¶ keydown v.s. keyup v.s. keypress  keydown æŒ‰ä¸‹å»æ™‚è§¸ç™¼(ä¸æ”¾é–‹æœƒé€£çºŒè§¸ç™¼) keyup æŠ¬èµ·ä¾†æ™‚è§¸ç™¼ keypress æŒ‰è‘—æ™‚è§¸ç™¼(ä¸æ”¾é–‹æœƒé€£çºŒè§¸ç™¼)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  // ä»»ä½•éµç›¤çš†å¯è§¸ç™¼keypressäº‹ä»¶ document.addEventListener(\u0026#39;keypress\u0026#39;, function(){ console.log(\u0026#39;key pressed\u0026#39;) }) // ä»»ä½•éµç›¤çš†å¯è§¸ç™¼keydownäº‹ä»¶ document.addEventListener(\u0026#39;keydown\u0026#39;, function(e){ //åªåœ¨escæŒ‰éµä¸‹è§¸ç™¼  if(e.key === \u0026#39;Escape\u0026#39;) { // åœ¨modal\u0026#34;æ²’æœ‰\u0026#34;hidden classä¸‹ï¼Œä¹Ÿå°±æ˜¯é¡¯ç¤ºmodalæ™‚è§¸ç™¼  if(!modal.classList.contains(\u0026#39;hidden\u0026#39;)) { console.log(\u0026#39;close modal\u0026#39;) } } })    keycode:æ¯ä¸€å€‹éµç›¤éƒ½æœ‰ä¸€å€‹å°æ‡‰çš„æ•¸å­—ï¼Œå¯ä»¥åˆ°é€™è£¡æŸ¥è©¢keycodeInfo  æ•æ‰ç‰¹å®šæ¢ä»¶äº‹ä»¶  ç›£è½è§¸ç™¼äº‹ä»¶å…ƒç´   1 2 3  if(event.target) { console.log(\u0026#39;event\u0026#39;) }    ç›£è½è¨­ç½®åœ¨çˆ¶å…ƒç´ ï¼Œä¸‹é¢å¯èƒ½æœ‰å¤šå€‹å­å…ƒç´ ï¼Œè¨­ç½® data-* attributeï¼Œç¬¦åˆæ¢ä»¶çš„æ‰è§¸ç™¼  1 2 3  if(event.target.dataset.id === è®Šæ•¸) { console.log(\u0026#39;event\u0026#39;) }    è¨­ç½® classï¼Œåµæ¸¬æœ‰ç„¡ç‰¹å®š class æ™‚è§¸ç™¼  1 2 3  if(!modal.classList.contains(\u0026#39;hidden\u0026#39;)) { console.log(\u0026#39;event\u0026#39;) }   å…¶ä»–å¸¸ç”¨äº‹ä»¶  dblclick(é›™æ“Šæ»‘é¼ ) resize(è®Šæ›´è¦–çª—å¤§å°) select(é¸å–) focus(ç•¶å…ƒç´ è™•æ–¼ focus èšç„¦ç‹€æ…‹ï¼Œe.g.èšç„¦åœ¨è¡¨å–®æŸä¸€è¡Œ input) blur(ç•¶å…ƒç´ å¤±å»ç„¦é»ç‹€æ…‹ï¼Œe.g.é»èšç„¦å…ƒç´ æ—é‚Šå…§å®¹) DOMContentLoaded(HTML æª”æ¡ˆè§£æå®Œæˆï¼Œæ¨£å¼è¡¨è·Ÿå¤–éƒ¨è³‡æºé‚„åœ¨ä¸‹è¼‰æ™‚) scroll(æ²è»¸æ»¾å‹•) submit(æäº¤è¡¨å–®) mouseover(æ»‘é¼ ç§»åˆ°ç›®æ¨™) mouseenter(æ»‘é¼ ç§»åˆ°ç›®æ¨™ï¼Œä¸æœƒé€£çºŒè§¸ç™¼) mousemove(æ»‘é¼ ç§»å‹•) mouseout(æ»‘é¼ é›¢é–‹ç›®æ¨™) mouseleave(æ»‘é¼ é›¢é–‹ç›®æ¨™ï¼Œä¸æœƒå†’æ³¡) mousedown(æŒ‰ä¸‹æ»‘é¼ ) mouseup(æ»‘é¼ æ”¾é–‹) contextmenu(æŒ‰ä¸‹æ»‘é¼ å³éµ)  è£œå…… æ—©æœŸé¸å–å…ƒç´ çš„æ–¹æ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14  // é¸å–ID document.getElementById(\u0026#39;idName\u0026#39;) åŒ document.querySelector(\u0026#39;#idName\u0026#39;) // é¸å–class name document.getElementsByClassName(\u0026#39;className\u0026#39;) åŒ document.querySelectorAll(\u0026#39;.className\u0026#39;) // é¸å–HTMLCollection document.getElementsByTagName(\u0026#39;li\u0026#39;) åŒ document.querySelector(\u0026#39;li\u0026#39;) // é¸å–name å±æ€§çš„å€¼ åœ¨ä¸åŒç€è¦½å™¨çš„é‚è¼¯ä¸åŒï¼Œé¿å…ä½¿ç”¨ document.getElementsByName()   NodeList v.s. HTMLCollection  NodeList ç‚ºç¯€é»çš„é›†åˆï¼ŒåŒ…å« HTML å…ƒç´ ç¯€é»å’Œå…¶ä»–ç¯€é»(e.g.å±¬æ€§ç¯€é»ã€æ–‡å­—ç¯€é»ç­‰) HTMLCollection ç‚º HTML å…ƒç´ é›†åˆï¼Œåªæœ‰å…ƒç´ ç¯€é»ï¼Œä¸åŒ…å«å…¶ä»–ç¯€é» HTMLCollection å¤šä¸€å€‹ nameItem()æ–¹æ³•ï¼Œå¯ä»¥å›å‚³é›†åˆä¸­ name å±¬æ€§å’Œ id å±¬æ€§å€¼çš„å…ƒç´   ","date":"2022-01-02T00:00:00+08:00","image":"https://bacnotes.github.io/p/javascript-dom-manipulation/jade-seok-WOv2t_N6iwQ-unsplash_hueaef48dcbe256bb88acf1618f8b7005a_507165_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/javascript-dom-manipulation/","title":"DOMæ“ä½œåŸºç¤çŸ¥è­˜è¤‡ç¿’ï½œThe Complete JavaScript Courseï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"æ­å–œä½ ä¾†åˆ°ç¬¬äºŒç¯‡ JavaScript åŸºç¤çŸ¥è­˜è¤‡ç¿’(2)\nå¦‚æœé‚„æ²’çœ‹é JavaScript åŸºç¤çŸ¥è­˜è¤‡ç¿’(1)\nå¯ä»¥çœ‹å®Œä¸Šä¸€ç¯‡ï¼Œå†å›ä¾†ç¹¼çºŒé–±è®€å”·ï¼\nä½¿ç”¨åš´æ ¼æ¨¡å¼æé«˜ç¨‹å¼ç¢¼å“è³ª åœ¨æª”æ¡ˆæœ€ä¸Šæ–¹åŠ  'use strict mode' ï¼Œæœƒå¹«ä½ æª¢æŸ¥å“ªäº›ä¸é©ç•¶çš„æ’°å¯«ç¨‹å¼æ–¹å¼ï¼Œä¸‹æ–¹ç‹€æ³æœƒæ‹‹å‡ºéŒ¯èª¤\n æœªå®£å‘Šçš„å…¨åŸŸè®Šæ•¸ å°æ–¼ç„¡æ³•å¯«å…¥çš„è®Šæ•¸(e.g. NaN, undefined)æˆ–ä¸å­˜åœ¨çš„ç‰©ä»¶å±¬æ€§è³¦å€¼ åˆªé™¤ä¸èƒ½åˆªé™¤çš„å±¬æ€§(e.g. delete Object.prototype) ç‰©ä»¶å±¬æ€§ä¸æ˜¯å”¯ä¸€å€¼ unique Function åç¨±æœ‰é‡è¤‡ deleting plain names  1 2  var x; delete x; // !!! syntax error    ä½¿ç”¨åˆ° reserved keywords  function  å¯¦è¸ dry codeï¼Œé‡è¤‡ä½¿ç”¨ä¸€æ¨£çš„é‚è¼¯ï¼Œå‚³ä¸åŒçš„åƒæ•¸ parameter æ˜¯ function çš„å³é‚Šçš„åƒæ•¸ argument æ˜¯ç”¨åœ¨å¯¦éš›å‘¼å«çš„å€¼ call = invoke = execute = run éƒ½æ˜¯åŸ·è¡Œ(å‡½å¼)çš„å‹•è©  1 2 3 4 5 6  function fruitProcessor(applesCount, orangesCount) { const juice = `juice with ${applesCount}apples \u0026amp; ${orangesCount}oranges`; return juice; } fruitProcessor(2, 5); // \u0026#39;juice with 2 apples \u0026amp; 5 oranges\u0026#39; fruitProcessor(3, 4); // \u0026#39;juice with 3 apples \u0026amp; 4 oranges\u0026#39;   å‡½å¼å®£å‘Š function declaration  å‘¼å«å¾Œå­˜åˆ°è®Šæ•¸  1 2 3 4 5  function calcAge(birthYear) { return 2037 - birthYear; } const age = calcAge(2036); // æ”¾åœ¨functionå‰å¾Œéƒ½å¯ä»¥ å› ç‚ºhoisting console.log(age); // 1   å‡½å¼è¡¨é”å¼ function expression  åŒ¿åå‡½å¼æ˜¯ expression æœƒç”¢ç”Ÿ valueï¼Œå­˜åˆ°å·¦é‚Šè®Šæ•¸  1 2 3 4  const calcAge = function (birthYear) { return 2037 - birthYear; }; console.log(calcAge(2036)); // 1   ç®­é ­å‡½å¼ arrow function  ES6 èªæ³•ï¼Œæ²’æœ‰è‡ªå·±çš„ this è‹¥ç®­é ­å‡½å¼ç›´æ¥è¿”å›ä¸€å€‹ç‰©ä»¶ï¼Œå¿…é ˆåœ¨ç‰©ä»¶å¤–é¢åŠ ä¸Šå°æ‹¬è™Ÿ  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31  // å–®è¡Œç¨‹å¼ç¢¼ ä¸éœ€è¦{}è·Ÿreturn const calcAge = (birthYear) =\u0026gt; 2037 - birthYear; console.log(calcAge(2036)); // 1  // å¤šè¡Œç¨‹å¼ç¢¼ éœ€è¦{}è·Ÿreturn ç¨‹å¼æœƒçµæŸåœ¨returné€™è¡Œ const retireAge = (yourName, birthYear) =\u0026gt; { const age = 2037 - birthYear; const retirement = 65 - age; return `${yourName}retires in ${retirement}years`; }; console.log(retireAge(\u0026#34;bacnotes\u0026#34;, 2036)); // bacnotes retires in 64 years  // å–®ä¸€åƒæ•¸æ™‚ï¼Œå°æ‹¬è™Ÿå¯ä»¥çœç•¥ const print = (a) =\u0026gt; { console.log(a); }; // å¤šå€‹åƒæ•¸æ™‚ï¼Œå°æ‹¬è™Ÿä¸èƒ½çœç•¥ const print = (a, b) =\u0026gt; { console.log(a, b); }; // å–®è¡Œç¨‹å¼ç¢¼è¦ç›´æ¥å›å‚³ç‰©ä»¶æ™‚ï¼Œå‰‡éœ€è¦å†å¥—ä¸€å±¤å°æ‹¬è™Ÿï¼Œkey valueä¸€æ¨£{a:a, b:b} å¯« {a,b}å³å¯ const print = (a, b) =\u0026gt; ({ a, b }); // ç­‰æ–¼ const print = (a, b) =\u0026gt; { return { a, b, }; };   array é™£åˆ— å®£å‘Šé™£åˆ— 1 2  const arrayA = [1, 2, 3]; const arrayB = new Array(123, 123, 123);   ï¼ŠJavaScript çš„å…§å»ºç‰©ä»¶éƒ½ä¸å»ºè­° new ä½œåˆå§‹å®šç¾©çš„ã€‚ä¸éæœ‰ä¸€äº›ç‰¹ä¾‹æ˜¯ä¸€å®šè¦çš„ï¼Œä¾‹å¦‚ Dateã€Error ç­‰ç­‰ã€‚\né™£åˆ—å–å€¼ï¼Œåºè™Ÿå¾ 0 é–‹å§‹ 1 2 3  array[0] // ç¬¬1å€‹å…ƒç´ å€¼ array[n] // ç¬¬n+1å€‹å…ƒç´ å€¼ array[arr.length - 1] é™£åˆ—å°¾å·´å…ƒç´ å€¼   ä¿®æ”¹é™£åˆ—å…ƒç´ å€¼ 1  arrayA[2] = 234;    const ä¸æ˜¯ä¸èƒ½ä¿®æ”¹å€¼å—ï¼Ÿ å–®ç¨ä¿®æ”¹å…ƒç´ å€¼æ˜¯å¯ä»¥çš„ å¦‚æœæ˜¯ arrayA = [\u0026lsquo;a\u0026rsquo;, \u0026lsquo;b\u0026rsquo;, \u0026lsquo;c\u0026rsquo;] å°±ä¸è¡Œï¼Œå› ç‚ºå°±è¡¨ç¤ºé‡æ–°è³¦å€¼æ•´å€‹é™£åˆ— è£œå…… immutableï¼ˆä¸å¯è®Šæ›´ï¼‰è·Ÿ mutableï¼ˆå¯è®Šæ›´ï¼‰ï¼šåªæœ‰è³¦å€¼æ™‚æ˜¯å‚³å€¼çš„ primitives æ˜¯ immutableï¼Œè€Œè³¦å€¼æ™‚æ˜¯å‚³å€çš„é™£åˆ—ã€ç‰©ä»¶å…§éƒ¨å€¼æ˜¯ mutable  æƒ³æ›´äº†è§£å‚³å€¼è·Ÿå‚³å€åœ¨è¨˜æ†¶é«”è£¡çš„é‹ä½œæ–¹å¼ï¼Œå¯ä»¥åƒè€ƒé€™ä¸€ç¯‡\nJavaScript åº•å±¤é‹ä½œåŸç† 101\narray æ–¹æ³•  array.push() æ–°å¢å…ƒç´ åˆ°é™£åˆ—æœ€å¾Œé¢ï¼Œå›å‚³é™£åˆ—æ–°çš„é•·åº¦  1 2 3 4  const friends = [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;]; const newFriend = friends.push(\u0026#34;e\u0026#34;); console.log(friends); // [ \u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39;, \u0026#39;e\u0026#39; ] console.log(newFriend); // 5    array.pop() åˆªé™¤é™£åˆ—æœ€å¾Œä¸€å€‹å…ƒç´  ä¸¦å›å‚³ åˆªé™¤çš„å…ƒç´ å€¼  1 2 3 4  const friends = [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;, \u0026#34;e\u0026#34;]; const popFriend = friends.pop(); console.log(friends)[(\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;)]; console.log(popFriend); // e    array.unshift() æ–°å¢å…ƒç´ åˆ°é™£åˆ—æœ€å‰é¢ï¼Œå›å‚³é™£åˆ—æ–°çš„é•·åº¦  1 2 3 4  const friends = [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;]; const unshiftFriend = friends.unshift(\u0026#34;z\u0026#34;); console.log(friends); // [ \u0026#39;z\u0026#39;, \u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39; ] console.log(unshiftFriend); // 5    array.shift() åˆªé™¤é™£åˆ—ç¬¬ä¸€å€‹å…ƒç´ ï¼Œå›å‚³åˆªé™¤çš„å…ƒç´ å€¼  1 2 3 4  const friends = [\u0026#34;z\u0026#34;, \u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;]; const shiftFriend = friends.shift(); console.log(friends); // [ \u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39; ] console.log(shiftFriend); // z    array.indexOf(element, fromIndex) æœå°‹å…ƒç´ ç´¢å¼•ä½ç½®  1 2 3 4 5  const friends = [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;]; const positionD = friends.indexOf(\u0026#34;d\u0026#34;); console.log(positionD); // 3 const positionL = friends.indexOf(\u0026#34;l\u0026#34;); console.log(positionL); // if not existed return -1    array.includes(element, fromIndex) å›å‚³é™£åˆ—ä¸­æ˜¯å¦æœ‰é€™å€‹å…ƒç´   1 2 3  const hasLowerCaseA = friends.includes(\u0026#34;a\u0026#34;); const hasUpperCaseA = friends.includes(\u0026#34;A\u0026#34;); console.log(hasLowerCaseA, hasUpperCaseA); // true, false   é‚„æœ‰å¾ˆå¤šå…¶ä»–çš„ array æ–¹æ³•ï¼Œå¯ä»¥åƒè€ƒé€™ç¯‡ é™£åˆ—çš„è™•ç†æ–¹æ³• æ¨è–¦é€™ç¯‡å¤§å¤§å¯«çš„JavaScript Array é™£åˆ—æ“ä½œæ–¹æ³•å¤§å…¨ ( å« ES6 )\nobject ç‰©ä»¶  key value pair value å¯ä»¥å„²å­˜ä¸åŒæ ¼å¼çš„è³‡æ–™  å®£å‘Šç‰©ä»¶ 1 2 3 4 5 6 7  const jonas = { firstName: \u0026#34;Jonas\u0026#34;, lastName: \u0026#34;Schmedtmann\u0026#34;, age: 28, job: \u0026#34;teacher\u0026#34;, friends: [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;], };   dot notation å–å€¼ï¼šç‰©ä»¶.å±¬æ€§ ç›´è§€ç°¡æ½”ï¼Œç„¡æ³•åœ¨[]è£¡é¢ä¿®æ”¹è³‡æ–™\n1  console.log(jonas.lastName); // \u0026#39;Schmedtmann\u0026#39;   bracket notation å–å€¼ï¼šç‰©ä»¶[\u0026lsquo;å±¬æ€§\u0026rsquo;] å¯ä»¥åœ¨[]è£¡é¢ä¿®æ”¹è³‡æ–™\n[]è£¡é¢æ˜¯ä¸€å€‹ expressionï¼Œå±¬æ€§è¨˜å¾—ç”¨å–®å¼•è™ŸåŒ…è£¹\n1 2 3 4  console.log(jonas[\u0026#34;lastName\u0026#34;]); // \u0026#39;Schmedtmann\u0026#39;  const nameKey = \u0026#34;Name\u0026#34;; console.log(jonas[\u0026#34;last\u0026#34; + nameKey]); // \u0026#39;Schmedtmann\u0026#39;   brackets notation å¯ä»¥ä½¿ç”¨ expressionï¼Œdot notation ç„¡æ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14  const interestedIn = prompt( \u0026#34;what do you want ot know about Jonas? Choose between firstName, lastName,age or job\u0026#34; ); // dot notation ç„¡æ³•ç”¨expressionå–å¾—å±¬æ€§(ç‰©ä»¶æ²’æœ‰interestedInçš„å±¬æ€§) console.log(jonas.interestedIn); // undefined  // bracket å¯ä½¿ç”¨expressionå–å¾—å±¬æ€§ console.log(jonas[interestedIn]); // teacher  // ç•¶å±¬æ€§å­˜åœ¨åˆ—å°å‡ºå±¬æ€§å€¼ï¼Œå±¬æ€§ä¸å­˜åœ¨æ™‚åˆ—å°å‡º\u0026#39;data not existed\u0026#39; jonas[interestedIn] ? console.log(jonas[interestedIn]) : console.log(\u0026#34;data not existed\u0026#34;);   æ–°å¢/ä¿®æ”¹å…ƒç´ å€¼ï¼šä½¿ç”¨ =Â è³¦å€¼ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  // dot notation jonas.location = \u0026#39;Portugal\u0026#39; // bracket notation jonas[\u0026#39;twitter\u0026#39;] = \u0026#39;@jonas\u0026#39; jonas.age = 82 console.log(jonas) // { firstName: \u0026#39;Jonas\u0026#39;, lastName: \u0026#39;Schmedtmann\u0026#39;, age: 82, job: \u0026#39;teacher\u0026#39;, friends: [ \u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39; ], location: \u0026#39;Portugal\u0026#39;, twitter: \u0026#39;@jonas\u0026#39; } // ä½¿ç”¨æ¨¡æ¿å­—ä¸² console.log(`${jonas.firstName}has ${jonas.friends.length}friends, and his best friends is called ${jonas.friends[0]}`) // Jonas has 3 friends, and his best friends is called a   object æ–¹æ³•  ç‰©ä»¶çš„ functionï¼Œç¿’æ…£å« method  1 2 3 4 5 6 7 8 9 10 11 12 13 14  const jonas = { firstName: \u0026#34;Jonas\u0026#34;, lastName: \u0026#34;Schmedtmann\u0026#34;, birthYear: 2000, age: 28, job: \u0026#34;teacher\u0026#34;, friends: [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;], // æ–¹æ³•  calcAge: function (birthYear) { return 2027 - birthYear; }, }; console.log(jonas.calcAge(2000)); // 27 console.log(jonas[\u0026#34;calcAge\u0026#34;](2000)); // 27    é—œæ–¼ this çš„ä½¿ç”¨ï¼Œæœ‰åŠ©æ–¼ç²¾ç°¡ç¨‹å¼ç¢¼ å¦‚æœéœ€è¦ç”¨ä¸€æ¨£çš„ç‰©ä»¶ï¼Œå¯« this å°±ä¸éœ€è¦ä¿®æ”¹å¯«æ­»çš„è®Šæ•¸  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  const jonas = { firstName: \u0026#34;Jona\u0026#34;, lastName: \u0026#34;Schmedtmann\u0026#34;, birthYear: 2000, age: 28, job: \u0026#34;teacher\u0026#34;, friends: [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;], hasDriverLicense: true, calcAge: function () { // return 2027 - jonas.birthYear å¯«å­—çš„åå­—æœƒä¸å¥½ç¶­è­·  this.age = 2027 - this.birthYear; return this.age; // æ›´æ–°å€¼å°±ä¸ç”¨æ¯æ¬¡èª¿ç”¨éƒ½é‡è¤‡è¨ˆç®—ï¼Œæ¸›å°‘æµªè²»æ•ˆèƒ½  }, };   for è¿´åœˆ  for ([åˆå§‹è¡¨é”å¼]; [æ¢ä»¶ç‚ºçœŸæ™‚æœƒåŸ·è¡Œ{}å…§å®¹]; [æ›´æ–°è¡¨é”å¼]) é©åˆç¢ºå®šè¿´åœˆæ¬¡æ•¸æ™‚ä½¿ç”¨(e.g. by array çš„å…ƒç´ é•·åº¦æˆ–ä¸€å€‹æ•¸å­—) å¯ç”¨ä¾†ç²¾ç°¡é‡è¤‡åŸ·è¡Œé‡è¤‡çš„ç¨‹å¼ç¢¼  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  // å‡è¨­è¦åŸ·è¡Œ10æ¬¡ï¼Œå¾0é–‹å§‹åˆ°9çµæŸ // å¾ i = 0 é–‹å§‹ï¼Œç•¶(i \u0026lt; 9)æ¢ä»¶ç‚ºtrueæœƒåŸ·è¡Œ{}å…§çš„å…§å®¹ï¼Œå®Œæˆå¾Œi++ for (let i = 0; i \u0026lt; 9; i++) { console.log(`lifting weights repetition ${i}ğŸ‹ï¸â€â™€ï¸ `) } // lifting weights repetition 0 ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 1 ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 2 ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 3 ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 4 ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 5 ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 6 ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 7 ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 8 ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 9 ğŸ‹ï¸â€â™€ï¸    åå‘è¿´åœˆ Backwards loop  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  // å‡è¨­è¦åŸ·è¡Œ10æ¬¡ï¼Œå¾9é–‹å§‹åˆ°0çµæŸ // å¾ i = 9 é–‹å§‹ï¼Œç•¶(i \u0026gt; 0)æ¢ä»¶ç‚ºtrueæœƒåŸ·è¡Œ{}å…§çš„å…§å®¹ï¼Œå®Œæˆå¾Œi-- for (let i = 9; i \u0026gt;= 0; i--) { console.log(`lifting weights repetition ${i}ğŸ‹ï¸â€â™€ï¸ `) } // lifting weights repetition 9 ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 8 ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 7 ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 6 ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 5 ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 4 ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 3 ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 2 ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 1 ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 0 ğŸ‹ï¸â€â™€ï¸    é™£åˆ—ä½¿ç”¨è¿´åœˆè¿­ä»£å…ƒç´   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  // ç¯„ä¾‹1 è¿­ä»£å…ƒç´ è³‡æ–™é¡å‹ä¸¦æ”¾åˆ°å¦ä¸€é™£åˆ—type const arr = [1, 2, 3]; const type = []; for (let i = 0; i \u0026lt; arr.length; i++) { console.log(arr[i]); // filling types array  type[i] = typeof arr[i]; } console.log(type); // [ \u0026#39;number\u0026#39;, \u0026#39;number\u0026#39;, \u0026#39;number\u0026#39; ]  // ç¯„ä¾‹2 è¿­ä»£å…ƒç´ å…ƒç´ å€¼ä¸¦æ”¾åˆ°å¦ä¸€é™£åˆ—ages const years = [1991, 2003, 2022, 1972]; const ages = []; for (let i = 0; i \u0026lt; years.length; i++) { ages.push(2038 - years[i]); } //[ 47, 35, 16, 66 ]  // ç¯„ä¾‹3 ä½¿ç”¨æ¯”è¼ƒç°¡æ½”çš„forEachèªæ³• åˆ—å°å‡ºå…ƒç´  const arr = [1, 2, 3]; arr.forEach(function (element) { console.log(element); });    continue: è·³å‡ºæœ¬æ¬¡è¿´åœˆï¼ŒåŸ·è¡Œä¸‹å€‹è¿´åœˆ(e.g. i = 2 â†’ i = 3)  1 2 3 4 5 6 7 8  const arrayB = [\u0026#34;stringA\u0026#34;, \u0026#34;stringB\u0026#34;, 1, 2022 - 11, true]; for (let i = 0; i \u0026lt; arrayB.length; i++) { if (typeof arrayB[i] !== \u0026#34;string\u0026#34;) continue; console.log(arrayB[i], typeof arrayB[i]); } // stringA string // stringB string    break: çµ‚æ­¢æ•´å€‹è¿´åœˆ  1 2 3 4 5 6  for (let i = 0; i \u0026lt; arrayB.length; i++) { if (typeof arrayB[i] === \u0026#34;number\u0026#34;) break; console.log(arrayB[i], typeof arrayB[i]); } // stringA string // stringB string    å·¢ç‹€è¿´åœˆ  1 2 3 4 5 6  for (let i = 0; i \u0026lt; 4; i++) { console.log(`-----starting excercise ${i}`); for (let j = 1; j \u0026lt; 3; j++) { console.log(`-----lifting ${j}timeğŸ‹ï¸â€â™€ï¸`); } }   while Loop  while (condition) ç•¶æ¢ä»¶ç‚ºçœŸï¼Œå‰‡æœƒä¸€ç›´åŸ·è¡Œ{} é©åˆä¸ç¢ºå®šè¿´åœˆæ¬¡æ•¸æ™‚ä½¿ç”¨(e.g. Math.random çš„äº‚æ•¸)  1 2 3 4  while (i \u0026lt; 10) { text += \u0026#34;The number is \u0026#34; + i; i++; }    éš¨æ©Ÿ 1-6 çš„éª°å­ï¼Œéª°åˆ° 6 æ‰æœƒåœæ­¢  1 2 3 4 5 6 7 8 9 10  let dice = Math.floor(Math.random() * 6 + 1); // éš¨æ©Ÿç”¢ç”Ÿ1~6çš„æ•¸å­—  while (dice !== 6) { console.log(`Your rolled a ${dice}`); dice = Math.floor(Math.random() * 6) + 1; if (dice === 6) console.log(`Loop is about to end...`); } // Math.floor() å›å‚³å°æ–¼ç­‰æ–¼æ‰€çµ¦æ•¸å­—çš„æœ€å¤§æ•´æ•¸ã€‚(æ­£æ•¸æ™‚ç­‰æ–¼ç„¡æ¢ä»¶æ¨å»ï¼Œè² æ•¸æ™‚ç­‰æ–¼ç„¡æ¢ä»¶é€²ä½) // Math.random() å›å‚³ä¸€å€‹å½éš¨æ©Ÿå°æ•¸(pseudo-random) ä»‹æ–¼0åˆ°1ä¹‹é–“(åŒ…å«0ï¼Œä¸åŒ…å«1)   ï¼Šä»¥ä¸Šæ˜¯ JavaScript çš„åŸºç¤è¤‡ç¿’ï¼Œå¦‚æœå–œæ­¡çš„è©±é‚„å¯ä»¥ç¹¼çºŒå¾€ä¸‹çœ‹å”·ã€‚ JavaScript é€²éšå‡½å¼çŸ¥è­˜ï½œ The Complete JavaScript Course\n","date":"2021-12-31T00:00:00+08:00","image":"https://bacnotes.github.io/p/javascript-fundamentals-part2/javascript_hu206ed96a14226138f3215dbd4aa48c79_350158_120x120_fill_box_smart1_3.png","permalink":"https://bacnotes.github.io/p/javascript-fundamentals-part2/","title":"JavaScriptåŸºç¤çŸ¥è­˜è¤‡ç¿’(2)ï½œThe Complete JavaScript Courseï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"æœ€è¿‘çœ‹åˆ°ç¶²è·¯ä¸Šæ–‡ç« æœ‰äººæ¨é€™å ‚ Udemy çš„ JavaScript èª²ç¨‹ï¼Œç„¶å¾Œå°±è²·ä¸‹ä¾†äº†\nThe Complete JavaScript Course - From Zero to Expert\nç‚ºä»€éº¼æƒ³ä¸Šé€™å ‚èª² ç”±æ–¼æ•´å ‚èª²æœ‰ 69 å°æ™‚ï¼Œè‡ªå·±æ“·å–çš„é‡é»ä¸ä¸€å®šç¬¦åˆæ‰€æœ‰éšæ®µçš„å­¸ç¿’è€…ï¼Œå¯èƒ½æ¯”è¼ƒç²¾ç°¡ å¦‚æœæœ‰çœ‹ä¸æ‡‚çš„åœ°æ–¹å¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€ï¼Œæˆ–å»ºè­°é‚„æ˜¯ä¾†è¦ªè‡ªé«”é©—ä¸€ä¸‹é€™å ‚èª²\nä¸‹æ–¹ä¹ŸæœƒåŠ å…¥ä¸€äº›è‡ªå·±éå¾€å­¸ç¿’JavaScriptçš„ç­†è¨˜\nä»€éº¼æ˜¯ ES6ï¼ˆECMAScript6ï¼‰ï¼Ÿ ä»€éº¼æ˜¯ ES6ï¼ˆECMAScript6ï¼‰ï¼Ÿ  ECMAScript æ˜¯ä¸€å€‹è¦ç¯„ï¼ŒJavaScript å¯¦ä½œäº†é€™å€‹è¦ç¯„ JavaScript åœ¨ 2015 å¹´è¿ä¾†äº†ä¸€æ¬¡å¤§æ›´æ–°ï¼Œæ›´æ–°å¾Œçš„ç‰ˆæœ¬å« ES6ï¼ˆES2015ï¼‰ï¼Œä¿—ç¨± Modern JavaScript ç•¶ä½ ä½¿ç”¨ Google è·Ÿ StackOverflow ç¤¾ç¾¤éƒ½æ‰¾ä¸åˆ°è§£ç­”ï¼Œé–±è®€é€™ä»½æ–‡ä»¶ECMAScriptä¹Ÿè¨±æœƒæœ‰åŠ©æ–¼ä½  debug ä½ å¯èƒ½è½é Vueã€Reactã€Angular é€™äº›ä¸åŒçš„ JavaScript å¥—ä»¶æˆ–æ˜¯æ¡†æ¶ï¼Œä¸éæœ€å¾Œéƒ½æœƒè¢«æ‰“åŒ…æˆ JavaScript åœ¨ç€è¦½å™¨ä¸Šé‹è¡Œã€‚ éš¨è‘—æ™‚ä»£æ¼”é€²ä½¿ç”¨çš„æ¡†æ¶å¯èƒ½æœƒè®Šï¼Œä½†ç†Ÿæ‚‰ JavaScript æœ‰åŠ©æ–¼æœªä¾†èˆ‡æ™‚ä¿±é€²  ES6 æ–°å¢äº†å“ªäº›èªæ³•  è§£æ§‹è³¦å€¼\n\u0026ndash; å¯ä»¥ç”¨ç²¾ç°¡çš„èªæ³•ä¾†å‘½åè®Šæ•¸ï¼Œå¯å½ˆæ€§ä¿®æ”¹è®Šæ•¸åç¨±  1 2 3  const variable = { a: 1, b: 2, c: 3} const {a, b, c: cat} = variable //è‹¥æƒ³é‡å°cåšæ–°è®Šæ•¸å‘½åç‚ºcat  console.log(a, b, cat) // 1 2 3   \u0026ndash; å¯ä»¥ç”¨ä¾†å®šç¾©é è¨­å€¼ï¼Œç”±æ–¼æˆ‘å€‘å¾å…¶ä»–åœ°æ–¹å–ç”¨è³‡æ–™æ™‚å¯èƒ½æœƒæœ‰é æ–™å¤–ç‹€æ³ï¼Œç•¶æ²’æœ‰è³‡æ–™æ™‚æœ‰é è¨­å€¼å¥—ç”¨æ¯”è¼ƒä¿éšª\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  const restaurant = { starterMenu: [\u0026#39;Focaccia\u0026#39;, \u0026#39;Bruschetta\u0026#39;, \u0026#39;Garlic Bread\u0026#39;, \u0026#39;Caprese Salad\u0026#39;], } // è§£æ§‹è³¦å€¼æ™‚åŠ å…¥é è¨­å€¼[] é¿å…undefined const { menu = [], starterMenu: starters = [] } = restaurant console.log(menu, starters) // [] [ \u0026#39;Focaccia\u0026#39;, \u0026#39;Bruschetta\u0026#39;, \u0026#39;Garlic Bread\u0026#39;, \u0026#39;Caprese Salad\u0026#39; ]  // å‡½æ•¸ä½¿ç”¨é è¨­åƒæ•¸ function check (a, b = 1, c = 2, d) { console.log(a, b, c, d) } check(1,3) // 1 3 2 undefined  // ç‰©ä»¶æ–¹æ³•ä½¿ç”¨é è¨­åƒæ•¸ const restaurant = { orderDelivery: function ({ starterIndex = 1, // é è¨­å€¼  mainIndex = 0, // é è¨­å€¼  time = \u0026#39;00:00\u0026#39;, // é è¨­å€¼  address, // æ²’è¨‚é è¨­å€¼  }) { console.log( `${starterIndex}, ${mainIndex}, ${time}, ${address}` ); }, }; restaurant.orderDelivery({}) // 1, 0, 00:00, undefined   \u0026ndash; ä½¿ç”¨è§£æ§‹è³¦å€¼ä¸ç”¨å¦å¤–å®£å‘Š temp æš«å­˜è®Šæ•¸ï¼Œå°±å¯ä»¥äº’æ›è®Šæ•¸å€¼ï¼Œå¾ˆæ–¹ä¾¿\n1 2 3 4 5 6 7 8 9 10  // é™£åˆ—ç¯„ä¾‹ let [a, b] = [1, 2] [a, b] = [b, a] console.log(a, b) // 2 1 // ç‰©ä»¶ç¯„ä¾‹ let a = 1 let b = 2 const obj = {a: 11, b: 22} ({b, a} = obj) // ä¸èƒ½ç›´æ¥å°block{}è³¦å€¼ï¼Œéœ€è¦åŒ…åœ¨()ä¸­ console.log(a, b) // 22 11   \u0026ndash; ç”¨è§£æ§‹è³¦å€¼å–å‡ºå·¢ç‹€è®Šæ•¸è®Šå¾—å¾ˆç°¡å–®\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  // é™£åˆ—ç¯„ä¾‹  const nested = [1, 2, [3, 4]] const [i, ,[j, k]] = nested console.log(i, j, k) // 1 3 4  // ç‰©ä»¶ç¯„ä¾‹  const openingHours = { fri: { open: 0, // Open 24 hours  close: 24 }, }; const { fri: { open, close } } = openingHours console.log(open, close) // 0 24    Promise èªæ³•\n\u0026ndash; è§£æ±ºäº† callback hellï¼ˆé›£ä»¥ç¶­è­·çš„å·¢ç‹€çµæ§‹ç¨‹å¼ç¢¼ï¼‰\n\u0026ndash; ES7 æœ‰ async/await æ›´å¥½è®€ å±•é–‹é‹ç®—å­\n\u0026ndash; å¯ä»¥å±•é–‹ç‰©ä»¶ã€åšæ·ºæ‹·è²ã€åˆä½µé™£åˆ—ã€æŠŠå¯è¿­ä»£çš„ç‰©ä»¶ï¼ˆstringã€arrayã€array-likeã€Setã€Mapï¼‰è·Ÿéè¿­ä»£ç‰©ä»¶ objects è®Šæˆé™£åˆ—ï¼Œä¸”ä¸ç”¨æ–°å¢è®Šæ•¸  1 2 3 4 5 6  const arr = [1, 2, 3] const arrCopy = [...arr] const str = \u0026#39;Jonas\u0026#39; const letters = [...str] // [\u0026#39;J\u0026#39;, \u0026#39;o\u0026#39;, \u0026#39;n\u0026#39;, \u0026#39;a\u0026#39;, \u0026#39;s\u0026#39;]  console.log(...str) // J o n a s    å…¶é¤˜é‹ç®—å­\n\u0026ndash; å¯ä»¥å°‡é™£åˆ—å¾Œæ–¹å‰©ä¸‹çš„å€¼å­˜æˆä¸€å€‹é™£åˆ—ï¼Œè§£æ§‹è³¦å€¼æ™‚å¥½ç”¨ï¼ˆä¸æœƒå­˜å– skip,, çš„ key è·Ÿæœ‰å‡ºç¾éçš„ keyï¼‰  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  // é™£åˆ—ç¯„ä¾‹ const [x, , ...y] = [13, 25, 33, 2]; console.log(x); // 13 console.log(y); // [33, 2]  // ç‰©ä»¶ç¯„ä¾‹  const restaurant = { openingHours: { thu: 12, fri: 13, sat: 12 } } const {sat, ...weekdays} = restaurant.openingHours console.log(weekdays) = {thu: 12, fri: 13}    ç®­é ­å‡½å¼\n\u0026ndash; å¯ä»¥æ‰“è¼ƒå°‘çš„ç¨‹å¼ç¢¼ï¼Œæé«˜ç¨‹å¼ç¢¼å¯è®€æ€§\n\u0026ndash; éå¾€ this å€¼ä¾ç…§åŸ·è¡Œç’°å¢ƒæ‰€æœ‰ä¸åŒï¼Œä¸å¥½åˆ¤æ–·\n\u0026ndash; è€Œç®­é ­å‡½å¼çš„ this å‰‡æ˜¯ç¶å®šå®šç¾©ä»–ï¼ˆè€Œéå‘¼å«ä»–ï¼‰çš„ç‰©ä»¶ï¼Œçœ‹ä»–èº«è™•åœ¨çš„ function scope çš„ this æŒ‡å‘èª° \u0026ndash; ç™½è©±æ–‡ï¼šç®­é ­å‡½å¼æ²’æœ‰è‡ªå·±çš„thisï¼Œä½†å¯ä»¥ä½¿ç”¨çˆ¶å±¤çš„ this æ¨¡æ¿å­—ä¸²\n\u0026ndash; éå¾€å¯ä»¥é€éå–®å¼•è™Ÿæˆ–é›™å¼•è™Ÿè·ŸåŠ è™Ÿæ‹¼æ¥å­—ä¸²ï¼Œå·¢ç‹€çš„æ™‚å€™éœ€è¦é›™å¼•è™ŸåŒ…è£¹å–®å¼•è™Ÿ(åéä¾†å‰‡ä¸è¡Œ)\n\u0026ndash; é‡åˆ°æ‹¼æ¥å…§å®¹æ˜¯ HTML çµæ§‹ï¼Œæ›è¡Œéœ€è¦åŠ \\nï¼Œä½¿ç”¨ä¸Šéº»ç…©é–±è®€ä¸Šä¹Ÿä¸å®¹æ˜“\n\u0026ndash; æƒ³å¯«ç¸®å¯«æˆ–æ‰€æœ‰æ ¼ï¼ˆe.g. I\u0026rsquo;m cool, bac\u0026rsquo;sï¼‰çš„è‹±æ–‡å…§å®¹å¯èƒ½é‡åˆ°éœ€è¦ç”¨è·³è„«å­—å…ƒ\u0026quot;I'm\u0026quot;ï¼Œè€Œå­—ä¸²æ¨¡æ¿è§£æ±ºäº†ä¸Šè¿°ä¸æ–¹ä¾¿ä½¿ç”¨çš„å•é¡Œ  1 2 3 4  const yourName = \u0026#39;bacnotes\u0026#39;; const codeName = \u0026#39;JavaScript\u0026#39;; const string = `Hi I\u0026#39;m ${yourName}` And I love ${codeName}!!`;    Enhanced Object Literals\nå±¬æ€§åè·Ÿæœ¬åœ°è®Šé‡åç›¸åŒå¯ä»¥çœç•¥å¾Œé¢çš„å†’è™Ÿè·Ÿå€¼ å¼•å…¥ class é¡åˆ¥\nä½œç‚º JavaScript ç¾æœ‰åŸå‹ç¨‹å¼(prototype-based)ç¹¼æ‰¿çš„èªæ³•ç³– å¼•å…¥æ¨¡çµ„ Import and Export modules\næ–¹ä¾¿ç®¡ç†ç¨‹å¼ç¢¼ä¹‹é–“çš„ç›¸ä¾æ€§ï¼ŒéåŒæ­¥è¼‰å…¥ï¼ˆéå¾€ require æ˜¯åŒæ­¥èªæ³•ï¼‰  JavaScript åœ¨ç¶²é æ¸²æŸ“æ™‚åŸ·è¡Œä½ç½®  ç€è¦½å™¨æ¸²æŸ“éç¨‹ï¼šå»ºç«‹ DOM â†’ å»ºç«‹ CSSOM â†’ åˆä½µç‚º Render Tree â†’ Layoutï¼ˆç©ºé–“ä½ç½®æ’ç‰ˆä½ˆå±€ï¼‰ â†’ Paintï¼ˆç¹ªè£½ç•«é¢ï¼Œè½‰æ›æˆåƒç´ åšå‘ˆç¾ï¼‰ ç”±æ–¼ JavaScript åœ¨åŸ·è¡Œæ™‚ï¼Œæœƒåœæ­¢æ¸²æŸ“å‹•ä½œï¼Œé˜»å¡ DOM å’Œ CSSOM çš„å»ºæ§‹éç¨‹ å› æ­¤æœƒå»ºè­°æŠŠ script æ”¾åœ¨ HTML å…§å®¹ä¸‹æ–¹ï¼Œä¹Ÿå°±æ˜¯\u0026lt;/body\u0026gt;å‰  1 2 3 4  \u0026lt;body\u0026gt; ... \u0026lt;script src=\u0026#39;./script.js\u0026#39;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt;    å¦‚æœç‚ºäº†æ•ˆèƒ½æƒ³ææ—©è¼‰å…¥è³‡æºè€Œå¸Œæœ›æŠŠ script æ”¾åœ¨\u0026lt;head\u0026gt;å€å¡Šï¼Œéœ€è¦åŠ ä¸€å€‹deferå±¬æ€§é¿å…é˜»æ“‹æ¸²æŸ“éç¨‹ï¼ˆDOM é‚„åœ¨å»ºç«‹ï¼‰ è‹¥ä½¿ç”¨asyncå±¬æ€§ï¼Œä¸‹è¼‰å¾Œæœƒç«‹åˆ»åŸ·è¡Œä½†ä¸ä¿è­‰é †åºï¼Œä¸”è«‹æ±‚å›ä¾†å¾Œæœƒåœæ­¢è§£æï¼Œé‚„æ˜¯å¯èƒ½é‡åˆ° DOM è·Ÿ CSSOM é‚„åœ¨ç”Ÿæˆï¼Œé¸ä¸åˆ°å…ƒç´ ï¼Œé©åˆç”¨åœ¨ä¸æœƒé‡å°æ“ä½œ DOM çš„ scriptï¼ˆe.g. Google Analyticsï¼‰  è®Šæ•¸å‘½åé™åˆ¶  è®Šæ•¸ variable ç”¨ä¾†å­˜å– value JavaScript ç¿’æ…£å°å¯«é§å³°å‘½åyourNameï¼Œå¤§å¯«é–‹é ­è¡¨ç¤ºå»ºæ§‹å­ ä½¿ç”¨æœ‰æ„ç¾©çš„å‘½åï¼ˆe.g. firstJobã€currentJobè€Œéjob1ã€job2ï¼‰ ä¸èƒ½ç”¨æ•¸å­—é–‹é ­ç•¶è®Šæ•¸ ä¸æ¥å— - ç¬¦è™Ÿï¼ˆæœƒç•¶æˆæ¸›è™Ÿ) è®Šæ•¸å…§å®¹åªèƒ½åŒ…å«æ•¸å­—ã€è‹±æ–‡å­—ã€_ã€$ _è·Ÿ$é–‹é ­çš„å‘½åé€šå¸¸æ˜¯æœ‰ç‰¹åˆ¥ç”¨é€”ï¼ˆe.g. ç§æœ‰è®Šæ•¸ï¼‰ ä¸èƒ½ä½¿ç”¨ Reserved keywordsï¼ˆe.g. newã€functionï¼‰ï¼Œä½†$newæˆ–_funtionæ˜¯åˆæ³•çš„ name æ˜¯ Reserved keywordsï¼Œå¯ä»¥åˆæ³•ä½¿ç”¨ä½†å¯èƒ½æœ‰é¢¨éšªï¼Œå¯§é¡˜ç”¨firstNameç­‰ç­‰  error msg èˆ‡ console.log  SyntaxError: èªæ³•çµæ§‹éŒ¯èª¤ï¼ˆå¯èƒ½æ˜¯æ‹¬å¼§ã€æ‹¼å­—å¤§å°å¯«ï¼‰ ReferenceError: å¼•ç”¨éŒ¯èª¤ï¼ˆæ²’è¢«å®šç¾©ã€æ‰¾ä¸åˆ°æª”æ¡ˆï¼‰ RangeError: è¶…å‡ºåƒæ•¸ç¯„åœ TypeError: å‹åˆ¥éŒ¯èª¤ EvalError: eval()æ–¹æ³•ä½¿ç”¨éŒ¯èª¤ URIError: url éŒ¯èª¤ å¦‚æœ console.log çµæœç„¡æ³•åœ¨ç€è¦½å™¨çš„ dev tools é¡¯ç¤ºå‡ºä¾†ï¼Œé»å³é‚Šé½’è¼ªç¢ºèªå‹¾é¸ç‹€æ³(ä¸€èˆ¬æœƒæ˜¯å‹¾ default value)ï¼Œå¯åƒè€ƒé€™ç¯‡ https://blog.csdn.net/xianyu_Padding/article/details/78013754  Data types å‹åˆ¥è·Ÿ Dynamic type  Number(æ•´æ•¸/æµ®é»æ•¸) String(æ–‡å­—) Boolean(true/false) Object(ç‰©ä»¶/é™£åˆ—/å‡½å¼) Undefined(å·²å®£å‘Šç„¡å®šç¾©) null(ç©ºå€¼/empty value) Symbol(ES2015) unique ä¸”ç„¡æ³•è¢«æ”¹è®Šçš„ value BigInt(ES2020) å¤§æ•´æ•¸ é number å¯ä»¥ä¿å­˜çš„ value JavaScript åœ¨å‘½åè®Šæ•¸æ™‚ä¸ç”¨æ‰‹å‹•å®šç¾©å‹åˆ¥ï¼ŒåŒä¸€å€‹è®Šæ•¸å¯ä»¥è³¦äºˆä¸åŒå‹åˆ¥çš„å€¼ è®Šæ•¸å¯èƒ½åŸæœ¬æ˜¯æ•¸å­—ï¼Œå¾Œé¢è®Šæˆå­—ä¸²ï¼Œé€™ä¹Ÿæ˜¯ bug ç”¢ç”Ÿçš„é¢¨éšª(ä½†ç¾åœ¨ä¹Ÿæœ‰ typescript XD) ç¢ºèªè®Šæ•¸å‹åˆ¥typeof è®Šæ•¸ typeof è®Šæ•¸Â å¾—åˆ°çš„æ˜¯å›ºå®šçš„ä¸ƒç¨®å­—ä¸²å€¼:'undefined' 'object' 'boolean' 'number' 'string' 'function' 'symbol'  null v.s. undefined v.s. not defined  null æœ‰å®£å‘Š/æœ‰è³¦å€¼ ä½†æ˜¯æ˜¯ä¸€å€‹ç©ºå€¼ â†’ ç³»çµ±æç¤ºæ²’æŠ“åˆ°å…ƒç´  (e.g. array ç•¶ä¸­ key å­˜åœ¨ä½†å€¼æ˜¯ç©ºçš„) undefined æœ‰å®£å‘Š/æ²’è³¦å€¼ â†’ ç³»çµ±æç¤ºæ²’æœ‰è³¦å€¼ not defined æ²’å®£å‘Š/æ²’è³¦å€¼ â†’ ç³»çµ±æç¤ºæ²’æœ‰å®£å‘Š  å®£å‘Šè®Šæ•¸æ–¹å¼ letã€constã€var å¾ ES6 é–‹å§‹æœ‰äº†constè·Ÿletå…©ç¨®æ–°çš„å‘¼å«æ–¹å¼\nä¸¦ä¸”æœ€å°çš„å€å¡Šåˆ‡åˆ†å¾functionè®Šæˆ block{}ï¼Œé¿å…è®Šæ•¸æ±¡æŸ“çš„ç™¼ç”Ÿ\n  let è·Ÿ const çš„å·®ç•°\n\u0026ndash; letçš„è®Šæ•¸éš¨æ™‚å¯ä»¥ç”¨ = é‡æ–°è³¦å€¼\n\u0026ndash; constçš„è®Šæ•¸ç„¡æ³•ç”¨ = é‡æ–°è³¦å€¼ï¼Œé©åˆç”¨åœ¨å¸¸æ•¸ï¼Œè‹¥ç‚ºé™£åˆ—æˆ–ç‰©ä»¶å±¬æ€§çš„å€¼é‚„æ˜¯å¯è¢«æ”¹è®Š\n\u0026ndash; constè‹¥ç‚º primitivesï¼Œä¸èƒ½åš var += var çš„æ“ä½œ\n\u0026ndash; ç”±æ–¼å€¼çš„è®Šæ›´æœ‰ç”¢ç”Ÿ bug çš„é¢¨éšªï¼ŒåŸºæœ¬ä¸Šå®£å‘Šæœƒä½¿ç”¨constï¼Œè‹¥æœƒé‡è¤‡è³¦å€¼å†ç”¨let\n\u0026ndash; ä¸æœƒä½¿ç”¨æ—©æœŸçš„å®£å‘Šè®Šæ•¸æ–¹å¼varï¼Œæ—©æœŸå®£å‘Šè®Šæ•¸æ–¹æ³•åªæœ‰varæ­é…functionæŠŠä½œç”¨åŸŸé–åœ¨å‡½å¼è£¡é¢ï¼Œä½†è‹¥æ”¾åœ¨if elseç­‰å€å¡Šèªå¥ï¼Œæœƒè®“varå®£å‘Šçš„è®Šæ•¸æ´©æ¼åˆ°å…¨åŸŸï¼Œé€ æˆè®Šæ•¸æ±¡æŸ“\n  let è·Ÿ const çš„å…±åŒè™•\n\u0026ndash; åŒå€å¡Šä¸Šä¸èƒ½é‡è¤‡å®£å‘Š\n\u0026ndash; å€å¡Šå…§å®£å‘Šä¸æœƒæ´©æ¼åˆ°å…¨åŸŸ\n  ä½œç”¨åŸŸ\n\u0026ndash; varåœ¨ä¸»ç¨‹å¼å€æ˜¯å…¨åŸŸè®Šæ•¸ï¼Œåœ¨functionå…§æ˜¯å€åŸŸè®Šæ•¸\n\u0026ndash; åœ¨ block å€å¡Šèªå¥ï¼ˆifã€elseã€forã€while ç­‰ï¼‰è£¡é¢ç”¨ var å®£å‘Šçš„è®Šæ•¸ï¼Œæœƒæ´©æ¼åˆ°å…¨åŸŸä¸­ï¼Œé€ æˆå€åŸŸè®Šæ•¸è¦†è“‹å…¨åŸŸè®Šæ•¸\n  çµ•å°ä¸è¦ç›´æ¥å‘½åè€Œä¸ä½¿ç”¨let const var\n\u0026ndash; åƒæ˜¯job = 'code'\n\u0026ndash; æ²’æœ‰ scopeï¼Œæœƒè®Šæˆå…¨åŸŸè®Šæ•¸ï¼Œè€Œä¸”ä¸åœ¨æ§ç®¡ä¸‹ï¼Œæœƒé€ æˆè¨˜æ†¶é«”ç®¡ç†å•é¡Œ\n  ç®—æ•¸é‹ç®—å­ Arithmetic Operator  + = * / ** % ++ -- åŠ æ¸›ä¹˜é™¤ æŒ‡æ•¸ å–é¤˜æ•¸ éå¢ éæ¸› x++ è·Ÿ ++x æœ‰åŸ·è¡Œé †åºçš„å·®åˆ¥ï¼Œå‰è€…å…ˆåˆ—å°çµæœå†ç›¸åŠ ï¼Œå¾Œè€…å…ˆç›¸åŠ å†åˆ—å°çµæœ é‹ç®—å­é‚„å¯ä»¥ç”¨åšåˆä½µå­—ä¸² å­—ä¸²1+ ' '+ å­—ä¸²2ï¼Œä½†ç¾åœ¨åˆä½µå­—ä¸²å¤šç”¨ template literal  æŒ‡æ´¾é‹ç®—å­ Assignment operators  = += -= *= /= %= å°‡ç­‰è™Ÿå³é‚Šçš„å€¼æ‹·è²çµ¦å·¦é‚Šçš„è®Šæ•¸è³‡æ–™  æ¯”è¼ƒé‹ç®—å­ Comparison operators  == === != !== \u0026gt; \u0026gt;= \u0026lt; \u0026lt;= å¯ä»¥ç”¨ä¾†æŠŠåˆ¤æ–·çš„çµæœå­˜åœ¨è®Šæ•¸  1 2  console.log(age \u0026gt;= 18); // true åˆ¤æ–·ç”¨çš„åƒæ•¸ const isFullAge = age \u0026gt;= 18;   Operator precedence é‹ç®—å­å„ªå…ˆé †åº  MDNå¯ä»¥æŸ¥è©¢ï¼Œä¸ç”¨èƒŒæœ‰å€‹æ¦‚å¿µå³å¯ å¦‚æœæä¸æ‡‚é †åºï¼Œç”¨()æŠŠç¢ºå®šè¦å…ˆåŸ·è¡Œçš„æ®µè½åŒ…èµ·ä¾†ï¼Œæ¬Šé‡æœ€é«˜  1 2 3 4 5 6  () 21 * / 14 + - 13 \u0026gt; \u0026lt; æ¯”è¼ƒ 11 \u0026amp;\u0026amp; 6 || 5    è§£é‡‹äº†ç‚ºä½•ç¨‹å¼å¯ä»¥æ­£ç¢ºåŸ·è¡Œé¡ä¼¼æœ‰è¨±å¤šé‹ç®—å­å»ä¸æœƒèª¤åˆ¤åŸ·è¡Œé †åº  1 2 3 4  const now = 2039; const ageJonas = now - 1991; const ageSarah = now - 2003; console.log(now - 1991 \u0026gt; now - 2003); // true    = åŸ·è¡Œé †åºå³åˆ°å·¦  1 2 3 4  let x, y x = y = 25 - 10 - 5 console.log(x, y) // 10 10 å‡è¨­æ˜¯å·¦åˆ°å³ xï¼yæ™‚ yæœƒæ˜¯undefined æ‰€ä»¥å¿…é ˆæ˜¯å³åˆ°å·¦   é¡¯æ€§è½‰å‹ Type Conversion  String() å¯ä»¥å°‡ null å’Œ undefined è½‰æ›ç‚ºå­—ä¸² toString() å¯ä»¥å°‡æ‰€æœ‰è³‡æ–™éƒ½è½‰æ›ç‚ºå­—ä¸²\nä½†æ˜¯è¦æ’é™¤ null å’Œ undefinedï¼ˆTypeError: Cannot read property \u0026rsquo;toString\u0026rsquo; ï¼‰ toString(value, radix) å¯ä»¥è½‰ 2 æˆ– 8 æˆ– 10 æˆ– 16 é€²ä½å­—ä¸² JSON.stringify()è½‰æˆ JSON å­—ä¸²\u0026quot;\u0026quot; parseInt(string, radix) å­—ä¸²è½‰æˆæ•¸å­—ï¼Œè‹¥ç¬¬ä¸€å€‹å­—ç¬¦ç„¡æ³•è½‰æ›ç‚ºæ•¸å­—å›å‚³ NaN Number() å­—ä¸²è½‰æˆæ•¸å­—ï¼Œundefined å›å‚³ NaNï¼Œnull å›å‚³ 0ï¼Œtrue å›å‚³ 1ï¼Œfalse å›å‚³ 0 Boolean() å¦‚æœæ²’å‚³å€¼ï¼Œæˆ–è€…æ˜¯ 0ã€-0ã€nullã€falseã€NaNã€undefinedã€ç©ºå­—ä¸²æœƒè½‰æˆ Boolean  éš±æ€§è½‰å‹ Coercion é‹ç®—å­  - * /æœƒè½‰æˆæ•¸å­—'23' - '10' - 3 // 10 +æœƒè½‰æˆå­—ä¸²'23' + '10' // 2310 ç¶œåˆ 10 - 3 - 3 + '1' // 41 == === != !==  ä¹Ÿæœƒï¼Œå¯ä»¥çœ‹ä¸‹æ–¹çš„åš´æ ¼çš„ç­‰è™Ÿ v.s. å¯¬é¬†çš„ç­‰è™Ÿèªªæ˜  if () è·Ÿ!  if (è®Šæ•¸) åœ¨ if æ‹¬å¼§è£¡çš„è®Šæ•¸éƒ½æœƒå¼·åˆ¶è½‰ç‚º Boolean ç¨‹å¼æ²’å¯«å¥½å¯èƒ½å›å‚³ nullã€undefinedã€NaN ç­‰ï¼Œè‹¥ç•¶ä½œæ¢ä»¶åˆ¤æ–·è®Šæˆ false å®¹æ˜“é€ æˆåˆ¤æ–·å¼éŒ¯èª¤ï¼Œéœ€è¦æ³¨æ„ã€‚  1 2 3 4 5 6  // é‹ç®—å‰ç¢ºèªå‹åˆ¥ if (typeof a === typeof b) { console.log(a + b) } else { console.log(\u0026#39;need to check problem\u0026#39;) }    !(è®Šæ•¸)ä¹Ÿæœƒè®“è®Šæ•¸å¼·åˆ¶è½‰å‹  1 2 3 4 5 6 7  !\u0026#39;Hello\u0026#39;; // false !0; // true !{}; // false !null; // true !undefined; // true !NaN; // true !\u0026#39;\u0026#39;; // true   Truthy \u0026amp; Falsy values  Falsy åŒ…å«ï¼š nullã€undefinedã€0ã€ç©ºå­—ä¸²ã€NaN(ä¸ç­‰æ–¼è‡ªå·±)ã€false Big Int 0n ä¹Ÿæ˜¯ Falsy -1æ˜¯ trueï¼Œ{}æ˜¯ true ä»¥ä¸‹ç‚º Falsy å€¼å°è‡´çš„éŒ¯èª¤è¨­è¨ˆç¯„ä¾‹ï¼ˆè¨­è¨ˆæµç¨‹æ™‚éœ€æ³¨æ„ falsyï¼‰  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  // ç‹€æ³1 let height; if (height) { console.log(\u0026#39;defined\u0026#39;); } else { console.log(\u0026#39;not defined\u0026#39;); } // not defined  // ç‹€æ³2 let height = 0; if (height) { console.log(\u0026#39;defined\u0026#39;); } else { console.log(\u0026#39;not defined\u0026#39;); } // not defined é›–ç„¶æœ‰defineç‚º0 ä½†å› ç‚º0æ˜¯falsy æ‰€ä»¥é¡¯ç¤ºé‚„æ˜¯not defined // æ­¤ç‚ºè¨­è¨ˆéŒ¯èª¤å°è‡´é¡¯ç¤ºå‡ºéé æœŸçš„çµæœ   åš´æ ¼çš„ç­‰è™Ÿ=== v.s. å¯¬é¬†çš„ç­‰è™Ÿ ==  ä½¿ç”¨å¯¬é¬†çš„==ï¼Œæœƒç™¼ç”Ÿæœƒå¼·åˆ¶è½‰å‹ï¼Œå­—ä¸²è·Ÿæ•¸å­—æœƒç›¸ç­‰ åš´æ ¼çš„ç­‰è™Ÿæœƒæª¢æŸ¥è³‡æ–™å‹åˆ¥ï¼Œä¸æœƒå¼·åˆ¶è½‰å‹ å¯¬é¬†çš„ç­‰è™Ÿå®¹æ˜“ç”¢ç”Ÿ bugï¼Œæ‰€ä»¥åªæœƒä½¿ç”¨===è·Ÿ!== \u0026quot;0\u0026quot; == false // true (\u0026ldquo;0\u0026quot;è½‰æˆæ•¸å­— 0ï¼Œfalse è½‰æˆ 0)  æœ‰èˆˆè¶£å¯çœ‹é€™ä»½MDN ä¸€èˆ¬ç›¸ç­‰æ¯”è¼ƒè¡¨\nï¼Š[]æœƒå…ˆç”±toString()å¼·åˆ¶è½‰å‹ç‚ºå­—ä¸²ï¼Œå†å¼·åˆ¶è½‰å‹ç‚ºæ•¸å­—\nAND OR ! é‚è¼¯é‹ç®—å­ ç”¨æ–¼ if æ¢ä»¶å¢åŠ åˆ¤æ–·  \u0026amp;\u0026amp; (AND)æ‰€æœ‰æ¢ä»¶ç‚º true æ‰æœƒæ˜¯ true || (OR)æœ‰ä¸€å€‹æ¢ä»¶æ˜¯ true å°±æ˜¯ true  1 2 3 4 5 6  ç•¶a is false b is true !a // true a \u0026amp;\u0026amp; b // false a || b // true !a \u0026amp;\u0026amp; b // true a || !b // false   ç”¨æ–¼ short-circuiting  å¯ä»¥åšç‚º if æ¢ä»¶åˆ¤æ–·çš„ argumentï¼Œè¦åŸ·è¡Œå“ªä¸€æ®µç¨‹å¼ ä¹Ÿå¯ä»¥å¥—ç”¨\u0026amp;\u0026amp;æˆ–||çš„é‚è¼¯ï¼Œç‚ºè®Šæ•¸è³¦å€¼ï¼Œè®“ç¨‹å¼ç¢¼æ›´ç²¾ç°¡ \u0026amp;\u0026amp; å¯ä»¥æª¢æŸ¥è®Šæ•¸æ˜¯å¦ç‚ºtrueï¼Œtrueæ™‚æ‰æœƒåŸ·è¡Œå¾Œé¢çš„ç¨‹å¼ç¢¼ || å¯ä»¥ç•¶ä½œè™•ç†ä¾‹å¤–æƒ…æ³ï¼Œç•¶å·¦é‚Šè®Šæ•¸æœ‰å•é¡Œï¼Œä½¿ç”¨å³é‚Šé è¨­å€¼  1 2 3 4 5 6 7 8 9 10 11  // ä¸é™è³‡æ–™å‹æ…‹ const a = var1 \u0026amp;\u0026amp; var2 (ç•¶å·¦é‚Šè®Šæ•¸ç‚ºtrueï¼Œæ‰å¥—ç”¨å³é‚Šçš„å€¼ï¼Œè‹¥ç‚ºfalseæœƒå¥—ç”¨å·¦é‚Šå€¼) console.log(3 \u0026amp;\u0026amp; \u0026#39;cat\u0026#39;) // \u0026#39;cat\u0026#39; console.log(0 \u0026amp;\u0026amp; null) // 0 console.log(\u0026#39;\u0026#39; \u0026amp;\u0026amp; 0) // \u0026#39;\u0026#39;  const a = var1 || var2 (ç•¶å·¦é‚Šè®Šæ•¸ç‚ºfalseï¼Œæ‰å¥—ç”¨å³é‚Šçš„å€¼ï¼Œè‹¥ç‚ºtrueæœƒå¥—ç”¨å·¦é‚Šå€¼) console.log(3 || \u0026#39;cat\u0026#39;) // 3 console.log(\u0026#39;\u0026#39; || null) // null console.log(undefined || 0 || \u0026#39;\u0026#39; || \u0026#39;hi\u0026#39; || 23) // \u0026#39;hi\u0026#39;   ?? Nullish Coalescing  ç•¶ null æˆ– undefined æ‰æœƒå›å‚³ (0 æˆ–\u0026rsquo;\u0026lsquo;ä¸æœƒ)  1 2 3 4 5  const guests = restaurant.numGuests || 10 console.log(guests) // 10 // null or undefined const guestsCorrect = restaurant.numGuests ?? 10 console.log(guestsCorrect) // 10   è¡¨é”å¼ statements v.s. é™³è¿°å¼ expressions  è¡¨é”å¼ï¼šæœƒå›å‚³çµæœ\ne.g. ç´”å€¼ã€è®Šæ•¸ã€é‹ç®—å­ã€åŸ·è¡Œå‡½å¼ã€æ­£è¦è¡¨é”å¼ã€å‡½å¼è¡¨é”å¼â€¦ é™³è¿°å¼ï¼šæœƒåŸ·è¡Œä¸€äº›ç¨‹å¼ç¢¼ï¼Œå¯èƒ½æ˜¯å¹¾å€‹å–®è©æˆ–æ˜¯ç‰‡æ®µï¼ˆä¸æœƒæ˜¯å–®ä¸€å€‹å­—æ¯ï¼‰ï¼Œä¸æœƒå›å‚³çµæœ\ne.g. å®£å‘Šï¼ˆvarã€functionï¼‰ã€æµç¨‹æ§åˆ¶ï¼ˆblockã€ifâ€¦elseï¼‰ã€è¿´åœˆï¼ˆforã€whileï¼‰ã€å…¶å®ƒï¼ˆimport, exportï¼‰  æµç¨‹åˆ¤æ–·  if else  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  // æ¯”è¼ƒé‹ç®—å­ä¾†è¨­å®šæ¢ä»¶ï¼Œå¯ä»¥æ­é…\u0026amp;\u0026amp; || !é‚è¼¯é‹ç®—å­è¨­å®šæ›´ç´°ç·»çš„åˆ¤æ–· const accountName = prompt(\u0026#39;your accountName: 8 ~ 20 characters\u0026#39;); if (accountName \u0026gt; 8 \u0026amp;\u0026amp; accountName \u0026lt; 20) { console.log(\u0026#39;correct account length\u0026#39;); } else { // ä¸ç¬¦åˆæ¢ä»¶ï¼Œæç¤ºä½¿ç”¨è€…æª¢æŸ¥å¸³è™Ÿé•·åº¦  console.log(\u0026#39;please check your account length\u0026#39;); } // æœ‰ä¸‰çµ„ä»¥ä¸Šæ¢ä»¶ï¼Œä¸­é–“çš„æ¢ä»¶æœƒç”¨else ifæ¨™ç¤ºï¼Œæœ€å¾Œæ‰æ˜¯else if (a \u0026gt; 10) { console.log(\u0026#39;bigger than 10\u0026#39;); } else if (a === 10) { console.log(\u0026#39;equal to 10\u0026#39;); } else { console.log(\u0026#39;smaller than 10\u0026#39;); }    Ternary Operatorï¼ˆæ¢ä»¶é‹ç®—å­ï¼‰  1 2 3 4 5 6 7  // condition ? exprIfTrue : exprIfFalse const age = 20; const drink = age \u0026gt;= 18 ? \u0026#39;wine\u0026#39; : \u0026#39;water\u0026#39;; console.log(drink); // wine  // expressionä¹Ÿå¯ä»¥æ”¾åˆ°æ¨¡æ¿å­—ä¸² console.log(`I can drink ${age \u0026gt;= 18 ? \u0026#39;wine\u0026#39; : \u0026#39;water\u0026#39;}`); // I can drink wine    switchï¼ˆæ¯”è¼ƒå°‘ç”¨ï¼Œçœ‹æƒ…æ³é‚„æ˜¯å¯ä»¥ä½¿ç”¨ï¼‰  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  const time = \u0026#39;morning\u0026#39;; switch (time) { case \u0026#39;morning\u0026#39;: console.log(\u0026#39;go to school\u0026#39;); break; case \u0026#39;noon\u0026#39;: console.log(\u0026#39;eat lunch\u0026#39;); break; case \u0026#39;night\u0026#39;: console.log(\u0026#39;sleep\u0026#39;); break; default: console.log(\u0026#39;nothing\u0026#39;); }   JavaScript å°æ­·å² 1 2 3 4 5 6 7  1995 Brendan Eich10å¤©å…§å‰µé€ äº†ç¬¬ä¸€ç‰ˆJavaScriptå« mocha 1996 LiveScript â†’ JavaScript æ”¹åå­—å¸Œæœ›å¸å¼•Javaé–‹ç™¼è€…ï¼Œä½†ç„¡é—œä¹Javaé€™å€‹ç¨‹å¼èªè¨€ MSç™¼å¸ƒIEï¼Œå¾NetScape copyJavaScriptå«JScript æ“”å¿ƒä¾µæ¬Šæ”¹åï¼Œä½†é‚„æ˜¯å¾ˆåƒçš„æ±è¥¿ ç‚ºäº†é•·é ç™¼å±•ï¼Œéœ€è¦æ¨™æº–åŒ–ï¼Œæ–¼æ˜¯æäº¤çµ¦ECMAç¨ç«‹æ©Ÿæ§‹ 1997 ECMAscript ES1ç™¼å¸ƒï¼Œå¤§å®¶ä½¿ç”¨ä¸€æ¨£çš„æ¨™æº–è·Ÿè¦ç¯„é–‹ç™¼ 2009 ES5/ES2016(ECMAScript5) æœ‰ä¸€äº›æ–°feature 2015 ES6/ES2017(ECMAScript6) æ–°ç´€å…ƒ   JavaScript å’Œç€è¦½å™¨çš„ç›¸å®¹æ€§  Backward compatibility: ES1 èªæ³•åœ¨ç¾ä»£ç€è¦½å™¨é‚„æ˜¯ç›¸å®¹çš„ Forwards compatibility: èˆŠç‰ˆæœ¬ IE8 ç€è¦½å™¨ä¸ç†è§£æ–°ç‰ˆæœ¬ JavaScript çš„è¦ç¯„\næˆ‘å€‘å¯ä»¥é€éæ›´æ–°ç€è¦½å™¨é¿å…ä¸ç›¸å®¹ ES5: fully supported in all browsers IE9(2011) ES6 â†’ ES2021: well supported in all modern browsers, not in older ones.\ncan use most features in production with transpiling and polyfilling æ‰€ä»¥æœƒä½¿ç”¨ BABEL ES2022: ESNext future versions\ncan use some features in production with transpiling and polyfilling å…ˆå­¸ Modern JavaScript ä½†é‚„æ˜¯éœ€è¦çŸ¥é“éå¾€ JavaScript é‹ä½œæ–¹å¼\ne.g. const let v.s. var\ne.g. function construction v.s ES6 Class é—œæ–¼Polyfills and transpilers  æ­å–œä½ çœ‹å®Œé€™ä¸€ç¯‡ JavaScript åŸºç¤çŸ¥è­˜è¤‡ç¿’(1)ï¼Œä¼‘æ¯ä¸€ä¸‹å†å¾€ä¸‹ä¸€ç¯‡å‰é€²å§ï¼\nJavaScript åŸºç¤çŸ¥è­˜è¤‡ç¿’(2)\nï¼Šæ–‡ç« å…§å®¹æœ‰éŒ¯èª¤çš„åœ°æ–¹ï¼Œéƒ½æ­¡è¿è¨è«–èˆ‡æŒ‡æ­£ ï¼Šä»¥ä¸Šæ˜¯ JavaScript çš„åŸºç¤ä»‹ç´¹ï¼Œæœªä¾†é‚„æœƒæ’°å¯«å…¶ä»–é€²éšçš„æ–‡ç« ã€‚\n","date":"2021-12-29T00:00:00+08:00","image":"https://bacnotes.github.io/p/javascript-fundamentals-part1/javascript_hu206ed96a14226138f3215dbd4aa48c79_350158_120x120_fill_box_smart1_3.png","permalink":"https://bacnotes.github.io/p/javascript-fundamentals-part1/","title":"JavaScriptåŸºç¤çŸ¥è­˜è¤‡ç¿’(1)ï½œThe Complete JavaScript Courseï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"ä»€éº¼æ˜¯ Google Analytics \u0026amp; Google Search Console Google Analyticsï¼šåˆ†ææµé‡ä¾†æºèˆ‡ç«™å…§è¡Œç‚ºè¡¨ç¾  å¯ä»¥çœ‹é€²ç«™ç®¡é“åˆ†å¸ƒï¼ŒåŒ…å«ç›´æ¥æµé‡ã€è‡ªç„¶æœå°‹ã€ç¤¾ç¾¤ç¶²ç«™ã€å…¶ä»–ç¶²ç«™é€£çµå°å…¥æˆ–æ˜¯ä¾†è‡ªå»£å‘Šç­‰ç­‰ å¯ä»¥äº†è§£åˆ°é”ç¶²é (landing page)é›†ä¸­åœ¨å“ªäº›é é¢ è§€çœ‹ä½¿ç”¨è€…é¡å‹èˆ‡é€²ç«™å¾Œçš„ä½¿ç”¨è€…è¡Œç‚ºï¼Œåƒæ˜¯åœç•™æ™‚é–“ï¼Œè§€çœ‹äº†å¹¾é ï¼Œè·Ÿé›¢é–‹é é¢ ç¢ºèªæ˜¯å¦è·ŸåŸæœ¬è¦åŠƒçš„ç¶²ç«™é«”é©—æµç¨‹ç›¸ä¼¼ï¼Œæˆ–æ˜¯åœ¨å“ªäº›é é¢å®¹æ˜“æµå¤±å®¢æˆ¶ é›»å•†ç¶²ç«™å¯ä»¥è¨­å®šé›»å­å•†å‹™è§€çœ‹é›»å­å•†å‹™å ±è¡¨(è½‰æ›ç‡/æ”¶ç›Š/å®¢å–®åƒ¹ç­‰)ï¼Œç”±æ–¼æˆ‘å€‘åªæ˜¯å–®ç´”çš„éƒ¨è½æ ¼ï¼Œæœªä¾†å¦‚æœæœ‰æ©Ÿæœƒçš„è©±å†ä¾†ä»‹ç´¹  Google Search Consoleï¼šåˆ†æè‡ªç„¶æœå°‹æµé‡èˆ‡ç«™å¤–æ’å  å¯ä»¥å¾æˆæ•ˆå ±è¡¨è§€å¯Ÿæµé‡çš„è®ŠåŒ–ï¼Œæ›å…‰ \u0026gt; é»æ“Š \u0026gt; é»é–±ç‡ \u0026gt; æ’åº åˆ†ææœ‰å“ªäº›é—œéµå­—è·Ÿé é¢å¸¶ä¾†æµé‡ åˆ†æè‡ªç„¶æµé‡çš„ä¾†æºæ˜¯ä¾†è‡ªå“ªäº›åœ°æ–¹ å®šæœŸæäº¤ sitemap å¹«åŠ©ç¶²å€è¢«æ”¶éŒ„ï¼Œæˆ–æ˜¯ç§»é™¤æƒ³æ‹¿æ‰çš„ç¶²å€ï¼ˆsitemap è¨˜å¾—ä¹Ÿè¦åŒæ­¥æ‹¿æ‰) ç¢ºèªç¶²ç«™é‚„æœ‰å“ªä¸€äº›å¾…æ”¹é€²çš„é«”é©—  å®‰è£ Google Analytics  ç™»å…¥ä½ è¦ä½¿ç”¨ GA çš„ Google å¸³è™Ÿ é€²åˆ° https://analytics.google.com/ å¡«å¯«å¸³æˆ¶åç¨±ï¼Œè³‡æ–™å…±ç”¨è¨­å®šé€™éƒ¨åˆ†å¯ä»¥è‡ªè¡Œåˆ¤æ–· å¡«å¯«è³‡æºåç¨± å¡«å¯«å•†å®¶è³‡è¨Š æ¥å— Google Analytics(åˆ†æ)æœå‹™æ¢æ¬¾åˆç´„ é¸æ“‡å¹³å°(æˆ‘æ˜¯éƒ¨è½æ ¼æ‰€ä»¥é¸ç¶²é ) å¡«å¯«ç¶²ç«™ä¸²æµç¶²å€è·Ÿåç¨± æœƒå¾—åˆ°ä¸€å€‹è©•ä¼° ID G-xxxxxxxx (èˆŠç‰ˆç‚ºUAé–‹é ­) æŠŠè©•ä¼° ID è²¼åˆ° config æª”æ¡ˆå³å¯  GA4 å°‡è·¨è£ç½®çš„ä½¿ç”¨è€…è¡Œç‚ºä¸²æ¥èµ·ä¾†ï¼Œç›¸è¼ƒéå»è‘—é‡åœ¨åœç•™æ™‚é–“ã€é æ•¸ï¼Œæ”¹ä»¥äº‹ä»¶ç‚ºæ ¸å¿ƒçš„åˆ†æä¸»é«”ï¼Œå°æ–¼æ•¸æ“šçš„è§£è®€æ–¹ä¾¿è¨±å¤š\nä½¿ç”¨ GA4 çš„å³æ™‚å ±è¡¨ç¢ºèªè³‡æ–™æ˜¯å¦å·²é–‹å§‹å‚³å…¥\næˆ–é€éGTM/GA debuggerå¥—ä»¶ç¢ºèªæ˜¯å¦æœ‰åæ‡‰\nok çœ‹èµ·ä¾†æˆåŠŸå›‰ï¼è¨˜å¾—ä¹Ÿæª¢æŸ¥ä¸€ä¸‹ 404 é é¢æœ‰ç„¡åæ‡‰å”·ï¼\nå®‰è£ Google search console  å»ºè­°ä½¿ç”¨è·Ÿ GA ä¸€æ¨£çš„ Google å¸³è™Ÿ é€²åˆ° https://search.google.com/search-console/welcome é¸å–è³‡æºé¡å‹ï¼Œè‹¥è·Ÿæˆ‘ä¸€æ¨£æ˜¯ä½¿ç”¨ GitHub pages æœå‹™é¸å³é‚Š å¡«å¯«ç¶²å€ é©—è­‰æ–¹æ³•å¾ˆå¤šï¼Œå› ç‚ºå‰›å‰›å·²ç¶“å®‰è£å¥½ GAï¼Œå¸³è™Ÿæœ‰ç·¨è¼¯æ¬Šï¼Œç›´æ¥é»ç¬¬ 3 ç¨®çš„ GA é©—è­‰æŒ‰éˆ•  ok é€²åˆ°äº†è³‡æºé é¢äº†ï¼ä¸€èˆ¬ä¾†èªªæœƒéœ€è¦ç­‰å€‹ 1 å¤©æ™‚é–“è·‘è³‡æ–™\nåœ¨ç¶²ç«™æ ¹ç›®éŒ„ä¸‹å»ºç«‹ robots.txt æŠŠ robots.txt æ”¾åœ¨ç¶²ç«™ä¸‹çš„æ ¹ç›®éŒ„ï¼Œä½¿ç”¨hexoæ”¾åœ¨sourceè³‡æ–™å¤¾ä¸‹å³å¯\nä¸‹æ–¹æ˜¯ä¸€å€‹å¸¸è¦‹çš„ç¯„ä¾‹ï¼Œç¶²å€å¡«å…¥è‡ªå·±çš„ç‰ˆæœ¬\n1 2 3  User-agent: * Allow: / Sitemap: https://bacnotes.github.io/sitemap.xml   ï¼ŠGoogle æ”¯æ´æ‰€æœ‰æ ¼å¼çš„æ¨™æº– Sitemap é€šè¨Šå”å®šï¼Œä½†ç›®å‰ä¸æ”¯æ´åœ¨ Sitemap ä¸­ä½¿ç”¨  å±¬æ€§\nåˆ° Google Search Console æäº¤ sitemap ç”Ÿæˆéœæ…‹ç¶²é çš„æ™‚å€™æœƒè‡ªå‹•ç”¢å‡º sitemap æª”æ¡ˆ\nç¶²å€æ˜¯\u0026lt;ä½ çš„ç¶²ç«™å\u0026gt;/sitemap.xml e.g. https://bacnotes.github.io/sitemap.xml\næäº¤ä½ç½®åœ¨ Google Search Console ç´¢å¼•å€å¡Šçš„ Sitemap\nè¼¸å…¥ä½ çš„ sitemap ç¶²å€å³å¯ï¼Œä¸€èˆ¬æ˜¯ sitemap.xml\nä½¿ç”¨ Google Search Console çš„ã€Œè¦æ±‚å»ºç«‹ç´¢å¼•ã€ ç™¼å¸ƒæ–‡ç« å¾Œï¼Œæœƒå¸Œæœ›å¯ä»¥ç›¡æ—©è¢«çˆ¬èŸ²çˆ¬å–å»ºç«‹ç´¢å¼•ï¼Œhexoå¹³å°æœƒè‡ªå‹•ç”Ÿæˆsitemap æª”ï¼Œå¾ˆæ–¹ä¾¿æ“ä½œæ›´æ–°sitemapï¼Œä½†å…¬å¸çš„è¡ŒéŠ·äººå“¡ï¼Œå¯èƒ½ä¸ä¸€å®šå¯ä»¥è¿…é€Ÿå–å¾—å·¥ç¨‹å¸«çš„å³æ™‚å”åŠ©\né€™æ™‚å€™å¯ä»¥é» Google Search Console ä¸Šæ–¹çš„è¼¸å…¥æ¡†ï¼Œè¼¸å…¥æ–‡ç« ç¶²å€ï¼ŒæŒ‰ä¸‹ enterå°±å¯ä»¥å»ºç«‹æ’ç¨‹è«‹çˆ¬èŸ²ä¾†çœ‹çœ‹é€™å€‹ç¶²å€\n(ä¹Ÿå¯ä»¥é»å´é‚Šæ¬„æˆæ•ˆä¸‹æ–¹çš„ç¶²å€å¯©æŸ¥ï¼Œä¹Ÿæœƒ focus åˆ°é€™å€‹æ¡†æ¡†)\nç­‰å¾…ä¸€æ®µæ™‚é–“è·‘å‡ºçµæœ\né»ä¸‹æ–¹çš„ã€Œè¦æ±‚å»ºç«‹ç´¢å¼•ã€ï¼Œå°±æœƒè·Ÿ Google æäº¤å»ºç«‹ç´¢å¼•çš„è¦æ±‚ä¸”é€²å…¥æ’ç¨‹ï¼Œçˆ¬èŸ²å°±æœƒä¾ç…§æ’ç¨‹ä¾†çœ‹ä½ å‰›å‰›æäº¤çš„ç¶²å€äº†\nè·Ÿ Google æäº¤ Sitemap å®Œä¹‹å¾Œï¼Œå…¶ä»–çš„æœå°‹å¼•æ“ä¹Ÿéœ€è¦å—ï¼Ÿ æˆ‘å€‘ç”¨Statcounterçœ‹çœ‹ç›®å‰æœå°‹å¼•æ“å„å®¶çš„å¸‚ä½”ç‡\nStatcounter æ˜¯ä¸€å€‹ç¶²ç«™æµé‡åˆ†æå·¥å…·ï¼Œä¸»è¦æä¾›ç¶²é ç€è¦½å™¨è·Ÿæœå°‹å¼•æ“çš„ä½¿ç”¨åˆ†ä½ˆçš„è¨Šæ¯\nä»¥ä¸‹æ˜¯ä¸Šå€‹æœˆå„å®¶æœå°‹å¼•æ“å…¨çƒå¸‚å ç‡ï¼ŒGoogle æœ‰ 91.4%çš„å¸‚ä½”ç‡ï¼Œè€Œå…¶ä»–å®¶(bing, Baidu, Yahoo!)å¸‚å ç‡å¤§ç´„éƒ½åœ¨å€‹ä½æ•¸\nç”±æ–¼æˆ‘å€‘çš„ä½¿ç”¨è€…ä¸»è¦æ˜¯åœ¨å°ç£ï¼ŒæŠŠæ¢ä»¶è¨­å®šæˆå°ç£\nGoogle é‚„æ˜¯ä¸€æ¨£å¸‚å ç‡æœ€é«˜ï¼Œä¸”æ¯”å‰›å‰›å…¨çƒæ•¸æ“šçš„å¸‚ä½”ç‡é‚„é«˜ï¼Œç‚º 9 æˆ 4\nçœ‹èµ·ä¾†æˆ‘å€‘ä¹‹å¾Œ SEO é‚„æ˜¯å°ˆå¿ƒæ–¼ Googleï¼Œç•¢ç«Ÿå°ç£å¤§éƒ¨åˆ†çš„ä½¿ç”¨è€…éƒ½ä½¿ç”¨ Google æœå°‹\næœ€å¾Œï¼Œçˆ¬èŸ²å¤§å¤§å¿«ä¾†æˆ‘å®¶å§\n","date":"2021-12-28T00:00:00+08:00","image":"https://bacnotes.github.io/p/google-seo-tools/myriam-jessier-VCtI-0qlVgA-unsplash_hu4b44d326edd3135b9f13e80e90e771b0_550794_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/google-seo-tools/","title":"å®‰è£SEOåˆ†æå·¥å…·Google Analyticsè·ŸGoogle Search Consoleï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"é—œæ–¼éƒ¨ç½²çš„å·¥å…·æœ‰å¾ˆå¤šï¼Œèº«ç‚ºå·¥ç¨‹å¸«çš„ä½ ä¸€å®šè½éGitHub!\nç‚ºä»€éº¼ç”¨GitHubéƒ¨ç½²  å› ç‚ºå…è²»(o) å› ç‚ºç”¨èµ·ä¾†å¾ˆè¦ªåˆ‡ï¼Œç°¡å–®åˆæ–¹ä¾¿(o) å› ç‚ºéƒ¨ç½²åˆ°ç”Ÿæ•ˆçš„éç¨‹å¾ˆå¿«é€Ÿ(o) å› ç‚ºéƒ¨è½æ ¼å¾Œé¢æœ‰GitHubåŸŸåå¾ˆæ½®(x)  GitHub Pagesæ˜¯GitHubæä¾›çš„å…è²»éœæ…‹ç¶²é è¨—ç®¡æœå‹™\né›–ç„¶æ˜¯å…è²»ï¼Œä¸éç”¨èµ·ä¾†é«”é©—ä¹Ÿå¾ˆå¥½\né‚£SEOè¡¨ç¾å‘¢? é€™æ™‚å€™å¯ä»¥ç”¨ahrefså¿«é€Ÿç¢ºèªä¸€ä¸‹\nGitHubåœ¨ç¶²ç«™æ¬Šé‡è·Ÿå¤–éƒ¨é€£çµæ•¸éƒ½æœ‰å¾ˆå¥½çš„è¡¨ç¾\næ‹¿mediumä¾†ç•¶å°æ‰‹çš„è©±å‘¢\nGitHub åŠ ååˆ† ğŸ™Œ\nè·Ÿå¦ä¸€å€‹ä¹Ÿæ˜¯å¾ˆå¸¸æ‹¿ä¾†å»ºç«‹éƒ¨è½æ ¼çš„å¹³å°ï¼Œä¸”SEOå®¢è£½åŒ–ç¨‹åº¦è¼ƒé«˜çš„wordpressç›¸æ¯”å‘¢ GitHub å†åŠ ååˆ† ğŸ™Œ\nçœ‹èµ·ä¾†æ˜¯ä¸éŒ¯çš„é¸æ“‡å”·ï¼é‚£éº¼ä¾†å¯¦ä½œçœ‹çœ‹å§ï¼\nGitHub Pageséƒ¨ç½²éœæ…‹ç¶²é  GitHub Pagesæœ‰å…©ç¨®\n å°ˆæ¡ˆå‹ç¶²å€ https://username.github.io/reponame\nï¼ˆä¸€å€‹å¸³è™Ÿå¯ä»¥æœ‰å¾ˆå¤šå€‹repoå°ˆæ¡ˆï¼Œæ¯å€‹å°ˆæ¡ˆéƒ½å¯ä»¥æœ‰ä¸€å€‹éœæ…‹ç¶²é ï¼‰ å¸³è™Ÿå‹ç¶²å€ https://username.github.io\nï¼ˆä¸€å€‹ä½¿ç”¨è€…å¸³è™Ÿåªæœƒæœ‰ä¸€å€‹ï¼Œå¯ä»¥æ‹¿ä¾†ç¶“ç‡Ÿå€‹äººç¶²ç«™ï¼‰  å°ˆæ¡ˆå‹ç¶²å€é©åˆæŠŠHugoé€™å€‹éƒ¨è½æ ¼å°ˆæ¡ˆï¼Œå‚™ä»½åˆ°GitHubä¸Š(ééƒ¨ç½²)ï¼ŒåŸ·è¡Œæ­¥é©Ÿå¦‚ä¸‹\n æ–°å¢ä¸€å€‹GitHub Repoï¼ŒRepoåè‡ªè¨‚ cdåˆ°å°ˆæ¡ˆè³‡æ–™å¤¾ï¼Œè¼¸å…¥git init git branch -m main git add . git commit -m 'init project' # git msg å…§å®¹å¯è‡ªè¨‚ git remote add origin \u0026lt;è‡ªè¨‚repoç¶²å€\u0026gt;\n#å¦‚æœé›»è…¦åªæœ‰ä½¿ç”¨1çµ„GitHubå¸³è™Ÿï¼Œç›´æ¥è²¼repoç¶²å€\n#å¦‚æœé›»è…¦æœ¬èº«æœ‰å¤šçµ„GitHubå¸³è™Ÿï¼Œç¢ºèª@hostå:gitç¶²å€çµæ§‹æ˜¯å¦æœ‰èª¿æ•´æ­£ç¢ºï¼Œå¯å›åˆ°ä¸Šä¸€ç¯‡ç¢ºèª  é€™æ¨£ä¸€ä¾†é›»è…¦è£¡çš„Hugoå°ˆæ¡ˆä¸è¦‹ä¹Ÿä¸ç”¨æ“”å¿ƒå›‰ï½ä¹‹å¾Œé‚„å¯ä»¥git cloneä¸‹ä¾†\nä½œç‚ºéƒ¨ç½²éƒ¨è½æ ¼æœ¬èº«ä½¿ç”¨ï¼ŒåŸ·è¡Œæ­¥é©Ÿå¦‚ä¸‹\n æ–°å¢ä¸€å€‹GitHub Repoï¼ŒRepoåç‚ºusername.github.io(é ˆå®Œå…¨ç¬¦åˆ) åœ¨å°ˆæ¡ˆè³‡æ–™å¤¾è·¯å¾‘ä¸‹è¼¸å…¥ hugoï¼Œæœƒç”Ÿæˆéœæ…‹é é¢æª”æ¡ˆæ–¼publicè³‡æ–™å¤¾ cd public git init git branch -m main git add . git config --local user.name aaa #ä¸éœ€è¦å¤šçµ„å¸³è™Ÿç®¡ç†å¯è·³é git config --local user.email aaa@email.com #ä¸éœ€è¦å¤šçµ„å¸³è™Ÿç®¡ç†å¯è·³é git commit -m 'deploy' # git msg å…§å®¹å¯è‡ªè¨‚ git remote add origin \u0026lt;repoç¶²å€\u0026gt;\n#æ³¨æ„äº‹é …åŒå°ˆæ¡ˆå‹ç¶²å€ git push -f --set-upstream origin main # å¼·åˆ¶è¦†è“‹ä¹‹å‰çš„ç´€éŒ„  å¥½çš„ï¼Œè‹¥ä¾ç…§é †åºæœ‰åŸ·è¡ŒæˆåŠŸï¼Œå¯ä»¥é–‹å§‹å¯«è…³æœ¬æª”æ¡ˆäº†!\nè‡ªå‹•åŒ–éƒ¨å±¬è…³æœ¬deploy.sh  åœ¨å°ˆæ¡ˆè³‡æ–™å¤¾çš„æ ¹ç›®éŒ„å»ºç«‹deploy.shæª”ï¼Œè²¼ä¸Šä¸‹æ–¹æ–‡å­— repoç¶²å€è¨˜å¾—æ›¿æ›æˆè‡ªå·±çš„ï¼Œoptionä¾ç…§è‡ªå·±ç‹€æ³èª¿æ•´å³å¯  1 2 3 4 5 6 7 8 9 10 11 12 13  hugo cd public git init git branch -m main git add . git config --local user.name aaa #ä¸éœ€è¦å¤šçµ„å¸³è™Ÿç®¡ç†å¯è·³é git config --local user.email aaa@email.com #ä¸éœ€è¦å¤šçµ„å¸³è™Ÿç®¡ç†å¯è·³é git commit -m \u0026#39;deploy\u0026#39; git remote add origin \u0026lt;repoç¶²å€\u0026gt; # if you have .ssh/config setting, remember to replace with right structure git push -f -u origin main cd -   åƒè€ƒæ–‡ç« : éƒ¨ç½²Hugoå€‹äººç¶²é è‡³GitHub\n","date":"2021-12-26T00:00:00Z","image":"https://bacnotes.github.io/p/github-deploy-hugo/mohammad-rahmani-q1p2DrLBtko-unsplash_hu34ce0191b88a37780da4e3c1a288bda4_3436174_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/github-deploy-hugo/","title":"åªè¦3ç§’ï¼Œä½¿ç”¨GitHubä¸€éµéƒ¨ç½²ä½ çš„Hugoéƒ¨è½æ ¼ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"Um\u0026hellip;åœ¨éƒ¨ç½²å‰å¡åˆ°äº† Github å¤šçµ„å¸³è™Ÿæ¬Šé™çš„å•é¡Œ\nå¦‚æœä½ çš„é›»è…¦åªæœ‰ä½¿ç”¨ 1 çµ„ GitHub å¸³è™Ÿï¼Œå¯ä»¥é»ä¸‹æ–¹é€£çµç›´æ¥åˆ°ä¸‹ä¸€ç¯‡\nåªè¦ 3 ç§’ï¼Œä½¿ç”¨ GitHub ä¸€éµéƒ¨ç½²ä½ çš„ Hugo éƒ¨è½æ ¼\nç‚ºä»€éº¼è¦ç”¨ä¸€å°é›»è…¦ä½¿ç”¨å¤šçµ„ GitHub å¸³è™Ÿ ç•¶é è·å·¥ä½œè®Šæˆæ™‚ä»£è¶¨å‹¢ï¼Œå·¥ä½œæ™‚å‹¢å¿…æœƒæœ‰ 1 çµ„å…¬å¸ç”¨çš„ GitHub å¸³è™Ÿ(æˆ– GitLab æˆ–â€¦å…¶ä»–çš„é›²ç«¯å”ä½œå¹³å°)ï¼Œä½†è‡ªå·±åœ¨å¯« side project ä¹Ÿæœƒç”¨åˆ° 1 çµ„ GitHub å¸³è™Ÿï¼Œé‚£éº¼è¾¦ç¬¬ 2 çµ„ GitHub å¸³è™Ÿå°±å¥½äº†å§ï¼ˆå°±è·Ÿ google å¸³è™Ÿä¸€æ¨£ï¼Ÿ\nä½†ä½ åœ¨ GitHub çš„æ–°å¸³è™Ÿé–‹äº†ä¸€å€‹ Repoï¼Œåœ¨ç·¨è¼¯å™¨çš„ terminal ä¾åºè¼¸å…¥ä¸‹æ–¹æŒ‡ä»¤\n1 2 3 4 5 6  git init git add . git commit -m \u0026#39;some msg\u0026#39; git branch -M main git remote add origin \u0026#39;your repo\u0026#39; git push -u origin main   å°±æœƒç™¼ç¾åœ¨æœ€å¾Œä¸€æ­¥è·³å‡ºé€™å€‹è¨Šæ¯\n ERROR: Permission to userB/repo.git denied to userA fatal: ç„¡æ³•è®€å–é ç«¯ç‰ˆæœ¬åº«ã€‚\n è¦ commit çš„æ™‚å€™ï¼Œè¢«æœ€åˆè¨»å†Šçš„ userA å¸³è™Ÿ deny\nUm\u0026hellip;å•Šï¼\nä¹‹å‰çš„å¸³è™Ÿæœ‰è¨­å®šä¸€çµ„å°æ‡‰çš„ SSH key è®“ GitHub é©—è­‰èº«ä»½ï¼Œæ‡‰è©²æ˜¯ SSH key çš„å•é¡Œå§ï¼Ÿ æœ‰ 2 çµ„å¸³è™Ÿï¼Œç”Ÿ 2 çµ„ key æ‡‰è©²å°±æ²’å•é¡Œäº†å§ï¼æ¬¸ä¸å°ï¼Œæˆ‘çš„ terminal åœ¨ git push çš„æ™‚å€™ï¼Œæ€éº¼çŸ¥é“å“ªçµ„å¸³è™Ÿå°æ‡‰å“ªå€‹ SSH keyâ€¦\nä¸Šç¶²æŸ¥äº†ä¸€ä¸‹ç›¸é—œæ–‡ç« ï¼Œç™¼ç¾å¯ä»¥å¯«ä¸€å€‹ config ä¾†è®“ä¸åŒå¸³è™Ÿå°æ‡‰å„è‡ªçš„ key\nç®¡ç†å¤šçµ„ SSH key æµç¨‹å¦‚ä¸‹ aaa ç‚ºç¯„ä¾‹ï¼Œå¯è‡ªç”±ä»£å…¥ä½ çš„å¸³è™Ÿ\n ç”¢ç”Ÿ SSH key ssh-keygen -t rsa -C \u0026quot;aaa@example.com\u0026quot; æ±ºå®šè¦å„²å­˜çš„æª”å(è·¯å¾‘) åœ¨ Enter file in which to save the key (/Users/XXX/.ssh/id_rsa):\nå¾Œæ–¹å¡«å…¥ /Users/aaa/.ssh/id_rsa_aaa\n*å¦‚æœæ²’æœ‰æ–°çš„å‘½åï¼Œå°±æœƒè¦†è“‹åŸæœ¬çš„ id_rsa Enter passphrase(çœ‹å€‹äººï¼Œå¯ä»¥ç›´æ¥ enter ä¸è¨­å®šå¯†ç¢¼) Enter same passphrase again(å¦‚æœæœ‰è¨­å®šè¦å†è¼¸å…¥ä¸€æ¬¡ï¼Œæ²’æœ‰å°±ç›´æ¥ enter) æŠŠå°æ‡‰çš„å…¬é‘°(id_rsa_aaa.pub è£¡é¢çš„æ–‡å­—)æ–°å¢åˆ° GitHub çš„ SSH keyï¼Œå®˜æ–¹åœ–æ–‡æ•™å­¸ åœ¨.ssh ç›®éŒ„ä¸‹ï¼Œtouch ä¸€å€‹ config(ä¸ç”¨å‰¯æª”å)  1 2 3 4 5  Host gh.aaa HostName github.com User aaa PreferredAuthentications publickey IdentityFile ~/.ssh/id_rsa_aaa   æŠŠ key åŠ å…¥ç®¡ç† ssh-add ~/.ssh/id_rsa_aaa å˜—è©¦é€£ç·šçœ‹çœ‹å°æ‡‰ host æ˜¯å¦æœ‰ç”Ÿæ•ˆssh -T git@gh.aaa  Hi aaa! You\u0026rsquo;ve successfully authenticated, but GitHub does not provide shell access.\n   çœ‹åˆ°ä¸Šæ–¹è¨Šæ¯è¡¨ç¤ºæœ‰æˆåŠŸé€£ç·šå›‰ï¼\nç¬¬ 2 å€‹å¸³è™Ÿç…§è‘—ä¸Šæ–¹æ­¥é©Ÿå¯«åœ¨åŒå€‹ config æª”æ¡ˆå³å¯\n1 2 3 4 5 6 7 8 9 10 11  Host gh.aaa HostName github.com User aaa PreferredAuthentications publickey IdentityFile ~/.ssh/id_rsa_aaa Host gh.bbb HostName github.com User bbb PreferredAuthentications publickey IdentityFile ~/.ssh/id_rsa_bbb   æ³¨æ„ï¼šç¶“éä¸Šé¢çš„è¨­å®šæª”å¾Œï¼Œrepo çš„ä½ç½®æœƒå¾é å®šçš„ git@github.com:ooo/ooo.git è®Šæˆ git@gh.aaa:ooo/ooo.git\nå¾ŒçºŒåœ¨æ–°å¢ repo é€£çµæ™‚éœ€æ³¨æ„ï¼Œä¸ç„¶å¯èƒ½åƒä¸åˆ° config è¨­å®šæª”å”·\nåƒè€ƒæ–‡ç« : [Git] å¤šå€‹ SSH Key èˆ‡å¸³è™Ÿçš„è¨­å®š(Mac)\n","date":"2021-12-25T00:00:00Z","image":"https://bacnotes.github.io/p/github-ssh-key/maria-ziegler-jJnZg7vBfMs-unsplash_hu3d03a01dcc18bc5be0e67db3d8d209a6_39928_120x120_fill_q75_box_smart1.jpeg","permalink":"https://bacnotes.github.io/p/github-ssh-key/","title":"é—œæ–¼SSH keyèˆ‡å¤šçµ„GitHubå¸³è™Ÿåˆ‡æ›ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"ç‚ºä»€éº¼å·¥ç¨‹å¸«è¦å¯«éƒ¨è½æ ¼ èº«ç‚ºä¸€å€‹å°ˆæ¥­çš„å·¥ç¨‹å¸«ï¼Œä½ ä¹Ÿè¨±æœƒéœ€è¦\n ä¸€å°ç­†é›»(o) æŒçºŒå­¸ç¿’(o) è·Ÿå®¹é‡å¤§çš„è…¦è¢‹ä¾†å‚™ä»½çŸ¥è­˜(x)  Um\u0026hellip;å·¥ç¨‹å¸«çš„ä¸–ç•Œæ°¸é æœ‰è¿½ä¸å®Œçš„æŠ€è¡“ï¼Œè‡ªçŸ¥è…¦å®¹é‡æ²’æœ‰é€™éº¼å¤§ï¼Œè¨˜éŒ„æˆéƒ¨è½æ ¼æ–‡å­—ä¾†æ¯”è¼ƒå¯é ï¼Œè€Œä¸”\n å¯«æˆéƒ¨è½æ ¼ä¹Ÿæœ‰æ©Ÿæœƒè·Ÿåˆ¥äººäº¤æµï¼Œä¹Ÿè¨±é‚„æœƒæœ‰é«˜æ‰‹å¯ä»¥åˆ‡ç£‹(!\n éƒ¨è½æ ¼æ¶ç«™é¸æ“‡ - Jekyll, Hexo, Hugo, Gatsby é™¤äº† hugo å¤–é‚„æœ‰å¾ˆå¤šäººæ°£çš„éœæ…‹ç¶²ç«™ç”Ÿæˆå™¨ Jekyll (Ruby) / Hexo (JavaScript) / Gatsby (React)ç­‰ï¼Œä¹Ÿæœ‰å¾ˆå¤šæ¯”è¼ƒæ–‡\n [Day06] Jekyll vs Hexo vs Hugo Hexo Hugo Vuepress Gatsby é™æ€ç½‘ç«™ç”Ÿæˆå™¨çš„é€‰æ‹©  Hugoè™Ÿç¨±éƒ¨å±¬æœ€å¿«çš„æ¡†æ¶ï¼Œç”¨ Go èªè¨€å¯«çš„ï¼Œä¹Ÿè¨±æœªä¾†æœ‰æ™‚é–“æœƒæƒ³å­¸å­¸çœ‹é€™å€‹ google å·¥ç¨‹å¸«åœ˜éšŠé–‹ç™¼çš„èªè¨€ï¼Œè€Œä¸”æ™‚é–“å°±æ˜¯é‡‘éŒ¢å•Šï¼å°±å…ˆé¸ç”¨é€™å€‹äº†ï¼\nå®‰è£ Hugo å¦‚æœæ˜¯ç”¨ Macï¼Œç›´æ¥ homebrew ä¸‹è¼‰  å¦‚æœæ²’ç”¨é homebrew å¥—ä»¶ç®¡ç†è»Ÿé«”å¯ä»¥å…ˆä¸‹è¼‰homebrew brew install hugo ç”¨ hugo version or hugo help ä¾†æª¢æŸ¥æ˜¯å¦æœ‰æ–°å¢æˆåŠŸ  å¦‚æœæ˜¯ç”¨ Windowsï¼Œå¯ä»¥ä½¿ç”¨ Chocolatey ä¸‹è¼‰   æ²’ç”¨é ChocoLatey å¥—ä»¶ç®¡ç†å·¥å…·çš„è©±ï¼Œå¯ä»¥å…ˆåƒè€ƒé€™ç¯‡å®‰è£èªªæ˜\nç”¨æŒ‡ä»¤å®‰è£ç¨‹å¼\u0026ndash;Chocolatey\n  ä¸‹è¼‰å®Œå¾Œä¾†å®‰è£ Hugo\n  åŸºç¤ç‰ˆæ˜¯choco install hugo -confirm\n  Sass/SCSS version æ˜¯ choco install hugo-extended -confirm\n  çœ‹ä¹‹å¾Œéƒ¨è½æ ¼é¸æ“‡çš„ä¸»é¡Œï¼Œæœƒä½¿ç”¨åˆ° Sass/SCSS èªæ³•çš„å°±é¸å¾Œè€…\n ä¾ç…§å®˜æ–¹å½±ç‰‡èªªæ˜ï¼Œåœ¨ C:\\ä¸‹æ–¹æ–°å¢ Hugo è³‡æ–™å¤¾    Hugo è³‡æ–™å¤¾ä¸‹æ–°å¢ Sites è·Ÿ bin è³‡æ–™å¤¾(Sites æ˜¯å°ˆæ¡ˆè³‡æ–™å¤¾ï¼Œbin æ˜¯å„²å­˜åŸ·è¡Œæª”æ¡ˆç”¨) åˆ°Hugo Releases ä¸‹è¼‰å®‰è£æª”ï¼Œè§£å£“ç¸®å®Œçš„æª”æ¡ˆä¸Ÿåˆ° bin è³‡æ–™å¤¾ æ–°å¢ window é–‹ç™¼ç’°å¢ƒè®Šæ•¸ï¼Œåœ¨è®Šæ•¸ PATH ä¸‹æ–°å¢ä¸€å€‹å€¼å«C:\\Hugo\\binï¼Œè®“å…¨åŸŸéƒ½å¯ä»¥åŸ·è¡Œ hugo å‘½ä»¤ åˆ°å…¶ä»–è³‡æ–™å¤¾ç”¨ hugo version or hugo help ä¾†æª¢æŸ¥æ˜¯å¦æœ‰æ–°å¢æˆåŠŸ  æ–°å¢ç¶²ç«™çš„å°ˆæ¡ˆè³‡æ–™å¤¾ ï¼Šä»¥ä¸‹ç”¨example.comç‚ºéƒ¨è½æ ¼ç¶²å€ä½œç‚ºç¯„ä¾‹ï¼Œé€™é‚Šæ ¹æ“šè‡ªå·±çš„ç¶²ç«™ååšä¿®æ”¹å³å¯(mac è·Ÿ windows æµç¨‹å¤§åŒå°ç•°)\n window çš„ä½¿ç”¨è€… cd åˆ°C:\\Hugo\\Sites\u0026gt;ï¼Œmac çš„ä½¿ç”¨è€… cd åˆ°ä½ è¨­å®šçš„å°ˆæ¡ˆè³‡æ–™å¤¾ åŸ·è¡Œhugo new site example.com  é¸æ“‡èˆ‡å®‰è£å–œæ­¡çš„ä¸»é¡Œ  åˆ°Hugo Themesæ‰¾å–œæ­¡çš„ä¸»é¡Œ æˆ‘é¸ç”¨çš„æ˜¯ hugo-theme-stack \u0026ndash; git cloneä½ å–œæ­¡çš„ä¸»é¡Œåˆ°themeè³‡æ–™å¤¾\n\u0026ndash; ä¸€é–‹å§‹æˆ‘å€‘çš„éƒ¨è½æ ¼è£¡é¢æ²’æœ‰å…§å®¹ï¼Œhugo-theme-stack æœ‰æä¾›ç¯„ä¾‹ï¼ŒexampleSiteè³‡æ–™å¤¾ï¼Œæˆ‘å€‘ç”¨é€™å€‹ä¾†è¦†è“‹å°ˆæ¡ˆè³‡æ–™å¤¾çœ‹çœ‹å¯¦éš›éƒ¨è½æ ¼æ•ˆæœ \u0026ndash; åœ¨ example.com ç¶²ç«™è³‡æ–™å¤¾ä¸‹åŸ·è¡Œ hugo server\n\u0026ndash; ç¶²å€åˆ—æŸ¥çœ‹http://localhost:1313  å“‡çœŸçš„å‡ºç¾äº†!å¥½æ„Ÿäººå•Šï¼ ç¾åœ¨åªæœ‰è‡ªå·±å¯ä»¥çœ‹åˆ°ï¼Œä¸‹ä¸€ç¯‡æœƒä»‹ç´¹å¦‚ä½•ä½¿ç”¨ GitHub ä¾†éƒ¨ç½²æˆ‘å€‘çš„éƒ¨è½æ ¼\nåªè¦ 3 ç§’ï¼Œä½¿ç”¨ GitHub ä¸€éµéƒ¨ç½²ä½ çš„ Hugo éƒ¨è½æ ¼\nåƒè€ƒæ–‡ç« : [Day07] Let\u0026rsquo;s Hugo!\n","date":"2021-12-23T00:00:00Z","image":"https://bacnotes.github.io/p/hugo-blog/helena-hertz-wWZzXlDpMog-unsplash_hu45a5e3ad5e058da6a00650ed8fd40bea_15530_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/hugo-blog/","title":"å·¥ç¨‹å¸«çš„æŠ€è¡“éƒ¨è½æ ¼è¦æ€éº¼æ¶ï¼Ÿä½¿ç”¨Hugo!ï½œbacnoteså‚™ä»½ç­†è¨˜"}]