[{"content":"2016 å¹´åœ¨ä¸Šæµ·æŸå€‹æ›¸åº—è²·çš„ä¸€æœ¬æ›¸ï¼Œç•¶æ™‚éš¨æ‰‹ç­†è¨˜ä¸‹çš„æ±è¥¿\nå›°å¢ƒ  æ™‚é–“ä¸å¤ /æ‹–å»¶ç—‡/éŒ¯èª¤ä¼°ç®—æ™‚é–“/éç¨‹é‡åˆ°éº»ç…©  é†’æ‚Ÿ  æ“ºè„«è‡ªå·±çš„å±€é™éœ€è¦å¿ƒæ™ºçš„åŠ›é‡  1 2 3 4 5 6 7  åˆ¥äººçŸ¥é“çš„ ^ | | -----------\u0026gt; è‡ªå·±çŸ¥é“çš„ | |    æ§åˆ¶è‡ªå·±çš„è¡Œç‚º(ä¸åƒ…æ˜¯å°å¤–åœ¨è¢«å‹•åšå‡ºåæ‡‰)  ç¾å¯¦  æˆ’èºæˆ’é©•/ç„¡é€Ÿæˆ/ç¾ç‹€ç„¡æ³•é¦¬ä¸Šæ“ºè„« åªèƒ½ä»¥ç¾æœ‰è³‡æºäº¤æ›æƒ³è¦è·Ÿéœ€è¦ ä»˜å‡ºæ‰æœ‰æ”¶ç©«/æŒçºŒç©ç´¯çš„æ±è¥¿ æ²’æœ‰å®Œç¾/æœªçŸ¥æ°¸é å­˜åœ¨ å¿«æ¨‚æ˜¯ç¨®æœ¬äº‹(çŸ¥è¶³)  ç®¡ç†  ä¼°ç®—æ™‚é–“/å³æ™‚è¡Œå‹•/é¢å°å›°é›£æ‰¾å‡ºè·¯ å»ºç«‹ SOP/åˆ†è§£ä»»å‹™(å¯å®Œæˆäº‹é …)/æ‰¾å‡ºæ–¹æ³• å¤šå·¥ä½œæ¥­èƒ½åŠ›/å„ªåŒ–å·¥ç¨‹é †åºï¼ˆé æ¸¬è·Ÿé©—æ”¶å“è³ª) æ„ŸçŸ¥æ™‚é–“(ä¸€é …ä½œæ¥­éœ€è¦èŠ±è²»çš„æ™‚é–“) è¨˜éŒ„è‡ªå·±çš„æ˜¨å¤©å‰å¤©å¤§å‰å¤©ä¸Šé€±ä¸Šæœˆå»å¹´çš„æ™‚é–“é–‹éŠ· åˆ¶å®šæœªä¾†çš„çŸ­é•·æœŸè¨ˆç•«ä¸¦æŒçºŒä¿®æ­£ ç°¡å–®çš„ä»»å‹™åªéœ€è¦è¡Œå‹• e.g. é‹å‹•å”¸æ›¸ ç¿’æ…£è£½ä½œæ¸…å–®æ–¹ä¾¿æª¢è¦–  å­¸ç¿’  è·ŸéŠæˆ²çš„æŠ€èƒ½æ¨¹ä¸€æ¨£ï¼Œæ˜¯é–‹æ‹“å¿ƒæ™ºçš„æ–¹æ³•  å¯¦è¸æ‡‰ç”¨  äº”æ„Ÿé«”é©—/è©¦éŒ¯ é–±è®€(ä»–äººç¶“é©—) æ­£ç¢ºæ€è€ƒ(é‚è¼¯/ç§‘å­¸) è‡ªå­¸èƒ½åŠ›(ç†è«–åˆ°èæœƒè²«é€š) ä¿æŒé–‹æ”¾å¿ƒæ…‹  æ€è€ƒ  å‹¤æ–¼æª¢è¦–ç›®æ¨™è·Ÿå¯¦éš›æ„ç¾© ä¸è¿·ä¿¡æ¬Šå¨ é‡æ¸…æ¦‚å¿µ/ä¸éåº¦ç°¡åŒ–/ä¸è‰ç‡æ¦‚æ‹¬æˆ–å€‰ä¿ƒçµè«– èª°ä¸»å¼µèª°èˆ‰è­‰ æ¡ˆä¾‹ä¾·é™(å€–å­˜è€…åå·®) å°å¿ƒäººäº‘äº¦äº‘å¼µå† ææˆ´(ç©å°„æ“ŠéŠæˆ²å¼•ç™¼æ ¡åœ’æ§æ®º) å…‹æœææ‡¼ å¥å‹æ€ç¶­è¨“ç·´(\u0026hellip;æ˜¯;\u0026hellip;æ˜¯å¦ä¸€å€‹\u0026hellip;/\u0026hellip;çš„å‰ææ˜¯/äº‹å¯¦ä¸Š\u0026hellip;)  äº¤æµ  è¨è«–å¤§æ–¼çˆ­è¾¯/æ­£ç¢ºè¤‡è¿°/å‹¤æ–¼åæ€  ç›®å‰æœ‰é›»å­æ›¸ç‰ˆæœ¬  æŠŠæ™‚é–“ç•¶ä½œæœ‹å‹  ","date":"2022-05-02T00:00:00+08:00","image":"https://bacnotes.github.io/p/time-as-a-friend/pexels-janko-ferlic-590493_hu3d03a01dcc18bc5be0e67db3d8d209a6_2715072_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/time-as-a-friend/","title":"æŠŠæ™‚é–“ç•¶ä½œæœ‹å‹ - æç¬‘ä¾†ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"N4 V ãŸæ™‚ or V ã‚‹æ™‚ï¼šå‹•è©æ™‚æ…‹è·Ÿç™¼ç”Ÿé †åºæœ‰é—œ  V ãŸæ™‚(å…ˆ)ã€V ã¾ã™ãƒ»ã¾ã—ãŸ(å¾Œ) V ã‚‹æ™‚(å¾Œ)ã€V ã¾ã™ãƒ»ã¾ã—ãŸ(å…ˆ)  V ãªãŒã‚‰ä¸åŠ ç¬é–“å‹•è©  åº§ã‚ŠãªãŒã‚‰(x)  å¾Œã§ä¸åŠ æŒçºŒè¡Œç‚ºç‹€æ…‹  å¾Œã§ã€ãšã£ã¨å…ƒæ°—ã§ã™(x) å¾Œã€ãšã£ã¨å…ƒæ°—ã§ã™(o)  ã¦ã‹ã‚‰ä¸ç”¨åœ¨å…ˆå¾Œé—œä¿‚æ˜ç¢ºçš„å¥å­  ãƒ‰ã‚¢ã‚’é–‹ã‘ã¦ã‹ã‚‰å¤–ã«å‡ºã‚‹  V ã‚‹ã¨ã“ã‚/V ã¦ã„ã‚‹ã¨ã“ã‚ä¸èƒ½ç”¨åœ¨ç‹€æ…‹æˆ–æ²’æœ‰æ„åœ–çš„å¥å­  V ã‚‹ã¨ã“ã‚ä¸èƒ½ç”¨åœ¨é æ¸¬è¦åšä»€éº¼æœƒæˆç‚ºä»€éº¼æ¨£å­  V ãŸã°ã‹ã‚Šã€€\u0026gt; V ãŸã¨ã“ã‚ èªæ°£æ›´å¼·èª¿æ‰å‰›...  V ãŸã¨ã“ã‚æ¯”è¼ƒæœ‰é¤˜åœ°  é–“ + æŒçºŒå‹•è©/ç¹¼çºŒå‹•è© é–“ã« + ç¬é–“å‹•è© ç–‘å•è© + ã‚ˆã‚Š æœ€é«˜ç´š ã‚ˆã‚Š ä¸€èˆ¬ä¸æ¥å¦å®šå‹ N ã¯ N ã»ã©ã€œã¾ã›ã‚“ V ãŸã‚Š V ãŸã‚Šã—ã¾ã™ æ™®é€šåˆ—èˆ‰(ä¸é©åˆåˆ—èˆ‰å¤ªç‘£ç¢çš„äº‹ç‰©)/é‡è¤‡ç›¸åçš„å‹•ä½œ/è¡¨ç¤ºä¸ä¸€å®š V ãŸã“ã¨ãŒã‚ã‚Šã¾ã™ ç¶“é©— V ã‚‹/V ãªã„ã“ã¨ãŒã‚ã‚Šã¾ã™ã€€ç¿’æ…£ sometimes ã®ã§/ã¦/ã§è¡¨ç¤ºåŸå› ï¼Œå‰å¾Œä¸»èªä¸ä¸€æ¨£ okï¼Œå¾Œé¢ä¸æ¥æ„å¿—ï¼Œè€Œæ˜¯ç‹€æ…‹ ã‹ã‚‰è¡¨ç¤ºåŸå› ï¼Œå‰å¾Œä¸»èªä¸ä¸€æ¨£ okï¼Œå¾Œé¢å¯æ¥æ„å¿—/å‘½ä»¤/ç¦æ­¢ ãªãã¦ è¡¨ç¤ºç†ç”±çš„ä½¿ç”¨ ãªã„ã§è¡¨ç¤ºä»¥ä½•ç¨®ç‹€æ…‹ç™¼ç”Ÿæ™‚ä½¿ç”¨ å€‹äººè‡ªæˆ‘è¾¯è§£ã‹ã‚‰ã§ã™ \u0026hellip;ã—\u0026hellip;ã— åˆ—èˆ‰å¤šé‡ç†ç”±(åŒ…å«é‚„æœ‰å…¶ä»–ç†ç”±çš„æ„æ€)ï¼Œå› æœé—œä¿‚è¼ƒä¸å¯†åˆ‡ ãŸã‚(ã«)ä¸åŠ æ„å¿—æˆ–è«‹æ±‚ï¼Œç”¨æ–¼éåŒå°‹å¸¸äº‹ç‰© ãŒæ›¸é¢ã€€ã‘ã‚Œã©ã‚‚ å£èª ã®ã«æ¥ä¸æ»¿/éé›£/éºæ†¾/æ„å¤–ï¼Œå¾Œé¢ä¸åŠ è«‹æ±‚ ","date":"2022-05-02T00:00:00+08:00","image":"https://bacnotes.github.io/p/japanese-grammar/pexels-tirachard-kumtanom-601174_hu3d03a01dcc18bc5be0e67db3d8d209a6_1117592_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/japanese-grammar/","title":"æ—¥æ–‡æ–‡æ³•å°è¨˜ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"æœ‰äº›è§€å¿µå°æ–¼ç²¾ç°¡æˆ¿é–“å…§æ±è¥¿è·Ÿæ“ºè¨­æ»¿æœ‰å¹«åŠ©ï¼Œæ“·å–æœ‰é—œçš„éƒ¨åˆ†\næ¨æ£„å¤§å®¹é‡æ«ƒå­ï¼‹äº•ç„¶æœ‰åºçš„å®Œç¾æ”¶ç´ç©ºé–“  å› ç‚ºç¾å¯¦ä¸­ç©ºé–“æœ‰å±€é™æ€§ï¼Œä¸è¦å®Œç¾å–å‘  æ•´ç†æ˜¯  æŠŠéœ€è¦çš„æ±è¥¿åµŒå…¥è‡ªå·±æ‰€è¨‚å®šçš„ç§©åºä¸­ ä¸€ç¨®ç®¡ç†æŠ€è¡“(e.g. æ™‚é–“ç®¡ç†) ä»¥æé«˜æ•ˆç‡èƒ½å¤ æ´»ç”¨ç‚ºç›®çš„  è®“æ±è¥¿ä¸€å‡ºæ‰‹å°±èƒ½æ‹¿åˆ°  20ç§’å…§å°±èƒ½æ‹¿åˆ°çš„å¯¦éš›æ•ˆç›Š \u0026gt; å¤–è§€äº•ç„¶ å¾æ·¨ç©ºæ¡Œé¢é–‹å§‹ï¼Œå·¥ä½œçµæŸæ™‚è«‹é‚„åŸ æ±è¥¿åˆ†é¡æ•´é½Šï¼Œè®“è³‡æ–™å¯ä»¥æ´»ç”¨ï¼Œç­†è¨˜åŠ è¨»æ™‚é–“ å°‡æ¡Œå­ç•¶ä½œåˆ¥äººæœƒæ¥è§¸çš„å ´æ‰€ ä¾¿åˆ©è²¼æ•¸é‡å°‘æ‰æœ‰æé†’çš„æ•ˆæœ  æ–°é€²çš„æ±è¥¿é¦¬ä¸Šåˆ†é¡  ç¶­æŒå¸¸æ…‹ç§©åºï¼Œåˆ¥æƒ³è‘—ç­‰ç­‰å†åšå°±å¥½ æ•ˆç‡ \u0026gt; é‡è¦æ€§ æ‹–å»¶æœƒè®“å•é¡Œè®Šåš´é‡ï¼Œç„¡æ³•é¦¬ä¸Šè™•ç†éœ€è¦äººå¹«å¿™ä¹Ÿå¯ä»¥ æ¸…æ¥šæ¯å€‹æ±è¥¿çš„æ„ç¾©è·Ÿç‹€æ…‹  ","date":"2022-05-02T00:00:00+09:00","image":"https://bacnotes.github.io/p/organize-art/pexels-janko-ferlic-590493_hu3d03a01dcc18bc5be0e67db3d8d209a6_2715072_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/organize-art/","title":"å²ä¸Šæœ€å¼·æ•´ç†è¡“(æœ€å¼·ã®æ•´ç†è¡“) - ä¸‰æ©‹å¿—æ´¥å­ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"ç¾ä»£é–‹ç™¼å¸¸å¸¸æœƒå¼•ç”¨åˆ°ç¬¬ä¸‰æ–¹å‡½å¼åº«ï¼Œåƒæ˜¯ Node.js ç¤¾ç¾¤ä¸Šçš„ npm å…¬é–‹å¥—ä»¶(React/jQuery/Leaflat)ï¼Œå› æ­¤æ‡‚å¾—é€é npm ç®¡ç†å°ˆæ¡ˆå…§çš„æ¨¡çµ„/å‡½å¼åº«å°±è®Šçš„å¾ˆé‡è¦\nnpm å¥—ä»¶ç®¡ç†  npm -v ç¢ºèªå®‰è£ç‰ˆæœ¬ï¼Œè‹¥æ²’æœ‰åˆ° node å®˜ç¶²ä¸‹è¼‰ LTS ç‰ˆæœ¬ å®‰è£ node æœƒä¸€èµ·å®‰è£ npmï¼Œé€é npm init åœ¨ä¸€å€‹å°ˆæ¡ˆè³‡æ–™å¤¾å•Ÿç”¨å¥—ä»¶ç®¡ç†ï¼Œæ‰€æœ‰å¥—ä»¶é€é npm å‘½ä»¤å®‰è£ npm åœ¨ package.json æ§ç®¡åœ¨ repo è£¡é¢çš„æ¨¡çµ„ï¼Œpackage.json å…§å®¹æœƒæ˜¯ä½ å°ˆæ¡ˆå¼•ç”¨çš„å¥—ä»¶çš„è¨­å®šï¼Œè€Œå¯¦éš›ä¸Šå®‰è£äº†å“ªä¸€å€‹ç‰ˆæœ¬çš„å¥—ä»¶å‰‡æ˜¯æ–¼ package.lock.json ä¸­ç´€éŒ„ npm install æ™‚ï¼Œnpm æœƒä¾ç…§ package.lock.json å…§å®¹æ•´ç† node_modules çš„å…§å®¹ï¼Œé€éé€™å€‹æ©Ÿåˆ¶ç¢ºä¿æ¯å€‹é–‹ç™¼è€…å–å¾—åŒä¸€ä»½åŸå§‹ç¢¼æ™‚èƒ½å°‡ node_modules çš„å…§å®¹èª¿æ•´ç‚ºä¸€è‡´çš„ç‹€æ…‹ npm è£¡é¢çš„æ¨¡çµ„/å‡½å¼åº«ï¼Œä½¿ç”¨ common JS æ¨¡çµ„ç³»çµ±ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥ import åˆ° code è£¡é¢ï¼Œæœƒéœ€è¦ç”¨ module bundler  æ‰“åŒ…æˆ JavaScript bundles  æ¨¡çµ„æœƒé€éä¸€å€‹ build process æ‰“åŒ…æˆ JavaScript bundlesï¼Œåªæ‰“åŒ…æœ‰è¢«å¼•ç”¨çš„æ¨¡çµ„ï¼Œå£“ç¸®æª”æ¡ˆå¤§å° èˆŠç‰ˆç€è¦½å™¨ä¸æ”¯æ´æ¨¡çµ„(æ¨¡çµ„è£¡é¢çš„ç¨‹å¼ç¢¼ä¸æœƒåŸ·è¡Œ)ï¼Œé€éæ‰“åŒ…è®“ç€è¦½å™¨å¯ä»¥ç›´æ¥ä½¿ç”¨å¿…è¦çš„ JavaScript Babel å¥—ä»¶åš Transpiling/polyfilling è®“ ES6 èªæ³•å¯ä»¥è®ŠæˆèˆŠç‰ˆç€è¦½å™¨è®€çš„æ‡‚çš„ ES5 èªæ³•ï¼Œä¹Ÿå°±æ˜¯æˆ‘å€‘ä¸Ÿåˆ° prod ä¸Šé¢çš„æœ€çµ‚æª”æ¡ˆ ç›®å‰ webpack è·Ÿ parcel éƒ½æ˜¯ä¸éŒ¯çš„è§£æ±ºæ–¹æ¡ˆï¼Œwebpack ç›®å‰äººæ°£æœ€é«˜ä½†æœ‰è¨±å¤šéœ€è¦æ‰‹å‹•è¨­å®šçš„åœ°æ–¹ï¼Œparcel æ˜¯ 0-configurationï¼Œå¾ˆå®¹æ˜“ä¸Šæ‰‹  æ¨¡çµ„  é¡ä¼¼ class æ¦‚å¿µï¼Œæ˜¯ä¸€æ®µå¯é‡è¤‡ä½¿ç”¨çš„å°è£ç¨‹å¼ç¢¼(è£¡é¢åŒ…è‘—åŸ·è¡Œç´°ç¯€) é€šå¸¸æ˜¯ä¸€å€‹ç¨ç«‹çš„æª”æ¡ˆï¼Œå¯ä»¥è¼¸å…¥å…¶ä»–æ¨¡çµ„ï¼Œè¢«è¼¸å…¥çš„æ¨¡çµ„å°±æ˜¯ dependency(æ²’æœ‰é€™æ®µå°±ç„¡æ³•åŸ·è¡Œ)ï¼Œå¯ä»¥è¼¸å‡ºçµ¦å…¶ä»–ç¨‹å¼ä½¿ç”¨ï¼Œä½œç‚º public api åœ¨åšå¤§å‹ application çš„æ™‚å€™ï¼Œä½œç‚ºç©æœ¨å¯ä»¥å¿«é€Ÿæ­å»ºç”¢å“ æŠ½è±¡åŒ–çš„ç¨‹å¼ç¢¼ï¼Œå¯ä»¥ä¸ç”¨çŸ¥é“å…§éƒ¨ç´°ç¯€ï¼Œä½†å¯ä»¥å¿«é€Ÿä½¿ç”¨åˆ¥äººåšå¥½çš„æ–¹æ³• æ›´å¥½æ•´ç†æ›´å¥½è®€  1 2 3 4 5  import { rand } from \u0026#39;./math.js\u0026#39; const diceP1 = rand(1, 6, 2) const diceP2 = rand(1, 6, 2) const scores = { diceP1, diceP2 } export { scores }   ES6 æ¨¡çµ„  ES6 ä»¥å‰æ²’æœ‰å…§å»ºæ¨¡çµ„ï¼Œå¾Œä¾†æœ‰äº†æ¨¡çµ„ï¼Œä¸€å€‹æ¨¡çµ„ä¸€å€‹æª”æ¡ˆ è·Ÿ script å·®ç•°    item script module     top-level var global private   default mode sloppy mode strict mode   top-level this window undefined   imports and exports no ok   HTML linking \u0026lt;script\u0026gt; \u0026lt;script type=\u0026quot;module\u0026quot;\u0026gt;   file downloading åŒæ­¥ éåŒæ­¥     all imports æ˜¯ hoistedï¼Œç„¡è«–åœ¨ç¨‹å¼ç¢¼è£¡é¢çš„å…ˆå¾Œé †åºï¼ŒæœƒæŠŠ import æ”¾åœ¨æª”æ¡ˆæœ€ä¸Šé¢  1 2 3 4  import { rand } from \u0026#39;.math.js\u0026#39; import { showDice } from \u0026#39;.dom.js\u0026#39; const dice = rand(1, 6, 2) showDice(dice)    æœƒå…ˆè§£æ index.js(read)çŸ¥é“è¦å¼•å…¥å“ªäº› jsï¼ˆimport hoisted) åŒæ­¥å¼•å…¥ä¸‹è¼‰å„å€‹ jsï¼Œä¹Ÿå°±æ˜¯æ²’æœ‰å¼•å…¥å®Œæˆå°±ä¸æœƒåŸ·è¡Œï¼Œè®“æ‰“åŒ… bundles è·Ÿåˆªé™¤æ²’è¢«ä½¿ç”¨çš„ code è®Šå¾—å¯èƒ½ éåŒæ­¥ä¸‹è¼‰ js æª”æ¡ˆå¾Œï¼Œé€£çµ js è¼¸å‡ºå°æ‡‰çš„ import çš„æª”æ¡ˆï¼Œåš pointer æŒ‡å‘ï¼ˆå–®ç´”åš ref)ï¼Œå¯¦ç¾å¼•ç”¨å…§å®¹æ”¹è®Šæ™‚ï¼Œå°æ‡‰å¼•å…¥çš„æª”æ¡ˆä¹Ÿæœƒä¸€èµ·é€£å‹•æ”¹è®Š import çš„å…§å®¹ä¸æ˜¯ copy è³‡æ–™ï¼Œè‹¥å°é™£åˆ—æˆ–ç‰©ä»¶åŸå§‹è³‡æ–™æœ‰ä¸å¯é€†ä¿®æ”¹(e.g. push è³‡æ–™åˆ°ç©ºé™£åˆ—)ï¼Œä¹Ÿæœƒä¿®æ”¹åˆ°åŸæœ¬çš„è³‡æ–™ï¼Œä½¿ç”¨åŒä¸€å€‹è¨˜æ†¶é«” JavaScript æ¨¡çµ„ç³»çµ±çš„æ©Ÿåˆ¶è·Ÿå…¶ä»–æ¨¡çµ„ç³»çµ±ä¸ä¸€å®šç›¸åŒ  import \u0026amp; export  å¦‚æœæ˜¯åœ¨ html ä¸Šé¢å¼•ç”¨ï¼Œscript å¤–é¢å¯«ä¸Š type=\u0026ldquo;module\u0026rdquo; export éœ€è¦å¯«åœ¨æœ€å¤–å±¤(top level)æ‰æœƒæœ‰ä½œç”¨ï¼Œä¸èƒ½åµŒå¥—åœ¨ if ç­‰å…¶ä»–ç¨‹å¼ç¢¼  name export 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  // exporting module console.log(\u0026#39;exporting module\u0026#39;) // all top var is private, unlike script const shippingCost = 10 export const cart = [] // add exportå³å¯è¼¸å‡º export const addToCart = function (product, quantity) { cart.push({ product, quantity }) console.log(`${quantity}${product}add to cart`) } // é¡ä¼¼è¼¸å‡ºç‰©ä»¶çš„æ¦‚å¿µ const totalPrice = 238 const totalCount = 34 export { totalPrice, totalCount as count }    å¼•å…¥åˆ°å…¶ä»–æª”æ¡ˆï¼Œéœ€è¦å°æ‡‰ä¹‹å‰è¼¸å‡ºçš„åå­— å¯ä»¥é€é as åœ¨ export æˆ–æ˜¯ import ä¿®æ”¹åç¨±  1 2 3 4 5 6 7 8  import { addToCart, totalPrice as price, count, cart } from \u0026#39;./shoppingCart.js\u0026#39; console.log(\u0026#39;import module\u0026#39;) addToCart(\u0026#39;bread\u0026#39;, 5) // 5 bread added to cart console.log(price, count) // 238 34 console.log(cart) // [{...}]    ä¸€æ¬¡å¼•å…¥æ‰€æœ‰è®Šæ•¸ï¼Œè®Šæˆä¸€å€‹ç‰©ä»¶ï¼Œä½¿ç”¨æ™‚åƒèª¿ç”¨ä¸€å€‹ api  1 2 3  import * as ShoppingCart from \u0026#39;./shoppingCart\u0026#39; shoppingCart.addToCart(\u0026#39;bread\u0026#39;, 5)   default export  åªå¸Œæœ›æ¨¡çµ„è¼¸å‡ºä¸€å€‹å€¼å¯ä»¥ç”¨ export defaultï¼Œä¸ç”¨å‘½åç›´æ¥è¼¸å‡ºå€¼ ä¸”å¯ä»¥ç”¨ä»»æ„çš„åå­—è¼¸å‡ºï¼ˆimport çš„è®Šæ•¸åä»»æ„)  1 2 3 4  export default function (product, quantity) { cart.push({ product, quantity }) console.log(`${quantity}${product}add to cart`) }   1 2  import add from \u0026#39;./shoppingCart.js\u0026#39; add(\u0026#39;pizza\u0026#39;, 2)   top-level await(ES2022)  åœ¨ç¨‹å¼ç¢¼æœ€å¤–å±¤ä½¿ç”¨ awaitï¼Œå¯ä»¥ç­‰å¾…åŸ·è¡Œå®Œç•¢å†å¾€ä¸‹ æ¨¡çµ„å¯ä½¿ç”¨ï¼Œscript ç„¡æ³•  1 2  \u0026lt;!-- html --\u0026gt; \u0026lt;script type=\u0026#34;module\u0026#34; defer src=\u0026#34;script.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt;   1 2 3 4 5 6 7 8 9 10  // script.js console.log(\u0026#39;start\u0026#39;) const res = await fetch(\u0026#39;https://jsonplaceholder.typicode.com/posts\u0026#39;) const data = await res.json() console.log(data) console.log(\u0026#39;something\u0026#39;) // start // [{...}, {...} ] // something    æ›´çœŸå¯¦ä¸€é»çš„ fetch ä¾‹  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  // script.js const getLastData = async function () { const res = await fetch(\u0026#39;https://jsonplaceholder.typicode.com/posts\u0026#39;) const data = await res.json() console.log(data) return { title: data.at(-1).title, text: data.at(-1).body, } } const lastPost = getLastData() // ä¸æœƒæ˜¯æˆ‘å€‘è¦çš„è³‡æ–™ï¼Œå› ç‚ºé‚„åœ¨è™•ç†ä¸­ï¼Œæœƒå¾—åˆ°ä¸€å€‹Promise console.log(lastPost) const lastPost2 = await getLastData() // æœƒå¾—åˆ°æœŸæœ›çš„è³‡æ–™ console.log(lastPost2)    å¦‚æœä¸€å€‹æ¨¡çµ„å¼•å…¥å¦ä¸€å€‹å¸¶æœ‰ top-level await çš„æ¨¡çµ„ï¼Œæœƒç­‰å¾…è¢«å¼•å…¥æ¨¡çµ„çš„ top-level await  1 2 3 4 5 6 7 8 9 10 11 12 13  // shoppingCart.js(è¢«script.jså¼•å…¥)  console.log(\u0026#39;start fetching\u0026#39;) await fetch(\u0026#39;https://jsonplaceholder.typicode.com/posts\u0026#39;) console.log(\u0026#39;finish fetching\u0026#39;) // script.js  console.log(\u0026#39;import module\u0026#39;) // start fetching // finish fetching // import module   module pattern  module ç›®çš„æ˜¯æŠŠåŠŸèƒ½å°è£æˆ private data è·Ÿ expose a public apiï¼Œ åœ¨ ES6 å‡ºç¾å‰ï¼Œæœƒåˆ©ç”¨ IIFE åªæœƒåŸ·è¡Œä¸€æ¬¡ä¸” scope ç¨ç«‹çš„ç‰¹æ€§ä¾†åšåˆ°é¡ä¼¼çš„æ•ˆæœ ä½†å¦‚æœè¦ä¸€å€‹æª”æ¡ˆä¸€å€‹ moduleï¼Œå°±å¿…é ˆè¦å¯«å¾ˆå¤š script å¼•å…¥åˆ° HTML ä¸Šé¢ï¼Œä¸”éœ€è¦æ³¨æ„å¼•å…¥é †åºï¼Œè·Ÿå…¨åŸŸè®Šæ•¸æ±¡æŸ“å•é¡Œ  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  const ShoppingCart2 = (function(){ const cart = [] const shippingCost = 10 const totalPrice = 238 const totalCount = 23 const addToCart = function(product, quantity) { cart.push({product, quantity}) console.log(`${quantity}${product}added to cart`) } const orderStock = function (product, quality) { console.log(`${quantity}${product}ordered from supplier`) } return { addToCart, cart, totalPrice totalCount } })() ShoppingCart2.addToCart(\u0026#39;apple\u0026#39;, 4) console.log(ShoppingCart2) // å¯ä»¥çœ‹åˆ°è³‡æ–™è·Ÿæ–¹æ³•  console.log(ShoppingCart.shippingCost) // undefined ç„¡æ³•ç²å–å…§éƒ¨è³‡æ–™   å…¶ä»–çš„æ¨¡çµ„ç³»çµ±ï¼šAMD modules / Common JS modules  ä¸æ˜¯ native javascript åœ¨ ES6 æ¨¡çµ„å‡ºç¾å‰ï¼Œnpm ä¸Šçš„æ¨¡çµ„æ˜¯ç”¨ common jsï¼Œç›®å‰ä¹Ÿéƒ½é‚„æ˜¯å¾ˆå¸¸ç”¨ export.æ–¹æ³•åœ¨ node å¯ä»¥ä½¿ç”¨ï¼Œç€è¦½å™¨ä¸è¡Œ  1 2 3 4 5 6 7 8  // export export.addTocart = function (product, quantity) { cart.push({ product, quantity }) console.log(`${quantity}${product}add to cart`) } // import const { addToCart } = require(\u0026#39;./shoppingCart.js\u0026#39;)   lodash  lodash æœ‰è¨±å¤š array/objects/function/dates çš„ JavaScript æ–¹æ³• npm i lodash(æ˜¯ common JS ä¸èƒ½ç”¨ import export) npm i lodash-es(ä¸‹è¼‰ ES6 ç‰ˆæœ¬)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70  // add \u0026#34;type\u0026#34;: \u0026#34;module\u0026#34; in your \u0026#34;package.json\u0026#34; file if error // é€™åªæ˜¯ä¸€å€‹å±•ç¤ºdeep clone çš„ sample å¹³å¸¸ä¸æœƒé€™æ¨£åš import cloneDeep from \u0026#39;./node_modules/lodash-es/cloneDeep.js\u0026#39; const state = { cart: [ { product: \u0026#39;bread\u0026#39;, quantity: 5, }, { product: \u0026#39;pizza\u0026#39;, quantity: 3, }, ], user: { loggedIn: true, }, } // methods1: ç”¨Object.assignæ·ºæ‹·è² const stateClone = Object.assign({}, state) console.log(stateClone) stateClone.user.loggedIn = false // æ·ºæ‹·è²æœƒä¿®æ”¹åˆ°éç¬¬ä¸€å±¤çš„åŸå§‹è³‡æ–™ console.log(state.user.loggedIn) // false  stateClone.newProperty = 1 // ç¬¬ä¸€å±¤æ–°å¢å±¬æ€§ï¼ŒèˆŠè³‡æ–™ä¸æœƒè¢«ä¿®æ”¹åˆ°  console.log(stateClone) // { // \u0026#34;cart\u0026#34;: [ // { // \u0026#34;product\u0026#34;: \u0026#34;bread\u0026#34;, // \u0026#34;quantity\u0026#34;: 5 // }, // { // \u0026#34;product\u0026#34;: \u0026#34;pizza\u0026#34;, // \u0026#34;quantity\u0026#34;: 3 // } // ], // \u0026#34;user\u0026#34;: { // \u0026#34;loggedIn\u0026#34;: false // }, // \u0026#34;newProperty\u0026#34;: 1 // }  console.log(state) // { // \u0026#34;cart\u0026#34;: [ // { // \u0026#34;product\u0026#34;: \u0026#34;bread\u0026#34;, // \u0026#34;quantity\u0026#34;: 5 // }, // { // \u0026#34;product\u0026#34;: \u0026#34;pizza\u0026#34;, // \u0026#34;quantity\u0026#34;: 3 // } // ], // \u0026#34;user\u0026#34;: { // \u0026#34;loggedIn\u0026#34;: false // } // }  // methods2: ç”¨lodashçš„cloneDeepæ–¹æ³• const stateDeepClone = cloneDeep(state) stateDeepClone.user.loggedIn = false console.log(stateDeepClone.user.loggedIn) // false console.log(stateDeepClone.user.loggedIn) // true æ²’æœ‰å‹•åˆ°åŸå§‹è³‡æ–™   parcel å®‰è£  ä½¿ç”¨å‰è¨˜å¾—æŠŠ \u0026lt;script\u0026gt; å¾Œé¢çš„ type=\u0026quot;module\u0026quot; æ‹¿æ‰ npm i parcel \u0026ndash;save-devï¼ˆlocal å®‰è£)ï¼Œé–‹ç™¼ç”¨çš„å·¥å…·ï¼Œæ”¾ dev-dependency ä¸æ˜¯æœƒæ”¾åœ¨å°ˆæ¡ˆæœ¬èº«è£¡é¢çš„ codeï¼Œåœ¨é–‹ç™¼æˆ–æ¸¬è©¦çš„æ™‚å€™éœ€è¦çš„å¥—ä»¶ npm i parcel -g (ç‚ºäº†æ¯æ¬¡éƒ½èƒ½æŠ“å–æœ€æ–°ç‰ˆæœ¬ï¼Œä¸éœ€è¦å…¨åŸŸå®‰è£) npm i parcel@æŒ‡å®šç‰ˆæœ¬ sudo npm i parcel@æŒ‡å®šç‰ˆæœ¬ æ¬Šé™å•é¡Œ  ä½¿ç”¨æ–¹å¼  npx parcel index.html (entry point: script.js çš„å…¥å£) æˆ–æ˜¯åœ¨ package.json è£¡é¢çš„ scripts å¯«\u0026quot;start\u0026quot;: \u0026quot;parcel index.html\u0026quot; ä¹‹å¾Œç”¨npm start éƒ¨ç½²ç‰ˆæœ¬ï¼šscripts å¯«build\u0026quot;: \u0026quot;parcel build index.html\u0026quot; ä¹‹å¾Œç”¨npm build ç”¢å‡ºå£“ç¸®ç‰ˆæœ¬çš„æ‰“åŒ…æª” parcel æœƒæŠŠç›¸é—œçš„æª”æ¡ˆæ‰“åŒ…åœ¨ dist è£¡é¢ï¼Œå¯ä»¥é€é live server è§€çœ‹ç·¨è­¯å¾Œçš„çµæœ ç”¨ parcel æ‰“åŒ…å¯ä»¥ä¸ç”¨å¯«æª”æ¡ˆè·¯å¾‘ï¼Œç›´æ¥å¼•ç”¨æ¨¡çµ„åç¨± parcel å…¼å®¹ common js æ¨¡çµ„ï¼Œå¯«import cloneDeep from 'lodash'ä¹Ÿå¯ä»¥  1 2 3 4 5 6 7  // ç›´æ¥å¼•ç”¨åç¨± import cloneDeep from \u0026#39;lodash-es\u0026#39; // å¯ä»¥maintain state if (module.hot) { module.hot.accept() }   Babel  èˆŠç‰ˆç€è¦½å™¨ä½¿ç”¨ ES5 èªæ³•ï¼Œparcel é è¨­ä½¿ç”¨ Babel ç·¨è­¯ Babel ä½¿ç”¨ plugin å» transpile ç‰¹å®š JavaScript feature(e.g. ç®­é ­å‡½å¼)  preset  preset æ˜¯ä¸€åŒ… plugin(preset-env, preset-flow, preset-react, preset-typescript)ï¼Œä¾ç…§ç€è¦½å™¨æ”¯æ´çš„ç‹€æ³æä¾›ä¸åŒçš„åŒ…ï¼Œä¸ç”¨ä¸€å€‹å€‹ plugin å®‰è£(ç®­é ­å‡½å¼å®‰è£ä¸€å€‹ï¼Œvar const let å®‰è£ä¸€å€‹)  transpile  å–®ç´”èªæ³•ç³–(letã€constã€ç®­é ­å‡½å¼ç­‰) Transpilation is at compile time, while pollyfill is at runtime, and this is what differentiates one from the other  polyfill  é€é native browser APIs or other environment APIs æ¨¡ä»¿å¯¦ä½œä¸æ”¯æ´çš„æ–¹æ³•(Promiseã€Array.find) éœ€è¦å¾ polyfill å‡½å¼åº«å¼•ç”¨å°æ‡‰çš„æ¨¡çµ„é€²ä¾†ï¼Œç”¨ --save å®‰è£ï¼Œåªæœ‰æ‰“åŒ…å‰æ™‚ç·¨è­¯æœƒéœ€è¦ï¼Œä¸¦é€éimport 'core-js/stable'å¼•å…¥ Parcel æœƒè‡ªå‹•å®‰è£ npm i core-jsï¼Œè‹¥æ²’æœ‰å¯ä»¥æ‰‹å‹•  polyfill async function  npm i regenerator-runtime import 'regenerator-runtime/runtime'  modern and clean code readable  others can understand it you can understand it in 1 year avoid too clever and overcomplicated solutions use descriptive variable names: what they contain use descriptive function names: what they do  general  use Dry principle (refactor your code) don\u0026rsquo;t pollute global namespace, encapsulate instead don\u0026rsquo;t use var use === !==  functions  1 function do 1 thing don\u0026rsquo;t use more than 3 function parameters use default parameters whenever possible return same data type as received  OOP  use ES6 classes encapsulate data and don\u0026rsquo;t mutate it from outside the class implement method chaining do not use arrow functions as methods in regular objects  avoid nested code  use early return(guard clauses) use ternary or logical operators instead of if use multiple if instead of if / else-if avoid for loops, use array methods instead avoid callback-based async APIs  async code  use async / await for best readability whenever possible, run promises in parallel(Promise.all) handle errors and promise rejections  ä»¥ä¸Šç‚ºThe Complete JavaScript Course - From Zero to Expertçš„å°ç­†è¨˜ï¼Œé™„ä¸Šé€£çµæ¨æ¨é€™å ‚èª²\nè£œå……: ä½¿ç”¨ nvm ç®¡æ§ Node.js ç‰ˆæœ¬  ç•¶å°ˆæ¡ˆéœ€è¦ä½¿ç”¨åˆ°ä¸åŒç‰ˆæœ¬çš„ Node.jsï¼Œé€é nvm å®‰è£ Node.jsï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åˆ‡æ›ä½¿ç”¨  å®‰è£ nvm   é¸é … A : brew install nvm\n  é¸é … B : ä½¿ç”¨ curl ä¸‹è¼‰ curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash\n  é€éç¢ºèªç‰ˆæœ¬è™Ÿçœ‹å®‰è£æ˜¯å¦å®Œæˆ\n  1  nvm --version    é…ç½®ç’°å¢ƒè®Šé‡  1 2 3 4 5 6 7  export NVM_DIR=\u0026#34;$HOME/.nvm\u0026#34; #This loads nvm [ -s \u0026#34;$NVM_DIR/nvm.sh\u0026#34; ] \u0026amp;\u0026amp; \\. \u0026#34;$NVM_DIR/nvm.sh\u0026#34; #This loads nvm bash_completion [ -s \u0026#34;$NVM_DIR/bash_completion\u0026#34; ] \u0026amp;\u0026amp; \\. \u0026#34;$NVM_DIR/bash_completion\u0026#34;   å®‰è£ Node.js Mac M1 ç‚º ARM64 æ¶æ§‹ï¼ŒNode.js v16 ä»¥ä¸Šæ‰æ”¯æ´ ARM64 ï¼Œå› æ­¤å»ºè­°å®‰è£ v16\n1 2  nvm install v16 nvm use v16   å¸¸ç”¨æŒ‡ä»¤  å®‰è£: nvm install [version] ç§»é™¤: nvm uninstall [version] åˆ—å‡ºæœ¬åœ° Node.js ç‰ˆæœ¬: nvm ls åˆ—å‡ºé ç«¯æ‰€æœ‰ç‰ˆæœ¬: nvm ls-remote è¨­å®šé è¨­å•Ÿç”¨çš„ Node.js ç‰ˆæœ¬: nvm alias default [version] ä½¿ç”¨çš„ Node.js ç‰ˆæœ¬: nvm use [version]  æŸ¥è©¢ç¬¬ä¸‰æ–¹å‡½å¼åº«æ˜¯å¦æ”¯æ´ Mac M1 æ™¶ç‰‡  Does It ARM? æŸ¥è©¢ Node.js âœ… Yes, Full Native Apple Silicon Support as of v16  åƒè€ƒè³‡æ–™ï¼š https://blog.logrocket.com/how-to-set-up-m1-macbook-web-development/\n","date":"2022-05-01T00:00:00+08:00","image":"https://bacnotes.github.io/p/modern-javascript-development/tools_hu3d03a01dcc18bc5be0e67db3d8d209a6_4184598_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/modern-javascript-development/","title":"ç¾ä»£JavaScripté–‹ç™¼å·¥å…·ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"éåŒæ­¥ JavaScript  code ç”±ä¸Šå¾€ä¸‹ä¸€è¡Œè¡ŒåŸ·è¡Œï¼Œä½†é€™æ¨£çš„æ©Ÿåˆ¶å®¹æ˜“åœ¨åŸ·è¡Œè¼ƒä¹…çš„è™•ç†ç¨‹åºä¸­è¢«å¡ä½ éåŒæ­¥æœ‰ä¸é˜»å¡çš„å¥½è™•ï¼Œå…ˆåŸ·è¡Œç­‰å¾…çµæœå›å‚³(e.g. è¨ˆæ™‚å™¨ï¼Œimg.src = 'someImg'ï¼ŒAJAXã€API)  AJAX and API  AJAX(Asynchronous Javascript and XML): å¯ä»¥å‹•æ…‹å–å¾— server data API(Application programming Interface): è®“ç¨‹å¼ä¹‹é–“å½¼æ­¤æºé€šçš„ä»‹é¢ å¸¸è¦‹ API ç¨®é¡: DOM APIã€Geolocation APIã€online APIã€Own Class API ç¬¬ä¸‰æ–¹ API: Weatherã€Flightã€SMSã€è²¨å¹£ã€Google Map API å‚³çš„è³‡æ–™æ ¼å¼éå¾€ä»¥ XML æ ¼å¼ç‚ºä¸»æ‰€ä»¥åç¨±æ‰æœƒå« AJAXï¼Œè¿‘ä»£ä¸»è¦ç”¨ JSON æ ¼å¼ç‚ºä¸» JSON æ ¼å¼æ˜¯ JavaScript ç‰©ä»¶è½‰æˆå­—ä¸²æ ¼å¼  1 2 3 4  const p = document.querySelector(\u0026#39;p\u0026#39;) p.textContent = \u0026#39;abc\u0026#39; alert(\u0026#39;text\u0026#39;) p.style.color = \u0026#39;red\u0026#39;   XMLHttpRequest with callback  æœ€æ—©çš„ç™¼é€ AJAX çš„æ–¹å¼ï¼Œç›®å‰å°‘ç”¨å› ç‚ºéœ€è¦å¯«çš„æ­¥é©Ÿå¾ˆç¹ç‘£ ç‚ºäº†ä½¿ç”¨ callback æ–¹å¼è€Œä½¿ç”¨ XMLHttpRequest å±•ç¤º è‹¥æœ‰å¤šå€‹è«‹æ±‚ï¼Œæœƒçœ‹å“ªå€‹çµæœå…ˆå›å‚³ï¼Œå…ˆç™¼é€ load event å…ˆæ¸²æŸ“ è‹¥è¦ç¢ºä¿æ¸²æŸ“é †åºæœƒéœ€è¦ chain request, ä¹Ÿæ˜¯æ—©æˆé€ æˆ callback hell çš„åŸå›   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40  const getCountryData = function (country) { const request = new XMLHttpRequest() // open request  request.open(\u0026#39;GET\u0026#39;, `https://restcountries.com/v2/name/${country}`) request.send() // send request to url, fetch in the background  // can not use data = request.response to get result because not finished  console.log(request.responseText) // can not immediately get anything  // once it done it will emit load event  // load after it is done  request.addEventListener(\u0026#39;load\u0026#39;, function () { console.log(this.responseText) // this = request  // will get [{...}], so destructure like this  const [data] = JSON.parse(this.responseText) }) // æ ¹æ“šæ”¶åˆ°è³‡æ–™update  const countriesContainer = document.querySelector(\u0026#39;.countries\u0026#39;) const html = ` \u0026lt;article class=\u0026#34;country\u0026#34;\u0026gt; \u0026lt;img class=\u0026#34;country__img\u0026#34; src=\u0026#34;${data.flag}\u0026#34; /\u0026gt; \u0026lt;div class=\u0026#34;country__data\u0026#34;\u0026gt; \u0026lt;h3 class=\u0026#34;country__name\u0026#34;\u0026gt;${data.name}\u0026lt;/h3\u0026gt; \u0026lt;h4 class=\u0026#34;country__region\u0026#34;\u0026gt;${data.region}\u0026lt;/h4\u0026gt; // å››æ¨äº”å…¥åˆ°ç™¾è¬ \u0026lt;p class=\u0026#34;country__row\u0026#34;\u0026gt;\u0026lt;span\u0026gt;ğŸ‘«\u0026lt;/span\u0026gt;${( Number(data.population) / 1000000 ).toFixed(1)}\u0026lt;/p\u0026gt; \u0026lt;p class=\u0026#34;country__row\u0026#34;\u0026gt;\u0026lt;span\u0026gt;ğŸ—£ï¸\u0026lt;/span\u0026gt;${data.languages[0].name}\u0026lt;/p\u0026gt; \u0026lt;p class=\u0026#34;country__row\u0026#34;\u0026gt;\u0026lt;span\u0026gt;ğŸ’°\u0026lt;/span\u0026gt;${data.currencies[0].name}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/article\u0026gt; ` countriesContainer.insertAdjacentHTML(\u0026#39;beforeend\u0026#39;, html) } getCountryData(\u0026#39;portugal\u0026#39;) getCountryData(\u0026#39;usa\u0026#39;)   1 2 3 4 5 6  .countries { display: flex; font-size: 2rem; opacity: 0; transition: opacity 1s; }   request and response  client ç™¼é€ requestï¼Œserver æ¥æ”¶ request ä¸¦ç™¼å‡º response çµ¦ client  1  https://restcountries.com/v2/name/portugal    protocol: http/https(https ä½¿ç”¨ TLS SSl åŠ å¯†) domain name: restcountries.com resource: /v2/name/portugal  what happens when we access a web server  step1: DNS(domain name server) lookup æŸ¥æ‰¾ IP åœ°å€  å‘¼å« protocol + ip address + port number port ç”¨ä¾†è¾¨åˆ¥ç‰¹å®šæœå‹™(æœ‰é»é¡ä¼¼å‰¯åœ°å€)   step2: TCP/IP socket connect  TCP is é€šè¨Šæ§åˆ¶å”è­°, IP is ç¶²è·¯å”è­°ã€‚å…©è€…ä¸€èµ·å®šç¾©å¦‚ä½•å‚³è¼¸è³‡æ–™   step3: HTTP request(hypertext transfer protocol) å¯ä»¥è®“ server è·Ÿ client äº’å‚³è¨Šæ¯  start line: HTTP method + request target + http version Get /rest/v2/alpha/PT HTTP/1.1 http methods: get/post/put/patch å¦‚æœåœ°å€åªå¯«/å°±åªæœƒåˆ°æ ¹ç›®éŒ„ï¼Œä¹Ÿå°±æ˜¯ restcountries.com request headers(request itself)(å¤šç¨®çµ„åˆå¯èƒ½)  1 2 3  Host: www.google.com User-Agent: Mozilla/5.0 Accept-Language: en-US    request body(only when sending data to server e.g. POST)   HTTP response  start line: HTTP version + status code + status message HTTP/1.1 200 OK  HTTP response headers(å¾ˆå¤šç¨®çµ„åˆå¯èƒ½)  1 2 3  Date: Fri, 18 Jan 2021 Content-Type: text/html Transfer-Encoding: chunked    response body(most responses)ï¼Œé€šå¸¸æ˜¯ JSON æ ¼å¼æˆ–çœ‹è«‹æ±‚å…§å®¹   å° server ç™¼é€è«‹æ±‚å¾Œï¼Œserver å›å‚³ htmlï¼Œç€è¦½å™¨è§£æ html æ™‚æœƒéšŠ server å†æ¬¡è«‹æ±‚ç›¸é—œè³‡æº(js/css files/img assets)ï¼Œå°±æ˜¯é€™æ¨£ä¾†å›çš„è³‡æºè«‹æ±‚è®“æˆ‘å€‘å¯ä»¥çœ‹åˆ°ç¶²é  TCP: TCP æœƒæŠŠ request è·Ÿ response æ‹†æˆå°å¡Šå°åŒ…é€å‡ºï¼Œæ”¶åˆ°æ™‚æœƒçµ„åˆæˆåŸè²Œï¼Œé€™æ¨£ç™¼é€çš„æ™‚å€™å¯ä»¥åœ¨ç¶²è·¯ä¸­èµ°ä¸åŒçš„ routeï¼Œæé«˜å‚³è¼¸æ•ˆç‡ IP: IP è² è²¬åœ¨ç¶²è·¯ä¸­ç™¼é€è·Ÿäº¤ç®¡ route é€™äº›å°åŒ…ï¼Œç¢ºä¿éƒ½æœ‰å‚³è¼¸åˆ°æ­£ç¢ºçš„ä½ç½®  callback hell  nested callback function is hard to read and maintain  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52  // æ ¹æ“šæ”¶åˆ°è³‡æ–™update const countriesContainer = document.querySelector(\u0026#39;.countries\u0026#39;) const renderCountry = function (data, className = \u0026#39;\u0026#39;) { const html = ` \u0026lt;article class=\u0026#34;country ${className}\u0026#34;\u0026gt; \u0026lt;img class=\u0026#34;country__img\u0026#34; src=\u0026#34;${data.flag}\u0026#34; /\u0026gt; \u0026lt;div class=\u0026#34;country__data\u0026#34;\u0026gt; \u0026lt;h3 class=\u0026#34;country__name\u0026#34;\u0026gt;${data.name}\u0026lt;/h3\u0026gt; \u0026lt;h4 class=\u0026#34;country__region\u0026#34;\u0026gt;${data.region}\u0026lt;/h4\u0026gt; // å››æ¨äº”å…¥åˆ°ç™¾è¬ \u0026lt;p class=\u0026#34;country__row\u0026#34;\u0026gt;\u0026lt;span\u0026gt;ğŸ‘«\u0026lt;/span\u0026gt;${( Number(data.population) / 1000000 ).toFixed(1)}\u0026lt;/p\u0026gt; \u0026lt;p class=\u0026#34;country__row\u0026#34;\u0026gt;\u0026lt;span\u0026gt;ğŸ—£ï¸\u0026lt;/span\u0026gt;${data.languages[0].name}\u0026lt;/p\u0026gt; \u0026lt;p class=\u0026#34;country__row\u0026#34;\u0026gt;\u0026lt;span\u0026gt;ğŸ’°\u0026lt;/span\u0026gt;${data.currencies[0].name}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/article\u0026gt; ` countriesContainer.insertAdjacentHTML(\u0026#39;beforeend\u0026#39;, html) countriesContainer.style.opacity = 1 } const getCountryAndNeighbor = function (country) { // AJAX call country 1  const request = new XMLHttpRequest() // open request  request.open(\u0026#39;GET\u0026#39;, `https://restcountries.com/v2/name/${country}`) request.send() // load after it is done  request.addEventListener(\u0026#39;load\u0026#39;, function () { // array  const [ data ] = JSON.parse(this.responseText) // [ {...} ]  renderCountry(data) // get neighbour country (2)  const [ neighbour ] = data.borders if(!neighbour) = return // AJAX call country 2  const request2 = new XMLHttpRequest() // open request  request2.open(\u0026#39;GET\u0026#39;, `https://restcountries.com/v3.1/alpha/${neightbor}`) request2.send() request2.addEventListener(\u0026#39;load\u0026#39;, function(){ // obj  const data2 = JSON.parse(this.responseText) renderCountry(data2, \u0026#39;neighbour\u0026#39;) }) }) }   getCountryAndNeighbor(\u0026lsquo;usa\u0026rsquo;)\nWhy Promises with fetch  Promise é¡ä¼¼ä¸€å€‹æ¥æ”¶æœªä¾†éåŒæ­¥å‡½å¼å›å‚³çµæœçš„å®¹å™¨ ä¸ç”¨ä¾è³´ events è·Ÿ callback å‚³éè·Ÿè™•ç†éåŒæ­¥å‡½å¼çµæœ é€é chain Promise å¯ä»¥é¿å… callback hellï¼Œæ‰“é€ æ›´å¥½è®€çš„ç¨‹å¼ç¢¼  Promise çš„ç”Ÿå‘½é€±æœŸ  fetch API in a Promise pending (response not available yet) async task settled (get results)  fulfilled rejected   consume Promise  Promise çµæ§‹  fetch å¾Œæœƒå›å‚³ä¸€å€‹ Promise é€é json()æ–¹æ³•è§£æå¾Œï¼Œæœƒå†å›å‚³ä¸€å€‹ Promise é€é then æ¥èµ·ä¾†ï¼Œç²å– data then å€å¡Šå›å‚³ fulfilled value catch å€å¡Š å›å‚³ rejected valueï¼Œchain ä¸­æ‰€æœ‰çš„éŒ¯èª¤æœƒåœ¨é€™è£¡è¢«æ‹‹å‡º err æ˜¯ä¸€å€‹ objectï¼Œå¯ä»¥æŠŠä½¿ç”¨è€…éœ€è¦çŸ¥é“çš„éŒ¯èª¤é¡¯ç¤ºåœ¨ä¸Šé¢ finally å€å¡Šæ˜¯ç„¡è«–å›å‚³çµæœæ°¸é éƒ½æœƒåŸ·è¡Œçš„å€å¡Šï¼Œè™•ç†ä¸€å®šéœ€è¦åŸ·è¡Œçš„é‚è¼¯ ç”¨ then ä¾† chain Promiseï¼Œä¸è¦æŠŠ then chain æˆå·¢ç‹€ï¼Œåœ¨å¤–å±¤æ¥ Promise  callback v.s. Promise 1 2 3 4 5 6 7 8 9 10 11 12 13  // XMLHttpRequest const request = new XMLHttpRequest() request.open(\u0026#39;method\u0026#39;, \u0026#39;url\u0026#39;) request.send() request.addEventListener(\u0026#39;load\u0026#39;, function () { const data = JSON.parse(this.responseText) renderCountry(data, \u0026#39;neighbour\u0026#39;) }) // Promise with less code const request = fetch(\u0026#39;url\u0026#39;) .then((response) =\u0026gt; response.json()) .then((data) =\u0026gt; renderCountry(data, \u0026#39;neighbour\u0026#39;))   æ”¹å¯« callback æˆ Promise ç‰©ä»¶  è‹¥è¦æ¨¡æ“¬ reject å¯ä»¥å…ˆæ¸²æŸ“å‡ºç•«é¢å¾Œï¼Œç•«é¢ä¸Šä¸€å€‹å¯ä»¥å†æ¬¡ fetch data çš„æŒ‰éˆ•ï¼ŒæŠŠ network è¨­å®šæ”¹æˆ offline æ¨¡æ“¬ Promise rejectã€‚è‹¥ç›´æ¥æ”¹ offline æœƒçœ‹åˆ°å°æé¾  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59  const request = fetch(\u0026#39;https://restcountries.com/v2/name/portugal\u0026#39;) console.log(request) const btn = document.querySelector(\u0026#39;btn-country\u0026#39;) const countriesContainer = document.querySelector(\u0026#39;.countries\u0026#39;) btn.addEventListener(\u0026#39;click\u0026#39;, function () { getCountryData(\u0026#39;portugal\u0026#39;) }) const renderCountry = function (data, className = \u0026#39;\u0026#39;) { const html = ` \u0026lt;article class=\u0026#34;country ${className}\u0026#34;\u0026gt; \u0026lt;img class=\u0026#34;country__img\u0026#34; src=\u0026#34;${data.flag}\u0026#34; /\u0026gt; \u0026lt;div class=\u0026#34;country__data\u0026#34;\u0026gt; \u0026lt;h3 class=\u0026#34;country__name\u0026#34;\u0026gt;${data.name}\u0026lt;/h3\u0026gt; \u0026lt;h4 class=\u0026#34;country__region\u0026#34;\u0026gt;${data.region}\u0026lt;/h4\u0026gt; // å››æ¨äº”å…¥åˆ°ç™¾è¬ \u0026lt;p class=\u0026#34;country__row\u0026#34;\u0026gt;\u0026lt;span\u0026gt;ğŸ‘«\u0026lt;/span\u0026gt;${( Number(data.population) / 1000000 ).toFixed(1)}\u0026lt;/p\u0026gt; \u0026lt;p class=\u0026#34;country__row\u0026#34;\u0026gt;\u0026lt;span\u0026gt;ğŸ—£ï¸\u0026lt;/span\u0026gt;${data.languages[0].name}\u0026lt;/p\u0026gt; \u0026lt;p class=\u0026#34;country__row\u0026#34;\u0026gt;\u0026lt;span\u0026gt;ğŸ’°\u0026lt;/span\u0026gt;${data.currencies[0].name}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/article\u0026gt; ` countriesContainer.insertAdjacentHTML(\u0026#39;beforeend\u0026#39;, html) // countriesContainer.style.opacity = 1 } const renderError = function (msg) { countriesContainer.insertAdjacentTExt(\u0026#39;beforeend\u0026#39;, msg) // countriesContainer.style.opacity = 1 } const getCountryData = function (country) { fetch(`https://restcountries.com/v2/name/${country}`) // è‹¥æˆåŠŸ response.status: 200, response.ok: true  .then(response =\u0026gt; response.json()) .then(data =\u0026gt; { renderCountry(data[0]) const neighbour = data[0].borders[0] if(!neighbour) return // country 2  return fetch(`https://restcountries.com/v2/name/${neighbour}`) }) .then(response =\u0026gt; response.json()) .then(data = \u0026gt; renderCountry(data, \u0026#39;neighbour\u0026#39;)) .catch(err =\u0026gt; { console.log(err) renderError(`something is wrong ${err.message}`) }) .finally(()=\u0026gt; { countriesContainer.style.opacity = 1 }) } getCountryData(\u0026#39;portugal\u0026#39;)   éŒ¯èª¤è™•ç†  any error would cause any Promise to reject éœ€è¦åœ¨ then å€å¡Šä¸»å‹•ä¸Ÿå‡ºéŒ¯èª¤æ‰æœƒé€²å…¥ rejectï¼Œé€²åˆ° catch å€å¡Š ç”¨ catch finally è™•ç†å¥½æ²’æœ‰è³‡æ–™æ™‚è¦å‘ˆç¾çš„ç•«é¢  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38  const getCountryData = function (country) { fetch(`https://restcountries.com/v2/name/${country}`) .then(response =\u0026gt; { console.log(response) // ç¬¬ä¸€å€‹éŒ¯èª¤è™•ç† status = 404, ok =false  if(!response.ok) throw new Error(`Country not found (${response.status})`) // æ²’æœ‰é€™å€‹msg å°±æœƒrenderå‡ºä¾†\u0026#39;flag\u0026#39; of undefined  return response.json() }) .then(data =\u0026gt; { renderCountry(data[0]) // const neighbour = data[0].borders[0]  // ç”¨ä¸å­˜åœ¨çš„åœ‹å®¶æ¨¡æ“¬networkç„¡æ³•æŠ“å–è³‡æ–™ç‹€æ³  const neighbour = \u0026#39;123123\u0026#39; if(!neighbour) return // è«‹æ±‚æœƒè¢«reject  return fetch(`https://restcountries.com/v2/name/${neighbour}`) }) .then(response =\u0026gt; { if(!response.ok) { throw new Error(`Country not found (${response.status})`) } return response.json() }) .then(data = \u0026gt; renderCountry(data, \u0026#39;neighbour\u0026#39;)) .catch(err =\u0026gt; { console.log(err) renderError(`something is wrong ${err.message}`) }) .finally(()=\u0026gt; { countriesContainer.style.opacity = 1 }) }    é‡è¤‡ fetch çš„ code å¯ä»¥ç²¾ç°¡æˆä¸€å€‹å‡½å¼  1 2 3 4 5 6 7 8 9  const getJSON = function (url, errMsg = \u0026#39;something went wrong\u0026#39;) { fetch(url).then((response) =\u0026gt; { if (!response.ok) { throw new Error(`${errorMsg}${response.status}`) return response.json() } }) }    æ”¹å¯« function è·ŸåŠ ä¸Šè™•ç†æ²’æœ‰é„°åœ‹çš„åœ‹å®¶  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  const getCountryData = function (country) { getJSON( `https://restcountries.com/v2/name/${country}`, \u0026#39;Country not found\u0026#39; ) .then(data =\u0026gt; { renderCountry(data[0]) const neighbour = data[0].borders[0] // æ²’æœ‰é„°åœ‹çš„ç‹€æ³ä¹Ÿä¸ŸéŒ¯èª¤  if(!neighbour) { throw new Error(\u0026#39;no neighbour found!\u0026#39;) } return getJSON(` https://restcountries.com/v2/name/${neighbour}`, \u0026#39;Country not found\u0026#39; ) }) .then(data = \u0026gt; renderCountry(data, \u0026#39;neighbour\u0026#39;)) .catch(err =\u0026gt; { console.log(err) renderError(`${err.message}`) }) .finally(()=\u0026gt; { countriesContainer.style.opacity = 1 }) }   å°ç·´ç¿’ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  const whereAmI = function (lat, lng) { fetch(`https://geocode.xyz/${lat},${lng}?geoit=json`) .then((res) =\u0026gt; { if (!res.ok) throw new Error(`Problem with geocoding ${res.status}`) return res.json() }) .then((data) =\u0026gt; { console.log(`You are in ${data.city}, ${data.country}`) return fetch(`https://restcountries.eu/rest/v2/name/${data.country}`) }) .then((res) =\u0026gt; { if (!res.ok) throw new Error(`Country not found (${res.status})`) return res.json() }) .then((data) =\u0026gt; renderCountry(data[0])) .catch((err) =\u0026gt; console.error(`${err.message}`)) } whereAmI(52.508, 13.381) whereAmI(19.037, 72.873)   Promise èˆ‡ Event loop  Promise å›å‚³çµæœæœƒé€²åˆ° Micro task queueï¼Œåœ¨ Event loop æœƒæ¯”ä¸€èˆ¬ callback (é€²åˆ° Callback queue) å„ªå…ˆè™•ç† Promise.resolve(\u0026lsquo;è¦ pass çš„ value\u0026rsquo;)æ˜¯ä¸€å€‹é¦¬ä¸ŠåŸ·è¡Œ resolve çš„éœæ…‹æ–¹æ³• Promise.reject(new Error(\u0026lsquo;reject çš„å…§å®¹\u0026rsquo;))æ˜¯ä¸€å€‹é¦¬ä¸ŠåŸ·è¡Œ resolve çš„éœæ…‹æ–¹æ³•  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  console.log(\u0026#39;Test start\u0026#39;) setTimeout(() =\u0026gt; console.log(\u0026#39;0 sec timer\u0026#39;), 0) Promise.resolve(\u0026#39;Resolved Promise 1\u0026#39;).then((data) =\u0026gt; console.log(data)) // heavy task Promise.resolve(\u0026#39;Resolved Promise 2\u0026#39;).then((data) =\u0026gt; { for (let i = 0; i \u0026lt; 10000000; i++) { console.log(data) } }) console.log(\u0026#39;Test end\u0026#39;) // \u0026#39;Test start\u0026#39; // \u0026#39;Test end\u0026#39; // \u0026#39;Resolved Promise 1\u0026#39; // \u0026#39;Resolved Promise 2\u0026#39; // \u0026#39;0 sec timer\u0026#39;   æ‰“é€ ä¸€å€‹ Promise(éä¾†è‡ª fetch çµæœ)  å‰µé€ ä¸€å€‹å‡½å¼ï¼Œå‘¼å«å¾Œéš¨æ©Ÿå›å‚³ resolve æˆ– reject(æ‰‹å‹•æ‹‹å‡ºéŒ¯èª¤) èˆŠçš„ callback functionï¼Œç”¨ Promise ä¾†åŒ…è£ç•°æ­¥è™•ç†é¿å… callback hell  1 2 3 4 5 6 7 8 9 10 11 12 13  const lotteryPromise = new Promise(function (resolve, reject) { setTimeout(function () { if (Math.random() \u0026gt;= 0.5) { resolve(\u0026#39;You win\u0026#39;) } else { reject(new Error(\u0026#39;You lose\u0026#39;)) } }, 5000) }) lotteryPromise .then((data) =\u0026gt; console.log(data)) .catch((err) =\u0026gt; console.err(err))   Promise åŒ…è£ setTimeout  å‚³çµ¦ wait ç§’æ•¸è¨­å®šå¤šä¹…å›å‚³ Promiseï¼Œè£¡é¢æ˜¯ä¸€å€‹ Promiseï¼Œå› ç‚º setTImeout ä¸æœƒå¤±æ•—åªæœƒ resolve  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  const wait = function (seconds) { return new Promise(function (resolve) { // æ²’æœ‰è¦å‚³å…¥resolve value ï¼Œè¦ä¸è¦å›å‚³valueéå¼·åˆ¶  setTimeout(resolve, seconds * 1000) }) } wait(1) .then(() =\u0026gt; { console.log(\u0026#39;1 sec passed\u0026#39;) return wait(1) }) .then(() =\u0026gt; { console.log(\u0026#39;another 1 sec passed\u0026#39;) return wait(1) }) .then(() =\u0026gt; { console.log(\u0026#39;another 1 sec passed\u0026#39;) })   Promise åŒ…è£ geolocation callback 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  // sync const getPosition = function () { return new Promise(function (resolve, reject) { // navigator.geolocation.getCurrentPosition(  // // if allow  // (position) =\u0026gt; console.log(position),  // // not allow  // (err) =\u0026gt; console.error(err)  // )  navigator.geolocation.getCurrentPosition(resolve, reject) }) } getPosition().then((pos) =\u0026gt; console.log(pos)) // GeolocationPositionÂ {coords: GeolocationCoordinates, timestamp: 1650122094727} // coordsè£¡é¢æœ‰lat lng   Promise ç·´ç¿’  const whereAmI = function (lat, lng)å¤–éƒ¨åƒæ•¸æ”¹ç”¨ fetch å–å¾—  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  const getPosition = function () { return new Promise(function (resolve, reject) { navigator.geolocation.getCurrentPosition(resolve, reject) }) } const whereAmI = function () { getPosition() .then((pos) =\u0026gt; { const { latitude: lat, longitude: lng } = pos.coords return fetch(`https://geocode.xyz/${lat},${lng}?geoit=json`) }) .then((res) =\u0026gt; { if (!res.ok) throw new Error(`Problem with geocoding ${res.status}`) return res.json() }) .then((data) =\u0026gt; { console.log(data) console.log(`You are in ${data.city}, ${data.country}`) return fetch(`https://restcountries.eu/rest/v2/name/${data.country}`) }) .then((res) =\u0026gt; { if (!res.ok) throw new Error(`Country not found (${res.status})`) return res.json() }) .then((data) =\u0026gt; renderCountry(data[0])) .catch((err) =\u0026gt; console.error(`${err.message}`)) } btn.addEventListener(\u0026#39;click\u0026#39;, whereAmI)   æ‰“é€  2 ç§’æ›åœ–åŠŸèƒ½ 1 2 3 4  \u0026lt;!-- html --\u0026gt; \u0026lt;main class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;images\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/main\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52  // js const imgContainer = document.querySelector(\u0026#39;.images\u0026#39;) const wait = function (sec) { return new Promise(function (resolve) { setTimeout(resolve, seconds * 1000) }) } const createImage = function (imgPath) { return new Promise(function (resolve, reject) { const img = document.createElement(\u0026#39;img\u0026#39;) img.src = imgPath // load event means success  img.addEventListener(\u0026#39;load\u0026#39;, function () { imgContainer.append(img) // å›å‚³htmlå…ƒç´   resolve(img) }) // not success  img.addEventListener(\u0026#39;error\u0026#39;, function () { reject(new Error(\u0026#39;image not found\u0026#39;)) }) }) } let currentImg // å› ç‚ºthenä¸åŒå€å¡Šä¸åœ¨åŒä¸€å€‹function scope // global var æ‰æœ‰è¾¦æ³•éš±è—è·Ÿå¾ŒçºŒæ›´æ–°ç¬¬äºŒå€‹åœ–ç‰‡ // ä¸‹è¼‰åœ–ç‰‡ï¼ŒæŒ‡å®šåˆ°å°æ‡‰srcï¼Œæ’å…¥åœ–ç‰‡åˆ°ç•«é¢ createImage(\u0026#39; https://picsum.photos/500/300\u0026#39;) .then((img) =\u0026gt; { currentImg = img console.log(\u0026#39;image 1 loaded\u0026#39;) // timer è¨ˆæ™‚2ç§’ï¼Œå®Œæˆå¾Œå›å‚³1å€‹Promise  return wait(2) }) .then(() =\u0026gt; { // éš±è—  currentImg.style.display = \u0026#39;none\u0026#39; // ä¸‹è¼‰åœ–ç‰‡ï¼ŒæŒ‡å®šåˆ°å°æ‡‰srcï¼Œæ’å…¥åœ–ç‰‡åˆ°ç•«é¢  return createImage(\u0026#39;https://picsum.photos/500/300\u0026#39;) }) .then((img) =\u0026gt; { currentImg = img console.log(\u0026#39;Image 2 loaded\u0026#39;) // timer è¨ˆæ™‚2ç§’ï¼Œå®Œæˆå¾Œå›å‚³1å€‹Promise  return wait(2) }) .then(() =\u0026gt; { currentImg.style.display = \u0026#39;none\u0026#39; }) .catch((err) =\u0026gt; console.error(err))   async await(ES7)  æ˜¯ Promise then çš„èªæ³•ç³–ï¼Œç”¨ä¾†è™•ç†éåŒæ­¥æµç¨‹ asyncå‘¼å«å¾Œä¸€æ¨£æœƒå›å‚³ä¸€å€‹ Promiseï¼Œä½†å¯è®€æ€§æ›´ä½³ æ­é… try catch çµæ§‹è™•ç†éŒ¯èª¤  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45  // fetch(`https://restcountries.eu/rest/v2/name/${country}`).then(res =\u0026gt; console.log(res))  const whereAmI = (async function (country) { // geolocation  try { // é€™é‚Šä¸ç”¨ä¸»å‹•æ‹‹éŒ¯å› ç‚ºfunctionå…§å»ºPromise rejectï¼Œæœƒä¸»å‹•æ‹‹éŒ¯  const position = await getPosition() const { latitude: lat, longitude: lng } = position.coords // reverse geo  const resGeo = await fetch(`https://geocode.xyz/${lat},${lng}?geoit=json`) const dataGeo = await resGeo.json() // fetchæœ‰å•é¡Œæ™‚ä¸»å‹•æ‹‹éŒ¯  if (!resGeo.ok) throw new Error(`Problem getting location data`) // country data  const res = await fetch(`https://restcountries.eu/rest/v2/name/${country}`) // fetchæœ‰å•é¡Œæ™‚ä¸»å‹•æ‹‹éŒ¯  if (!resGeo.ok) throw new Error(`Problem getting location country`) const data = await res.json() renderCountry(data[0]) } catch (err) { console.error(err) renderError(`${err.message}`) } })( // whereAmI()  // .then(data =\u0026gt; console.log(`${data}`))  // .catch(error =\u0026gt; console.error(`error.message`))  // .finally(()=\u0026gt; console.log(\u0026#39;finish\u0026#39;))  // æ”¹å¯«æˆasync await  async function () { try { const data = await whereAmI() console.log(data) } catch (error) { console.error(`${error.message}`) } conosle.log(\u0026#39;finish\u0026#39;) } )()   åŒæ™‚è™•ç†å¤šå€‹éåŒæ­¥å‡½å¼  await å¤šå€‹å‡½å¼æ”¾åœ¨é™£åˆ—ä¸­ï¼Œå¹³è¡Œè™•ç†å¾Œå›å‚³çµæœæ–¼ä¸€å€‹é™£åˆ—ä¸­  Promise.all  å…¶ä¸­ä¸€å€‹ rejectï¼ŒPromise.all å°±æœƒ reject  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  const get3Countries = async function ( country1, country2, country3) { try{ // é€™æ¨£å¯«å¤ªå†—ï¼Œæ‰€ä»¥å¾Œä¾†æœ‰äº†Promise.all  // const [data1] = await getJSON(  // `https://restcountries.com/v2/name/${country1}`, \u0026#39;data not found\u0026#39;)  // const [data2] = await getJSON(  // `https://restcountries.com/v2/name/${country2}`, \u0026#39;data not found\u0026#39;)  // const [data3] = await getJSON(  // `https://restcountries.com/v2/name/${country3}`, \u0026#39;data not found\u0026#39;)  const data = await Promise.all([getJSON( `https://restcountries.com/v2/name/${country1}`, \u0026#39;data not found\u0026#39;), getJSON( `https://restcountries.com/v2/name/${country3}`, \u0026#39;data not found\u0026#39;), getJSON( `https://restcountries.com/v2/name/${country2}`, \u0026#39;data not found\u0026#39;)]) console.log(data.map(country =\u0026gt; country[0].capital) } catch(err){ console.error(err) } } get3Countries(\u0026#39;portugal\u0026#39;, \u0026#39;canada\u0026#39;, \u0026#39;tanzania\u0026#39;)   Promise.race  é™£åˆ—ä¸­åªæœƒå‡ºç¾æœ€å…ˆå®Œæˆçš„çµæœ(å¯èƒ½æ˜¯æˆåŠŸæˆ–æ‹’çµ•) ç•¶ä½¿ç”¨è€…ç¶²è·¯ä¸å¥½ï¼Œç­‰å¾…æ™‚é–“å¤ªä¹…å¯ä»¥ç”¨é€™å€‹ reject  1 2 3 4 5 6 7 8  ;(async function () { const res = await Promise.race([ getJSON(`https://restcountries.com/v2/name/italy}`, \u0026#39;data not found\u0026#39;), getJSON(`https://restcountries.com/v2/name/egypt`, \u0026#39;data not found\u0026#39;), ]) console.log(res[0]) })() // åªæœƒæ˜¯italy or egyptå…¶ä¸­ä¸€å€‹å…§å®¹   1 2 3 4 5 6 7 8 9 10 11 12  // è¨ˆæ™‚å™¨ï¼Œè¶…é5ç§’å°±ç™¼å‡ºæ‹’çµ• const timeout = function (second) { return new Promise(function (_, reject) { setTimeout(function () { reject(new Error(\u0026#39;Request too long\u0026#39;)) }, second * 1000) }) } Promise.race([getJSON(`https://restcountries.com/v2/name/italy`), timeout(5)]) .then((res) =\u0026gt; console.log(res[0])) .catch((err) =\u0026gt; console.log(err))   Promise.allSettled  ä¸æœƒå› ç‚ºå…¶ä¸­ä¸€å€‹æ‹’çµ•è€Œå…¨éƒ¨æ‹’çµ•ï¼Œæœƒå›å‚³æ‰€æœ‰çµæœ  1 2 3 4 5 6 7 8 9 10 11 12 13  Promise.allSettled([ Promise.resolve(\u0026#39;Success\u0026#39;), Promise.reject(\u0026#39;Error\u0026#39;), Promise.resolve(\u0026#39;Success\u0026#39;), ]).then((res) =\u0026gt; console.log(res)) v.s. Promise.all([ Promise.resolve(\u0026#39;Success\u0026#39;), Promise.reject(\u0026#39;Error\u0026#39;), Promise.resolve(\u0026#39;Success\u0026#39;), ]).then((res) =\u0026gt; console.log(res))   Promise.any  å¿½ç•¥æ‰€æœ‰æ‹’çµ•çš„çµæœï¼Œå›å‚³ç¬¬ä¸€å€‹æˆåŠŸçš„çµæœ  1 2 3 4 5  Promise.any([ Promise.resolve(\u0026#39;Success\u0026#39;), Promise.reject(\u0026#39;Error\u0026#39;), Promise.resolve(\u0026#39;Success\u0026#39;) ]).then(res =\u0026gt; console.log(res))   2 ç§’æ›åœ–åŠŸèƒ½æ”¹å¯«æˆ async await 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  // ä¸éœ€è¦global var å› ç‚ºéƒ½åœ¨åŒä¸€å€‹function scopeè™•ç† const loadNPause = async function () { try { // load image 1  let img = await createImage(\u0026#39; https://picsum.photos/500/300\u0026#39;) console.log(\u0026#39;image 1 loaded\u0026#39;) await wait(2) img.style.display = \u0026#39;none\u0026#39; // load image 2  img = await createImage(\u0026#39; https://picsum.photos/500/300\u0026#39;) console.log(\u0026#39;image 1 loaded\u0026#39;) await wait(2) img.style.display = \u0026#39;none\u0026#39; } catch (err) { console.error(err) } }    æ”¹æˆä¸€é–‹å§‹å°± load æ‰€æœ‰åœ–ç‰‡  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  const loadAll = async function(imgArr){ try{ // createImage è™•ç†å‰µå»ºå…ƒç´ ï¼ŒæŒ‡å®šåˆ°åœ–ç‰‡è·¯å¾‘åˆ°å°æ‡‰srcï¼Œæ’å…¥åœ–ç‰‡åˆ°ç•«é¢ï¼Œä¸¦å›å‚³å‰µå»ºçš„imgå…ƒç´   const imgs = imgArr.map(async img =\u0026gt; await createImage(img)) console.log(imgs) // [Promise, Promise, Promise]  // ç­‰åˆ°æ‰€æœ‰çš„å…ƒç´ éƒ½å®Œæˆï¼Œå­˜åˆ°imgsEl  const imgsEl = await Promise.all(imgs) console.log(imgsEl) // [img, img, img] ä¸‰å€‹imgå…ƒç´   // imgå…ƒç´ åŠ ä¸Šæ¨£å¼  imgsEl.forEach(img.classList.add(\u0026#39;parallel\u0026#39;)) } catch(err){ console.error(err) } } loadAll([ \u0026#39;https://picsum.photos/500/300\u0026#39;, \u0026#39;https://picsum.photos/500/300\u0026#39;, \u0026#39;https://picsum.photos/500/300\u0026#39; ])   ä»¥ä¸Šç‚ºThe Complete JavaScript Course - From Zero to Expertçš„å°ç­†è¨˜ï¼Œé™„ä¸Šé€£çµæ¨æ¨é€™å ‚èª²\n","date":"2022-04-24T00:00:00+08:00","image":"https://bacnotes.github.io/p/async-javascript/pexels-uzunov-rostislav-10458835_hu3d03a01dcc18bc5be0e67db3d8d209a6_456140_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/async-javascript/","title":"éåŒæ­¥ JavaScript çŸ¥è­˜ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"navigator.geolocation.getCurrentPosition()  ç¬¬ä¸€å€‹åƒæ•¸æ˜¯å…è¨±ç²å–åŸ·è¡Œçš„å‡½å¼ ç¬¬äºŒå€‹åƒæ•¸æ˜¯ä¸å…è¨±ç²å–æ™‚åŸ·è¡Œçš„å‡½å¼  1 2 3 4 5 6 7 8 9  navigator.geolocation.getCurrentPosition( function (position) { const { latitude, longitude } = position.coords // console.log(`https://www.google.com/maps/@${latitude},${longitude}`)  }, function () { alert(\u0026#39;could not get your position\u0026#39;) } )   Leaflat  ç¬¬ä¸‰æ–¹åœ°åœ–å‡½å¼åº«ï¼ŒCDN æˆ– npm ä¸‹è¼‰ ä»¥ CDN ç‚ºä¾‹  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  // æ”¾åœ¨headå€å¡Šçš„è¨˜å¾—æ­é…defer ä¸‹è¼‰åŸ·è¡Œé †åºå¾ˆé‡è¦ \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://unpkg.com/leaflet@1.8.0/dist/leaflet.css\u0026#34; integrity=\u0026#34;sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ==\u0026#34; crossorigin=\u0026#34;\u0026#34; /\u0026gt; \u0026lt;script defer src=\u0026#34;https://unpkg.com/leaflet@1.8.0/dist/leaflet.js\u0026#34; integrity=\u0026#34;sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ==\u0026#34; crossorigin=\u0026#34;\u0026#34; \u0026gt;\u0026lt;/script\u0026gt; \u0026lt;!-- éœ€è¦ä¸Šæ–¹å‡½å¼åº«æ‰èƒ½åŸ·è¡Œä¸‹æ–¹åŠŸèƒ½ --\u0026gt; \u0026lt;script defer src=\u0026#34;script.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt;   åˆå§‹åŒ–åœ°åœ–èˆ‡é»æ“Šæ’å…¥åº§æ¨™  L.map å…§å‚³å…¥çš„å­—ä¸²è¦æ˜¯ html å…ƒç´ çš„ id ï¼Œä»¥æŸ¥æ‰¾ html å…ƒç´ çš„ä½ç½®\u0026lt;div id=\u0026quot;map\u0026quot;\u0026gt;\u0026lt;/div\u0026gt; L æ˜¯ Leaflat çš„ä¸»è¦çš„ function çš„ entry pointï¼Œä¹Ÿæ˜¯å…¨åŸŸè®Šæ•¸ï¼Œå…¶ä»–è¼ƒæ™šä¸‹è¼‰çš„ script ä¹Ÿå¯ä»¥å‘¼å«ä»– éœ€è¦è¨­ç½® event handler è™•ç†é»æ“Šäº‹ä»¶ï¼Œä½†æˆ‘å€‘ä¸çŸ¥é“é»æ“Šç•«é¢æ™‚å°æ‡‰çš„ GPS ä½ç½®ï¼Œåªæœ‰ Leaflat çŸ¥é“ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ä»–çš„æ–¹æ³• å¸Œæœ›é»æ“Šå°±æœƒå‡ºç¾ marker ä¸” pop éƒ½æœƒæ‰“é–‹ bindPopup å¯ä»¥å‚³å…¥ä¸€å€‹ç‰©ä»¶ï¼Œæ”¾å…¥ä¸åŒé¸é …  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41  // js if (navigator.geolocation) { navigator.geolocation.getCurrentPosition( function (position) { const { latitude, longitude } = position.coords // console.log(`https://www.google.com/maps/@${latitude},${longitude}`)  const coords = [latitude, longitude] // 13 is zoom  const map = L.map(\u0026#39;map\u0026#39;).setView(coords, 13) // é™¤äº†openstreetmapä¹Ÿå¯å¥—ç”¨å…¶ä»–åœ°åœ– google map æˆ–æ˜¯æ›´æ›é¢¨æ ¼ openstreetmap.fr/hot/{z}/{x}/{y}.png  L.tileLayer(\u0026#39;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\u0026#39;, { attribution: \u0026#39;\u0026amp;copy; \u0026lt;a href=\u0026#34;https://www.openstreetmap.org/copyright\u0026#34;\u0026gt;OpenStreetMap\u0026lt;/a\u0026gt; contributors\u0026#39;, }).addTo(map) // Leaflatæä¾›çš„æ–¹æ³•è·Ÿç‰¹æ®Šäº‹ä»¶  map.on(\u0026#39;click\u0026#39;, function (mapEvent) { // console.log(mapEvent)  const { lat, lng } = mapEvent.latlng L.marker([lat, lng]) .addTo(map) // .bindPopup(\u0026#39;Workout\u0026#39;) // æ‹¿åˆ°Workout popupæ¨£å¼  .bindPopup( L.popup({ maxWidth: 250, minWidth: 100, autoClose: false, closeOnClick: false, className: \u0026#39;running-popup\u0026#39;, }) ) .setPopupContent(\u0026#39;sample text\u0026#39;) .openPopup() }) }, function () { alert(\u0026#39;could not get your position\u0026#39;) } ) }   èª¿æ•´æˆ form è¼¸å…¥å®Œæˆæ‰æœƒæ’å…¥åº§æ¨™  è¡¨å–®æœƒåœ¨ click map æ™‚å‡ºç¾ï¼ŒæŠŠ hidden class æ‹¿æ‰ä¸” focus åœ¨ç¬¬ä¸€å€‹ input enter ä¹Ÿæœƒè§¸ç™¼ submit äº‹ä»¶ï¼Œæœƒåœ¨åœ°åœ–å‰›å‰› click çš„åœ°æ–¹å‡ºç¾åº§æ¨™ï¼Œpopup æ¨£å¼ä¸åŒ å‡ºç¾åº§æ¨™å¾Œè¡¨å–®æ¶ˆå¤±ï¼Œè¡¨å–®å…§å®¹æ¸…ç©º å¯«ç›£è½äº‹ä»¶ï¼Œç•¶åˆ‡æ› running / cycling è¡¨å–®çš„é …ç›®é¡åˆ¥æœƒæ›´æ–°  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60  let map, mapEvent if (navigator.geolocation) { navigator.geolocation.getCurrentPosition( function (position) { const { latitude, longitude } = position.coords // console.log(`https://www.google.com/maps/@${latitude},${longitude}`)  const coords = [latitude, longitude] map = L.map(\u0026#39;map\u0026#39;).setView(coords, 13) L.tileLayer(\u0026#39;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\u0026#39;, { attribution: \u0026#39;\u0026amp;copy; \u0026lt;a href=\u0026#34;https://www.openstreetmap.org/copyright\u0026#34;\u0026gt;OpenStreetMap\u0026lt;/a\u0026gt; contributors\u0026#39;, }).addTo(map) map.on(\u0026#39;click\u0026#39;, function (mapE) { // é»çš„åœ°æ–¹  mapEvent = mapE form.classList.remove(\u0026#39;hidden\u0026#39;) // é¸å–è·é›¢çš„è¡¨å–®å…ƒç´   inputDistance.focus() const { lat, lng } = mapE.latlng }) }, function () { alert(\u0026#39;could not get your position\u0026#39;) } ) } form.addEventListener(\u0026#39;submit\u0026#39;, function (e) { e.preventDefault() // display marker  // mapEventè·Ÿmapçš„è®Šæ•¸éœ€è¦è®Šæˆglobal var  const { lat, lng } = mapEvent.latlng L.marker([lat, lng]) .addTo(map) .bindPopup( L.popup({ maxWidth: 250, minWidth: 100, autoClose: false, closeOnClick: false, className: \u0026#39;running-popup\u0026#39;, }) ) .setPopupContent(\u0026#39;sample text\u0026#39;) .openPopup() // clear input fields  inputDistance.value = inputDuration.value = inputCadence = inputElevation.value = \u0026#39;\u0026#39; }) // åˆ‡æ›é¡åˆ¥å­—æ¨£ï¼Œä¸€å€‹å‡ºç¾æ™‚å¦ä¸€å€‹éš±è— inputType.addEventListener(\u0026#39;change\u0026#39;, function () { inputElevation.closet(\u0026#39;.form__row\u0026#39;).classList.toggle(\u0026#39;form__row--hidden\u0026#39;) inputCadence.closet(\u0026#39;.form__row\u0026#39;).classList.toggle(\u0026#39;form__row--hidden\u0026#39;) })   ä½¿ç”¨ class è¨­è¨ˆ App  design where and how to store data class workout child class running child class cycling   æŠŠå…ˆå‰çš„ function é‡æ§‹æˆ class å¯«æ³• åŠ ä¸Šæ¸²æŸ“ workout åˆ—è¡¨/å‹•æ…‹é¡åˆ¥/æ•˜è¿°åŠ ä¸Šæ™‚é–“è·Ÿ emoji é»æ“Š marker æœƒç§»å‹• marker ç‚ºä¸­å¿ƒ åŠ ä¸Šä¸€å€‹å…¬æœ‰æ–¹æ³•å¤–éƒ¨å¯ä»¥å­˜å– ä½¿ç”¨ localStorage  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299  class Workout { date = new Date() id = Date.now().toString().slice(-10) clicks = 0 constructor(coords, distance, duration) { this.coords = coords // [lat, lng]  this.distance = distance this.duration = duration } _setDescription() { const months = [ \u0026#39;January\u0026#39;, \u0026#39;February\u0026#39;, \u0026#39;March\u0026#39;, \u0026#39;April\u0026#39;, \u0026#39;May\u0026#39;, \u0026#39;June\u0026#39;, \u0026#39;July\u0026#39;, \u0026#39;August\u0026#39;, \u0026#39;September\u0026#39;, \u0026#39;October\u0026#39;, \u0026#39;November\u0026#39;, \u0026#39;December\u0026#39;, ] this.description = `${this.type[0].toUpperCase()}${this.type.slice(1)}on ${ months[this.date.getMonth()] }${this.date.getDate()}` } click(){ this.click++ } } class Running extends Workout { type = \u0026#39;running\u0026#39; constructor(coords, distance, duration, cadence) { super(coords, distance, duration) this.cadence = cadence this.type = \u0026#39;running\u0026#39; this.calcPace() this._setDescription() } calcPace() { // min/km  this.pace = this.duration / this.distance return this.pace } } class Cycling extends Workout { type = \u0026#39;cycling\u0026#39; constructor(coords, distance, duration, elevationGain) { super(coords, distance, duration) this.elevationGain = elevationGain this.type = \u0026#39;cycling\u0026#39; this.calcSpeed() this._setDescription() } calcSpeed() { // km/h  this.speed = this.distance / (this.duration / 60) return this.speed } } const run1 = new Running([39, -12], 5.2, 24, 178) const cyc1 = new Running([39, -12], 5.2, 24, 178) // console.log(run1, cyc1)  class App { #map #mapZoomLevel, = 13 #mapEvent #workouts = [] constructor() { // global varè®Šæˆç§æœ‰property  this._getPosition() // get data from localStorage  this._getLocalStorage() // event listenerçš„thisæœƒæŒ‡å‘ç›£è½çš„formæœ¬èº«ï¼Œéœ€è¦ç¶å®šæˆappæœ¬èº«  form.addEventListener(\u0026#39;submit\u0026#39;, this._newWorkOut.bind(this)) // æ¨£å¼è®Šæ›´æ²’æœ‰è·Ÿäº‹ä»¶è™•ç†æœ‰é—œï¼Œæ‰€ä»¥ä¸ç”¨æ“”å¿ƒthisæŒ‡å‘  inputType.addEventListener(\u0026#39;change\u0026#39;, this._toggleElevationField) containerWorkouts.addEventListener(\u0026#39;click\u0026#39;, this._moveToPopup.bind(this)) } _getPosition() { if (navigator.geolocation) { // ç¶å®šthis æ‰ä¸æœƒå› ç‚ºä¸€èˆ¬å‡½å¼å‘¼å«è€Œè®“thisè®Šæˆundefined  navigator.geolocation.getCurrentPosition( this._loadMap.bind(this), function () { alert(\u0026#39;could not get your position\u0026#39;) } ) } } _loadMap(position) { const { latitude, longitude } = position.coords // console.log(`https://www.google.com/maps/@${latitude},${longitude}`)  const coords = [latitude, longitude] this.#map = L.map(\u0026#39;map\u0026#39;).setView(coords, this.#mapZoomLevel,) L.tileLayer(\u0026#39;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\u0026#39;, { attribution: \u0026#39;\u0026amp;copy; \u0026lt;a href=\u0026#34;https://www.openstreetmap.org/copyright\u0026#34;\u0026gt;OpenStreetMap\u0026lt;/a\u0026gt; contributors\u0026#39;, }).addTo(this.#map) // thisæœƒè®Šæˆevent handlerç›£è½çš„å°è±¡ä¹Ÿå°±æ˜¯map  this.#map.on(\u0026#39;click\u0026#39;, this._showForm.bind(this)) this.#workouts.forEach(work =\u0026gt; { this._renderWorkoutMarker(work) }) } _showForm() { this.#mapEvent = mapE form.classList.remove(\u0026#39;hidden\u0026#39;) // é¸å–è·é›¢çš„è¡¨å–®å…ƒç´   inputDistance.focus() const { lat, lng } = mapE.latlng } _hideForm() { inputDistance.value = inputDuration.value = inputCadence = inputElevation.value = \u0026#39;\u0026#39; form.style.display = \u0026#39;none\u0026#39; form.classList.add(\u0026#39;hidden\u0026#39;) setTimeout(() =\u0026gt; form.style.display = \u0026#39;grid\u0026#39;, 1000) } _toggleElevationField() { inputElevation.closet(\u0026#39;.form__row\u0026#39;).classList.toggle(\u0026#39;form__row--hidden\u0026#39;) inputCadence.closet(\u0026#39;.form__row\u0026#39;).classList.toggle(\u0026#39;form__row--hidden\u0026#39;) } _newWorkout(e) { // rest parameter  const validInputs = (...inputs) =\u0026gt; inputs.every((input) =\u0026gt; Number.isFinite(input)) const allPositive = (...inputs) =\u0026gt; inputs.every((input) =\u0026gt; input \u0026gt; 0) e.preventDefault() // get data from form  const type = inputType.value const distance = Number(inputDistance.value) const duration = Number(inputDuration.value) const { lat, lng } = this.#mapEvent.latlng let workout // if running, create running obj  if (type === \u0026#39;running\u0026#39;) { const cadence = Number(inputCadence.value) if ( !validInputs(distance, duration, cadence) || !allPositive(distance, duration, cadence) ) return alert(\u0026#39;input is not a positive number\u0026#39;) workout = new Running([lat, lng], distance, duration, cadence) } // if cycling, create cycling obj  if (type === \u0026#39;cycling\u0026#39;) { const elevation = Number(inputElevation.value) if ( !validInputs(distance, duration, elevation) || !allPositive(distance, duration) ) return alert(\u0026#39;input is not a positive number\u0026#39;) workout = new Cycling([lat, lng], distance, duration, elevation) } // add new obj to new array  this.#workouts.push(workout) // render on map as marker  this._renderWorkoutMarker(workout) // hide forms, clear input fields  this._renderWorkout(workout) // clear input fields  this._hideForm() // set data to localStorage  this._setLocalStorage() } // ç‚ºäº†åŠ å…¥é¡å‹çš„åƒæ•¸ è€Œæ”¾åˆ°å¤–å±¤  _renderWorkoutMarker(workout) { L.marker(workout.coords) .addTo(this.#map) .bindPopup( L.popup({ maxWidth: 250, minWidth: 100, autoClose: false, closeOnClick: false, className: `${workout.type}-popup`, }) ) .setPopupContent(`${workout.type === \u0026#39;running\u0026#39; ? \u0026#39;ğŸƒâ€â™‚ï¸\u0026#39; : \u0026#39;ğŸš´â€â™€ï¸\u0026#39;}${workout.description}`) .openPopup() } _renderWorkout(workout) { let html = ` \u0026lt;li class=\u0026#34;workout workout--${workout.name}\u0026#34; data-id=\u0026#34;${workout.id}\u0026#34;\u0026gt; \u0026lt;h2 class=\u0026#34;workout__title\u0026#34;\u0026gt;${workout.description}\u0026lt;/h2\u0026gt; \u0026lt;div class=\u0026#34;workout__details\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;workout__icon\u0026#34;\u0026gt;${ workout.type === \u0026#39;running\u0026#39; ? \u0026#39;ğŸƒâ€â™‚ï¸\u0026#39; : \u0026#39;ğŸš´â€â™€ï¸\u0026#39; }\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;workout__value\u0026#34;\u0026gt;${workout.distance}\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;workout__unit\u0026#34;\u0026gt;km\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;workout__details\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;workout__icon\u0026#34;\u0026gt;â±\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;workout__value\u0026#34;\u0026gt;${workout.duration}\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;workout__unit\u0026#34;\u0026gt;min\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; ` if (workout.type === \u0026#39;running\u0026#39;) { html += ` \u0026lt;div class=\u0026#34;workout__details\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;workout__icon\u0026#34;\u0026gt;âš¡ï¸\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;workout__value\u0026#34;\u0026gt;${workout.pace.toFixed(1)}\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;workout__unit\u0026#34;\u0026gt;min/km\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;workout__details\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;workout__icon\u0026#34;\u0026gt;ğŸ¦¶ğŸ¼\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;workout__value\u0026#34;\u0026gt;${workout.cadence}\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;workout__unit\u0026#34;\u0026gt;spm\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/li\u0026gt; ` } if (workout.type === \u0026#39;cycling\u0026#39;) html += ` \u0026lt;div class=\u0026#34;workout__details\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;workout__icon\u0026#34;\u0026gt;âš¡ï¸\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;workout__value\u0026#34;\u0026gt;${workout.speed.toFixed(1)}\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;workout__unit\u0026#34;\u0026gt;km/h\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;workout__details\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;workout__icon\u0026#34;\u0026gt;â›°\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;workout__value\u0026#34;\u0026gt;${workout.elevationGain}\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;workout__unit\u0026#34;\u0026gt;m\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/li\u0026gt; ` form.insertAdjacentHTML(\u0026#39;afterend\u0026#39;, html) } _moveToPopup(e) { // catch id  const workoutElement = e.target.closet(\u0026#39;.workout\u0026#39;) // console.log(workoutElement)  if(!workoutElement) return const workout = this.#workouts.find(work =\u0026gt; work.id === workoutElement.dataset.id) this.#map.setView(workout.coords, this.#mapZoomLevel, { animate: true, pan: { duration: 1 } }) // using the public interface  // workout.clicks()  } _setLocalStorage() { // å­—ä¸²åŒ–æœƒå¤±å»prototype chainè·Ÿæ–¹æ³•  localStorage.setItem(\u0026#39;workouts\u0026#39;, JSON.stringify(this.#workouts)) } _getLocalStorage(){ const data = JSON.parse(localStorage.getItem(\u0026#39;workouts\u0026#39;)) if(!data) return this.#workouts = data this.#workouts.forEach(work =\u0026gt; { this._renderWorkout(work) }) } // å…¬é–‹æ–¹æ³• åˆªé™¤localStorageè³‡æ–™  reset(){ localStorage.removeItem(\u0026#39;workouts\u0026#39;) location.reload() } } const app = new App()   ä»¥ä¸Šç‚ºThe Complete JavaScript Course - From Zero to Expertçš„å°ç­†è¨˜ï¼Œé™„ä¸Šé€£çµæ¨æ¨é€™å ‚èª²\n","date":"2022-04-23T00:00:00+08:00","image":"https://bacnotes.github.io/p/map-geolocation/pexels-aksonsat-uanthoeng-1078850_hu3d03a01dcc18bc5be0e67db3d8d209a6_3502289_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/map-geolocation/","title":"é—œæ–¼åœ°ç†ä½ç½®APIï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"è‹¥æ²’æœ‰æ“ä½œé DOM å¯ä»¥å…ˆé–±è®€ DOM æ“ä½œåŸºç¤çŸ¥è­˜è¤‡ç¿’\nNode ç¯€é»  æ¯ä¸€å€‹ Dom tree çš„å…ƒç´ éƒ½æ˜¯ä¸€å€‹ Node æ‰€æœ‰ HTML å…ƒç´ å¯ä»¥é€éç¹¼æ‰¿å–å¾—çˆ¶ç¯€é»æ–¹æ³•(.addEventListener(), .cloneNode(), closet()) :root åŒ documentElement åŒ html  å±¬æ€§  node.textContent è¡¨ç¤ºæ­¤ç¯€é»æˆ–å…¶å¾Œä»£çš„æ–‡å­—å…§å®¹ node.childNodes æ­¤ç¯€é»çš„æ‰€æœ‰å­ç¯€é» node.parentNode è¡¨ç¤ºæ­¤ç¯€é»çš„çˆ¶ç¯€é»  æ–¹æ³•  node.cloneNode() å›å‚³å‘¼å«æ­¤æ–¹æ³•ä¹‹ç¯€é»ç‰©ä»¶çš„æ‹·è²  4 ç¨®é¡å‹  element: å¯ä»¥ä½¿ç”¨.querySelector(), .classList() ç­‰æ–¹æ³• text: å…ƒç´ è£¡é¢çš„æ–‡å­— comment:  document: querySelector(), .createElement() event target æ˜¯æ‰€æœ‰ç¯€é»çš„ parent nodeï¼Œä¸‹é¢æœ‰ä¸€å€‹ window nodeï¼Œè®“ä¸åŒé¡å‹çš„ nodeï¼ŒåŒ…å« element è·Ÿ document éƒ½å¯ä»¥ç›£è½äº‹ä»¶   element è·Ÿ document éƒ½å¯ä»¥ä½¿ç”¨.querySelector()  å…ƒç´  é¸å–å…ƒç´    ç¾ä»£ é¸å–å–®å€‹å…ƒç´  document.querySelector(selector)\n  ç¾ä»£ é¸å–å¤šå€‹å…ƒç´  document.querySelectorAll(selector)\n  æ—©æœŸ é¸å–å–®å€‹å…ƒç´  document.getElementById(id)\n  æ—©æœŸ é¸å–å¤šå€‹å…ƒç´  document.getElementsByTagName(tagName)\n  æ—©æœŸ é¸å–å¤šå€‹å…ƒç´  document.getElementsByClassName(name)\n  é¸å–å…ƒç´ å…§çš„ HTML çµæ§‹ element.innerHTML\n  é¸å–å…ƒç´ å…§çš„å¯è¦‹æ–‡å­— element.innerText\n  é¸å–å…ƒç´ å…§çš„æ‰€æœ‰æ–‡å­—(åŒ…å«ç©ºç™½) element.textContent\n  å‰µé€ èˆ‡æ’å…¥å…ƒç´   å‰µé€ èˆ‡æ’å…¥å…ƒç´  element.insertAdjacentHTML(positionName, htmlText) positionName åŒ…å«ï¼š  \u0026lsquo;beforebegin\u0026rsquo;: åœ¨ element ä¹‹å‰ \u0026lsquo;afterbegin\u0026rsquo;: åœ¨ element è£¡é¢ï¼Œç¬¬ä¸€å€‹å­å…ƒç´ ä¹‹å‰ \u0026lsquo;beforeend\u0026rsquo;: åœ¨ element è£¡é¢ï¼Œæœ€å¾Œä¸€å€‹å­å…ƒç´ ä¹‹å¾Œ \u0026lsquo;afterend\u0026rsquo;: åœ¨ element ä¹‹å¾Œ    1 2 3 4 5 6 7 8 9 10 11  \u0026lt;body\u0026gt; \u0026lt;ul id=\u0026#34;list\u0026#34;\u0026gt; \u0026lt;li\u0026gt;CSS\u0026lt;/li\u0026gt; // will add here \u0026lt;/ul\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;script\u0026gt; const list = document.querySelector(\u0026#39;#list\u0026#39;) list.insertAdjacentHTML(\u0026#39;afterbegin\u0026#39;, \u0026#39;\u0026lt;li\u0026gt;HTML\u0026lt;/li\u0026gt;\u0026#39;) \u0026lt;/script\u0026gt;    å‰µé€ å…ƒç´  document.createElement(\u0026lsquo;å…ƒç´ é¡å‹\u0026rsquo;) æ’å…¥å…ƒç´ åœ¨ element è£¡é¢ç¬¬ä¸€å€‹ element.prepend(å…ƒç´ ) æ’å…¥å…ƒç´ åœ¨ element è£¡é¢æœ€å°¾å·´ element.append(å…ƒç´ ) æ’å…¥å…ƒç´ å¹³è¡Œ element å‰é¢ element.before(å…ƒç´ ) æ’å…¥å…ƒç´ å¹³è¡Œ element å¾Œé¢ element.after(å…ƒç´ )  1 2 3 4 5 6 7 8 9 10 11 12 13 14  const header = document.querySelector(\u0026#39;.header\u0026#39;) const message = document.createElement(\u0026#39;div\u0026#39;) message.classList.add(\u0026#39;cookie-message\u0026#39;) message.innerHTML = `we use cookie for ... and .... \u0026lt;button class=\u0026#34;btn btn--close-cookie\u0026#34;\u0026gt;Got it\u0026lt;/button\u0026gt; ` header.prepend(message) header.append(message) // è‹¥å…ˆprependå¾Œappendåªæœƒæœ‰ä¸€å€‹å­˜åœ¨ï¼Œå› ç‚ºæŒ‡ç¨±çš„å…ƒç´ æ˜¯å”¯ä¸€çš„ï¼Œå¸Œæœ›ä¸Šä¸‹éƒ½æœ‰æ–°å¢éœ€è¦ç”¨cloneçš„æ–¹å¼ï¼Œtrueä»£è¡¨å­ç¯€é»éƒ½æœ‰copy header.append(message.cloneNode(true)) header.before(message) header.after(message)   åˆªé™¤å…ƒç´   åˆªé™¤å…ƒç´  element.remove() åˆªé™¤ç¯€é»ä¸‹å­å…ƒç´  node.removeChild()  1 2 3 4  document.querySelector(\u0026#39;.btn--close-cookie\u0026#39;).addEventListener(\u0026#39;click\u0026#39;, () =\u0026gt; { // message.remove()  message.parentElement.removeChild(message) })   class æ¨£å¼ å–å¾— class æ¨£å¼  å…ƒç´ .style.å±¬æ€§å  1 2 3  console.log(message.style.color) // rgb(55, 55, 55) // ç„¡æ³•å–å¾—æ²’æœ‰å®šç¾©ï¼Œè¢«éš±è—ï¼Œæˆ–ä¸å­˜åœ¨æ–¼classè£¡é¢çš„å±¬æ€§ console.log(message.style.height) //    getComputedStyle(å…ƒç´ ).å±¬æ€§  1 2 3 4 5  console.log(getComputedStyle(message).color) // rgb(187, 187, 187) console.log(getComputedStyle(message).height) // 43.55px  message.style.height = Number.parseFloat(getComputedStyle(message).height, 10) + 30 + \u0026#39;px\u0026#39;   æ–°å¢/åˆ‡æ›/åˆªé™¤/ç¢ºèªæ˜¯å¦æœ‰æ¨£å¼  element.classList.add(\u0026lsquo;hidden\u0026rsquo;) element.classList.toggle(\u0026lsquo;hidden\u0026rsquo;) element.classList.remove(\u0026lsquo;hidden\u0026rsquo;) element.classList.contains(\u0026lsquo;hidden\u0026rsquo;)  è¨­ç½® CSS æ¨£å¼  style.setProperty(propertyName, value, priority)  1 2  // rootå…ƒç´ è¨­ç½®é¡è‰²æ¨£å¼ document.documentElement.style.setProperty(\u0026#39;--color-primary\u0026#39;, \u0026#39;orangered\u0026#39;)   å±¬æ€§ å–å¾—å±¬æ€§  element.getAttribute(attributeName) æœƒå›å‚³è©²ç¶²é å…ƒç´ çš„å±¬æ€§ã€‚ å¦‚æœè©²å±¬æ€§ä¸å­˜åœ¨ï¼Œå…¶å›å‚³å€¼æœƒæ˜¯ null æˆ– \u0026quot;\u0026quot;  1 2 3 4 5 6 7 8 9  const logo = document.querySelector(\u0026#39;nav__logo\u0026#39;) // htmlåªæœ‰å®šç¾© src alt class designerç­‰å±¬æ€§  // not standard attribute ç„¡æ³•ç›´æ¥dot notationå–å¾— console.log(logo.designer) // undefined  // å¯å–å¾—æ¨™æº– / éæ¨™æº–çš„å±¬æ€§ console.log(logo.getAttribute(\u0026#39;designer\u0026#39;)) // Jonas console.log(logo.getAttribute(\u0026#39;src\u0026#39;)) // img/logo.png ç›¸å°   æ–°å¢/åˆ‡æ›/åˆªé™¤/ç¢ºèª å±¬æ€§/å›å‚³å±¬æ€§å€¼  element.setAttribute(name, value) element.toggleAttribute(name) element.removeAttribute(name) element.hasAttribute(name) element.getAttribute(name)  å¢åŠ  data-*å±¬æ€§  html è£¡é¢æ”¾ data-*  1 2 3 4  \u0026lt;img data-version-num=\u0026#34;3\u0026#34; src=\u0026#34;/img/logo.png\u0026#34;\u0026gt; const logo = document.querySelector(\u0026#39;img\u0026#39;) console.log(logo.dataset.versionNum) // 3   ç•«é¢å…ƒç´ å±¬æ€§ å…ƒç´ å¯¬é«˜  scrollWidth/scrollHeight(å« overflow éƒ¨åˆ†) offsetWidth/offsetHeight(å« border/scroll) clientWidth/clientHeight(ä¸å« border/scroll) scrollTop(clientHeight è·Ÿ scrollHeight çš„å·®è·)  å…ƒç´ ç›¸å°æ–¼è¦–çª—çš„ä½ç½®  element.getBoundingClientRect() æœƒå›å‚³ä¸€å€‹ DOMRect ç‰©ä»¶ï¼ŒåŒ…å«  x/left:å…ƒç´ å·¦ä¸Šè§’ x åº§æ¨™ y/top:å…ƒç´ å·¦ä¸Šè§’ y åº§æ¨™ width: å¯¬åº¦ height: é«˜åº¦ right:å…ƒç´ å³ä¸Šè§’ x åº§æ¨™ bottom:å…ƒç´ å³ä¸Šè§’ y åº§æ¨™     IE è·Ÿ Edge æ²’æœ‰ x è·Ÿ y å±¬æ€§ï¼Œä½†æœ‰ left è·Ÿ topï¼Œè¶…å‡ºè¦–çª—ç¯„åœæ™‚ï¼Œæ•¸å€¼å°±æœƒè®Šè²   è¦–çª—æ°´å¹³/å‚ç›´æ»¾å‹•ä½ç½®  window.pageXOffset, window.pageYOffset  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  const btnScrollTo = document.querySelector(\u0026#39;.btn--scroll-to\u0026#39;) const section1 = document.querySelector(\u0026#39;#section--1\u0026#39;) btnScrollTo.addEventListener(\u0026#39;click\u0026#39;, function (e) { const s1coords = section1.getBoundingClientRect() console.log(s1coords) // DOMRect{ \u0026#34;x\u0026#34;: 0,\u0026#34;y\u0026#34;: 169.0908966064453 \u0026#34;width\u0026#34;: 411.81817626953125,\u0026#34;height\u0026#34;: 2953.29541015625,\u0026#34;top\u0026#34;: 169.0908966064453,\u0026#34;right\u0026#34;: 411.81817626953125,\u0026#34;bottom\u0026#34;: 3122.3863067626953,\u0026#34;left\u0026#34;: 0 }  console.log(e.target.getBoundingClientRect()) console.log(\u0026#39;current scroll(x/y)\u0026#39;, window.pageXOffset, pageYOffset) // current scroll(x/y) 0 0  console.log( \u0026#39;height/width viewport\u0026#39;, document.documentElement.clientHeight, document.documentElement.clientWidth ) })   æ»¾å‹•åˆ°æŒ‡å®šå…ƒç´  scrollIntoView æœƒæ»¾å‹•å…ƒç´ çš„çˆ¶å®¹å™¨ï¼Œè®“è¢«èª¿ç”¨ scrollIntoView()çš„å…ƒç´ å¯ä»¥è¢«ä½¿ç”¨è€…å¯ä»¥çœ‹åˆ°ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  const btnScrollTo = document.querySelector(\u0026#39;.btn--scroll-to\u0026#39;) const section1 = document.querySelector(\u0026#39;#section--1\u0026#39;) btnScrollTo.addEventListener(\u0026#39;click\u0026#39;, function (e) { const s1coords = section1.getBoundingClientRect() console.log(s1coords) // DOMRect{ \u0026#34;x\u0026#34;: 0,\u0026#34;y\u0026#34;: 169.0908966064453 \u0026#34;width\u0026#34;: 411.81817626953125,\u0026#34;height\u0026#34;: 2953.29541015625,\u0026#34;top\u0026#34;: 169.0908966064453,\u0026#34;right\u0026#34;: 411.81817626953125,\u0026#34;bottom\u0026#34;: 3122.3863067626953,\u0026#34;left\u0026#34;: 0 }  console.log(e.target.getBoundingClientRect()) console.log(\u0026#39;current scroll(x/y)\u0026#39;, window.pageXOffset, pageYOffset) // current scroll(x/y) 0 0  console.log( \u0026#39;height/width viewport\u0026#39;, document.documentElement.clientHeight, document.documentElement.clientWidth ) // old scroll method: current position+ current scroll  // window.scrollTo({  // left: s1coords.left + window.pageXOffset,  // top: s1coords.top + window.pageYOffset,  // behavior: \u0026#39;smooth\u0026#39;  // })  section1.scrollIntoView({ behavior: \u0026#39;smooth\u0026#39; }) })   äº‹ä»¶é¡å‹è·Ÿäº‹ä»¶è™•ç†å™¨  event.currentTarget æŒ‡å‘äº‹ä»¶ç»‘å®šçš„å…ƒç´  event.target æŒ‡å‘äº‹ä»¶è§¸ç™¼çš„å…ƒç´   é˜»æª”é è¨­äº‹ä»¶  e.preventDefault() a é€£çµè·³è½‰ï¼Œè‹¥ç‚ºé é¢æœƒè‡ªå‹•è·³è½‰åˆ°æŒ‡å®šé é¢ï¼Œè‹¥ç‚ºéŒ¨é»#(a href=\u0026quot;#\u0026quot;)ï¼Œç€è¦½å™¨æ»‘å‹•åˆ°æœ€ä¸Šæ–¹ submit é»æ“Šæœƒé€å‡ºè³‡æ–™ä¸”åˆ·æ–°ç•«é¢  è¨­ç½®æˆ–ç§»é™¤ç›£è½  eventTarget.addEventListener(type, listener, useCapture) eventTarget.removeEventListener(type, listener, useCapture) ç¬¬ä¸€å€‹åƒæ•¸ç‚ºäº‹ä»¶ï¼Œç¬¬äºŒå€‹ç‚ºåŸ·è¡Œ{}å…§å®¹ï¼Œç¬¬ä¸‰å€‹æ˜¯å¦æ•æ‰å†’æ³¡äº‹ä»¶ ç¬¬ä¸‰å€‹åƒæ•¸æ²’æœ‰è¨­å®šæ™‚é è¨­ç‚º false ç›£è½å†’æ³¡äº‹ä»¶ï¼Œè¨­å®šç‚º true ç›£è½æ•æ‰äº‹ä»¶  1 2 3 4 5 6 7 8 9 10  const h1 = document.querySelector(\u0026#39;h1\u0026#39;) const printHi = function (e) { console.log(\u0026#39;Hi\u0026#39;) } h1.addEventListener(\u0026#39;mouseenter\u0026#39;, printHi) // 3ç§’å¾Œç§»é™¤ç›£è½ ä¾¿ç„¡æ³•å†è§¸ç™¼äº‹ä»¶ setTimeout(() =\u0026gt; h1.removeEventListener(\u0026#39;mouseenter\u0026#39;, alertH1, 3000))   äº‹ä»¶æ•ç²èˆ‡äº‹ä»¶å†’æ³¡  é»æ“Šç›®æ¨™å…ƒç´ è§¸ç™¼äº‹ä»¶æ™‚ï¼Œè‹¥å…ƒç´ çˆ¶å±¤ä¹Ÿæœ‰è¨»å†Š click äº‹ä»¶ï¼Œå†’æ³¡éšæ®µæ™‚ä¹Ÿæœƒè§¸ç™¼çˆ¶å±¤ç›¸é—œçš„å‡½å¼  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  // rgb(255, 255, 255) const randomInt = (min, max) =\u0026gt; Math.floor(Math.random() * (max - min + 1) + min) const randomColor = () =\u0026gt; { return `rgb(${randomInt(0, 255)}, ${randomInt(0, 255)}, ${randomInt(0, 255)})` } document.querySelector(\u0026#39;.nav__link\u0026#39;).addEventListener(\u0026#39;click\u0026#39;, function (e) { this.style.backgroundColor = randomColor() console.log(\u0026#39;link\u0026#39;, e.target) console.log(e.currentTarget === this) // true }) document.querySelector(\u0026#39;.nav__links\u0026#39;).addEventListener(\u0026#39;click\u0026#39;, function (e) { this.style.backgroundColor = randomColor() console.log(\u0026#39;container\u0026#39;, e.target) }) document.querySelector(\u0026#39;.nav\u0026#39;).addEventListener(\u0026#39;click\u0026#39;, function (e) { this.style.backgroundColor = randomColor() console.log(\u0026#39;nav\u0026#39;, e.target) })   é˜»æ“‹å†’æ³¡äº‹ä»¶  event.stopPropagation()é˜»æ­¢å†’æ³¡  äº‹ä»¶å§”æ´¾è·Ÿé é¢é é¢å°èˆª  event listener åŠ åˆ°çˆ¶å±¤å®¹å™¨ æ±ºå®šå“ªå€‹å…ƒç´ æœƒè§¸ç™¼äº‹ä»¶  1 2 3 4 5 6 7 8  document.querySelector(\u0026#39;.nav__links\u0026#39;).addEventListener(\u0026#39;click\u0026#39;, function (e) { e.preventDefault() if (e.target.classList.contains(\u0026#39;nav__link\u0026#39;)) { const id = e.target.getAttribute(\u0026#39;href\u0026#39;) console.log(id) // #section--1  document.querySelector(id).scrollIntoView({ behavior: \u0026#39;smooth\u0026#39; }) } })   éæ­· DOM  document è·Ÿ element éƒ½èƒ½ä½¿ç”¨çš„æ–¹æ³•ï¼Œå°±ä¸ç‰¹åˆ¥æ¨™ç¤ºï¼Œè‹¥ç‚º node ç‰¹æœ‰çš„æ–¹æ³•æœƒæ¨™ç¤º node querySelectorAll æœƒå›å‚³æŒ‡å®šçš„é¸æ“‡å™¨åŒ¹é…çš„å…ƒç´ çµ„æˆçš„ NodeListï¼Œä¹Ÿæœƒéæ­·æ·±å±¤çš„ç¯€é»  å¾€å­å±¤éæ­·  node.childNodes() å­ç¯€é»çµ„æˆä¹‹é›†åˆï¼ŒåŒ…å«æ‰€æœ‰é¡å‹ç¯€é» children() å­å±¤ HTML collectionï¼Œåªæœ‰ element é¡å‹ firstElementChild() ç¬¬ä¸€å€‹å…ƒç´  lastElementChild() æœ€å¾Œä¸€å€‹å…ƒç´   1 2 3 4 5 6 7 8  const h1 = document.querySelector(\u0026#39;h1\u0026#39;) console.log(h1.querySelectorAll(\u0026#39;.highlight\u0026#39;)) console.log(h1.childNodes) // è¼ƒå°‘ç”¨ console.log(h1.children) h1.firstElementChild.style.color = \u0026#39;white\u0026#39; h1.lastElementChild.style.color = \u0026#39;orangered\u0026#39;   å¾€çˆ¶å±¤éæ­·  node.parentNode() çˆ¶ç¯€é» node.parentElement() é€šå¸¸è·Ÿä¸Šæ–¹çµæœä¸€æ¨£ï¼Œæ¯”è¼ƒå¸¸ç”¨é€™å€‹ element.closest(selectors): å›å‚³ç¬¦åˆè‡ªèº«æˆ–ä¸Šå±¤ï¼ˆçˆ¶å­æˆ–ç¥–å­«ï¼‰çš„ç¬¬ä¸€å€‹å…ƒç´   1 2 3 4 5 6  const h1 = document.querySelector(\u0026#39;h1\u0026#39;) console.log(h1.parentNode) // è¼ƒå°‘ç”¨ console.log(h1.parentElement) h1.closest(\u0026#39;.header\u0026#39;).style.background = \u0026#39;var(--gradient-secondary)\u0026#39;   å…„å¼Ÿå±¤éæ­·  element.previousElementSibling å…ƒç´ ç›¸åŒç´šåˆ¥çš„å‰ä¸€å€‹å…ƒç´ ï¼Œæ²’æœ‰æœƒå›å‚³ null element.nextElementSibling å…ƒç´ ç›¸åŒç´šåˆ¥çš„å¾Œå€‹å…ƒç´ ï¼Œæ²’æœ‰æœƒå›å‚³ null  1 2 3 4 5 6  const h1 = document.querySelector(\u0026#39;h1\u0026#39;) console.log(h1.previousElementSibling) console.log(h1.nextElementSibling) [...h1.parentElement.children].forEach(function (el) { if (el !== h1) el.style.transform = \u0026#39;scale(0.5)\u0026#39; })   tab æ‡‰ç”¨  å‡è¨­ tab html çµæ§‹ç‚ºä¸‹æ–¹æ¶æ§‹  1 2 3 4 5  \u0026lt;div\u0026gt; \u0026lt;button\u0026gt; \u0026lt;span\u0026gt;01\u0026lt;/span\u0026gt;some text \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  // é»æ“Šçš„tab åŠ ä¸Šactive  const tabs = document.querySelectorAll(\u0026#39;.operations_tab\u0026#39;) const tabsContainer = document.querySelector(\u0026#39;operations__tab-container\u0026#39;) const tabsContent = document.querySelectorAll(\u0026#39;operations__content\u0026#39;) tabsContainer.addEventListener(\u0026#39;click\u0026#39;, function (e) { // ä¸Šæ–¹çµæ§‹ï¼Œclickedå¯«e.target ä¾ç…§é»é¸ä½ç½®å¯èƒ½æœƒåˆ—å°å‡ºspanæˆ–button  // ç”¨closestå¯ä»¥é¸åˆ°buttonè€Œä¸ç”¨æ“”å¿ƒ  const clicked = e.target.closest(\u0026#39;.operations__tab\u0026#39;) // æ²’æœ‰é»åˆ°å°±è¿”å›  if (!clicked) return // é‚„åŸ å–æ¶ˆæ‰€æœ‰activeæ¨£å¼  tabsContent.forEach((el) =\u0026gt; el.classList.remove(\u0026#39;operations__tab--active\u0026#39;)) // åœ¨è¢«é»é¸çš„å…ƒç´ åŠ ä¸Šactive  clicked.classList.add(\u0026#39;operations__tab--active\u0026#39;) // æ‹¿æ‰æ‰€æœ‰å…§å®¹  tabsContent.forEach((el) =\u0026gt; el.classList.remove(\u0026#39;operations__content--active\u0026#39;) ) // é¡¯ç¤ºå°æ‡‰å…§å®¹  document .querySelector(`.operations__content--${clicked.dataset.tab}`) .classList.add(\u0026#39;operations__content--active\u0026#39;) })   å‚³éåƒæ•¸çµ¦äº‹ä»¶è™•ç†å™¨  å¸Œæœ› nav æ²’è¢« hover çš„å…ƒç´ è®Šé€æ˜  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  \u0026lt;nav class=\u0026#39;nav\u0026#39;\u0026gt; \u0026lt;img src=\u0026#39;img/logo.png\u0026#39; alt=\u0026#39;Bankist logo\u0026#39; class=\u0026#39;nav__logo\u0026#39; id=\u0026#39;logo\u0026#39; designer=\u0026#39;Jonas\u0026#39; data-version-number=\u0026#39;3.0\u0026#39; /\u0026gt; \u0026lt;ul class=\u0026#39;nav__links\u0026#39;\u0026gt; \u0026lt;li class=\u0026#39;nav__item\u0026#39;\u0026gt; \u0026lt;a class=\u0026#39;nav__link\u0026#39; href=\u0026#39;#section--1\u0026#39;\u0026gt; Features \u0026lt;/a\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li class=\u0026#39;nav__item\u0026#39;\u0026gt; \u0026lt;a class=\u0026#39;nav__link\u0026#39; href=\u0026#39;#section--2\u0026#39;\u0026gt; Operations \u0026lt;/a\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li class=\u0026#39;nav__item\u0026#39;\u0026gt; \u0026lt;a class=\u0026#39;nav__link\u0026#39; href=\u0026#39;#section--3\u0026#39;\u0026gt; Testimonials \u0026lt;/a\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li class=\u0026#39;nav__item\u0026#39;\u0026gt; \u0026lt;a class=\u0026#39;nav__link nav__link--btn btn--show-modal\u0026#39; href=\u0026#39;#\u0026#39;\u0026gt; Open account \u0026lt;/a\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/nav\u0026gt;    mousein è·Ÿ mouseout å‚³ä¸åŒåƒæ•¸åˆ°ï¼Œmousein é€æ˜åº¦è®Š 0.5ï¼Œmouseout è®Šå› 1  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  // you can log the handleHover(0.1) to see that it returns a function which // has access to the argument(opacity value) passed to handleHover() due to closures const handleHover = function (o) { return function (e) { if (e.target.classList.contains(\u0026#39;nav__link\u0026#39;)) { const link = e.target const siblings = link.closest(\u0026#39;.nav\u0026#39;).querySelectorAll(\u0026#39;.nav__link\u0026#39;) const logo = link.closest(\u0026#39;.nav\u0026#39;).querySelector(\u0026#39;img\u0026#39;) siblings.forEach((el) =\u0026gt; { if (el !== link) el.style.opacity = o }) logo.style.opacity = o } } } nav.addEventListener(\u0026#39;mouseover\u0026#39;, handleHover(0.5)) nav.addEventListener(\u0026#39;mouseover\u0026#39;, handleHover(1))   IntersectionObserver()  const observer = new IntersectionObserver(handleIntersect, options); Intersection Observer API æœƒè¨»å†Šä¸€å€‹ callback functionï¼Œç•¶è¢«ç›£è½çš„å…ƒç´ é€²å…¥/é€€å‡ºå¦ä¸€å€‹å…ƒç´ (æˆ– viewport)ï¼Œæˆ–ç›®æ¨™è·Ÿå…ƒç´ (æˆ– viewport)å…©å€‹å…ƒç´ ç›¸äº¤éƒ¨åˆ†å¤§å°æ”¹è®Šï¼ŒæœƒåŸ·è¡Œ callback functionï¼Œæ¸›å°‘ä¸»è¦çš„åŸ·è¡Œç·’ç›£è½å…ƒç´ çš„ loadingï¼Œçµ¦ç€è¦½å™¨è™•ç† options è£¡é¢æœ‰ rootï¼ˆnull ä»£è¡¨ viewport)ã€rootMargin(ç§»å‹•åˆ°ç›®æ¨™çš„ç›¸å°ä½ç½®)ã€threshold(è¨­å®šç›®æ¨™é€²å…¥å¯è¦‹ç¯„åœå¤šå°‘ç™¾åˆ†æ¯”å¾Œæœƒè§¸ç™¼ï¼Œ1 è¡¨ç¤ºå…ƒç´ å…¨éƒ¨é€²åˆ° viewport æ‰è§¸ç™¼ï¼Œ0.1 è¡¨ç¤ºäº¤ç–Šç›®æ¨™ 10%æ‰è§¸ç™¼ï¼Œ0 è¡¨ç¤ºä¸€ç¢°åˆ°ç›®æ¨™é¦¬ä¸Šè§¸ç™¼) å¯ä»¥é€éconst [entry] = entriesï¼Œå»èª¿ç”¨ entry.target å…ƒç´ åŸ·è¡Œå°æ‡‰æ“ä½œ  1 2 3 4 5 6 7  // é è¨­å€¼ // root Must be the ancestor of the target. Defaults to the browser viewport { root: null, rootMargin: \u0026#34;0px 0px 0px 0px\u0026#34;, threshold: [0] }    å¸¸ç”¨æ–¼ lazy loadingã€ç„¡é™æ»¾å‹•ã€æª¢æ¸¬å»£å‘Šæ›å…‰ã€ä½¿ç”¨è€…çœ‹åˆ°æŸäº›å€åŸŸæ™‚åŸ·è¡Œä»»å‹™æˆ–æ”¾å½±ç‰‡  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  // å±•ç¤ºentriesåƒæ•¸ const obsCallback = function (entries, observer){ entries.forEach(entry =\u0026gt; { console.log(entry) }) } const obsOptions = { root: null, threshold: 0.1 } const observer = new IntersectionObserver(obsCallback, obsOptions){ observer.observe(section1) } window.addEventListener(\u0026#39;scroll\u0026#39;, function (){ })   sticky navbar 1 2 3 4 5  .sticky { position: fixed; background-color: white; opacity: 0.9; }   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  const header = querySelector(\u0026#39;.header\u0026#39;) // å‹•æ…‹è¨ˆç®—navé«˜ const navHeight = nav.getBoundingClientRect().height console.log(navHeight) // function const stickToTop = function (entries) { // Entries is always an array because the options in IntersectionObserver can have multiple thresholds, and for each threshold, there will be an entry in the array, even if there is only one threshold.  const [entry] = entries console.log(entry) if (!entry.isIntersecting) nav.classList.add(\u0026#39;sticky\u0026#39;) else nav.classList.remove(\u0026#39;sticky\u0026#39;) } const obsOptions = { root: null, threshold: 0, // æŠŠè¦–çª—ä¸Šå³ä¸‹å·¦éƒ½å…§ç¸®navHeight px è®“ä½ç½®å¡åœ¨è·é›¢æ–°sectioné€²å…¥å‰çš„navHeight  rootMargin: `-${navHeight}px`, } const headerObserver = new IntersectionObserver(stickToTop, obsOptions) headerObserver.observe(header)   æ»¾å‹•æ™‚åœ–ç‰‡è·³å‡ºé¡¯ç¤º 1 2 3 4 5 6 7 8 9  .hidden { visibility: hidden; opacity: 0; } .section--hidden { opacity: 0; transform: translateY(8rem); }   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  // nodelist const allSections = document.querySelectorAll(\u0026#39;.section\u0026#39;) // callback const revealSection = function (entries, observer) { const [entry] = entries console.log(entry) if (!entry.isIntersecting) return entry.target.classList.remove(\u0026#39;section--hidden\u0026#39;) // for performance  observer.unobserve(entry.target) } const sectionObserver = new IntersectionObserver(revealSection, { root: null, threshold: 0.15, }) allSections.forEach(function (section) { // æ¯å€‹sectionéƒ½åŠ ä¸ŠsectionObserver  sectionObserver.observe(section) // åˆå§‹æ™‚å…ˆå…¨éƒ¨éƒ½éš±è—  section.classList.add(\u0026#39;section--hidden\u0026#39;) })   Lazy Loading 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  const imgTargets = document.querySelectorAll(\u0026#39;img[data-src]\u0026#39;) const loadImg = function (entries, observer) { const [entry] = entries if (!entry.isIntersecting) return // change photo  entry.target.src = entry.target.dataset.src // remove filter  entry.target.addEventListener(\u0026#39;load\u0026#39;, function () { entry.target.classList.remove(\u0026#39;lazy-img\u0026#39;) }) ebserver.unobserve(entry.target) } const imgObserver = new IntersectionObserver(loadImg, { root: null, threshold: 0, // è¦–çª—æ“´å¤§ææ—©è§¸ç™¼ä¸‹è¼‰  rootMargin: \u0026#39;200px\u0026#39;, }) imgTargets.forEach((img) =\u0026gt; imgObserver.observe(img))   ç‡ˆç®± 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83  const slider = function () { const slides = document.querySelectorAll(\u0026#39;.slide\u0026#39;) const btnLeft = document.querySelector(\u0026#39;.slider__btn--left\u0026#39;) const btnRight = document.querySelector(\u0026#39;.slider__btn--right\u0026#39;) const dotsContainer = document.querySelector(\u0026#39;.dots\u0026#39;) let curSlide = 0 const maxSlide = slides.length const slider = document.querySelector(\u0026#39;slider\u0026#39;) // æ–¹ä¾¿èª¿é©ç”¨  // const slider = document.querySelector(\u0026#39;.slider\u0026#39;)  // slider.style.tranform = \u0026#39;scale(0.4) translateX(-800px)\u0026#39;  // slider.style.overflow = \u0026#39;visible\u0026#39;  // function  const createDots = function () { slides.forEach(function (_, i) { dotContainer.insertAdjacentHTML( \u0026#39;beforeend\u0026#39;, `\u0026lt;button class=\u0026#34;dots__dot\u0026#34; data-slide=\u0026#34;${i}\u0026#34;\u0026gt;\u0026lt;button\u0026gt;` ) }) } const activateDot = function (slide){ document.querySelectorAll(\u0026#39;.dots+dot\u0026#39;) .forEach(dot =\u0026gt; dot.classList.remove(\u0026#39;dots__dot--active\u0026#39;)) document.querySelector(`.data__dot[data-slide=\u0026#34;${slide}\u0026#34;]`) .classList.add(\u0026#39;dots_dot--active\u0026#39;) } const goToSlide = function (slide) { slides.forEach( (s, i) =\u0026gt; (s.style.transform = `translateX(${100 * (i - slide)}%)`) ) } const nextSlide = function () { if (curSlide === maxSlide - 1) { curSlide = 0 } else { curSlide++ } goToSlide(curSlide) activateDot(curSlide) } const prevSlide = function () { if (curSlide === 0) { curSlide = maxSlide - 1 } else { curSlide-- } goToSlide(curSlide) activateDot(curSlide) } const init = function () { createDots() activateDot(curSlide) goToSlide(0) } init() // curSlide= 0: 0 100% 200% 300%  // curSlide= 1: -100% 0% 100% 200%  // Event Handlers  btnRight.addEventListener(\u0026#39;click\u0026#39;, nextSlide) btnLeft.addEventListener(\u0026#39;click\u0026#39;, prevSlide) dotContainer.addEventListener(\u0026#39;click\u0026#39;, function() { if (e.target.classList.contains(\u0026#39;dots__dot\u0026#39;)) { const { slide } = e.target.dataset goToSlide(slide) activateDot(curSlide) } }) } sliderï¼ˆï¼‰   DOM events ç”Ÿå‘½é€±æœŸ DOMContentLoaded  HTML è§£æå®Œï¼ŒDOM å»ºæ§‹å®Œæˆå¾Œè§¸ç™¼ ä¸æœƒç­‰å¾… stylesheets, åœ–ç‰‡å’Œ subframes ç­‰å¤–éƒ¨è³‡æºå®Œæˆè®€å– åœ¨ DOMContentLoaded å‰ï¼Œæ‰€æœ‰ JavaScript è…³æœ¬æ‡‰è©²è¢«ä¸‹è¼‰è·ŸåŸ·è¡Œ æˆ‘å€‘çš„ JavaScript éƒ½æ”¾åœ¨ body å°¾ç«¯ï¼Œæ‰€ä»¥ä¸ç”¨ç›£è½é€™å€‹äº‹ä»¶  1 2 3  document.addEventListener(\u0026#39;DOMContentLoaded\u0026#39;, function (e) { console.log(\u0026#39;HTML parsed and DOM tree built\u0026#39;) })   load  ç™¼ç”Ÿåœ¨åŠ è¼‰å®Œç›®æ¨™è³‡æºã€è©²è³‡æºä¾è³´çš„å…¶ä»–è³‡æºæ™‚  1 2 3  window.addEventListener(\u0026#39;load\u0026#39;, function (e) { console.log(\u0026#39;page fully loaded\u0026#39;, e) })   beforeunload  ç€è¦½å™¨é—œé–‰æˆ–åˆ·æ–°ï¼Œè§¸ç™¼ä¸€å€‹ dialogï¼Œç•¶å‰é é¢ä¸æœƒç›´æ¥é—œé–‰ï¼Œå¯ä»¥é»ç¢ºå®šæˆ–å–æ¶ˆ éœ€è¦æ­é… e.preventDefault ä½¿ç”¨  1 2 3 4  window.addEventListener(\u0026#39;beforeunload\u0026#39;, funciton(e){ e.preventDefault() e.returnValue= \u0026#39;\u0026#39; })    ç€è¦½å™¨æ¸²æŸ“ç•«é¢æµç¨‹ï¼šå»ºç«‹ DOM â†’ å»ºç«‹ CSSOM â†’ åˆä½µç‚º Render Tree â†’ Layoutï¼ˆç©ºé–“ä½ç½®æ’ç‰ˆä½ˆå±€ï¼‰ â†’ Paintï¼ˆç¹ªè£½ç•«é¢ï¼Œè½‰æ›æˆåƒç´ åšå‘ˆç¾ï¼‰ ç”±æ–¼ JavaScript åœ¨åŸ·è¡Œæ™‚ï¼Œæœƒåœæ­¢æ¸²æŸ“å‹•ä½œï¼Œé˜»å¡ DOM å’Œ CSSOM çš„å»ºæ§‹éç¨‹ å› æ­¤æœƒå»ºè­°æŠŠ script æ”¾åœ¨ HTML å…§å®¹ä¸‹æ–¹ï¼Œä¹Ÿå°±æ˜¯\u0026lt;/body\u0026gt;å‰ï¼Œç­‰æ–¼ HTML éƒ½è§£æå®Œæˆäº†æ‰æœƒå» fetch è·ŸåŸ·è¡Œ scriptï¼Œä½†å¦‚æœè¦å„ªåŒ–ææ—©åœ¨headå€å¡Šå…ˆä¸‹è¼‰ï¼Œå¯ä»¥è€ƒæ…®deferè·Ÿasyncå±¬æ€§  1 2 3 4  \u0026lt;body\u0026gt; ... \u0026lt;script src=\u0026#34;./script.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt;    å¦‚æœç‚ºäº†æ•ˆèƒ½æƒ³ææ—©è¼‰å…¥è³‡æºè€Œå¸Œæœ›æŠŠ script æ”¾åœ¨\u0026lt;head\u0026gt;å€å¡Šï¼Œéœ€è¦åŠ ä¸€å€‹deferå±¬æ€§é¿å…é˜»æ“‹æ¸²æŸ“éç¨‹ï¼ˆDOM é‚„åœ¨å»ºç«‹ï¼‰ï¼Œä¿è­‰åŸ·è¡Œé †åºè·Ÿç¨‹å¼ç¢¼ç›¸åŒï¼Œé€šå¸¸æ˜¯æœ€ä½³è§£ è‹¥ä½¿ç”¨asyncå±¬æ€§ï¼Œä¸‹è¼‰å¾Œæœƒç«‹åˆ»åŸ·è¡Œä½†ä¸ä¿è­‰åŸ·è¡Œé †åºï¼Œä¸”è«‹æ±‚å›ä¾†å¾Œæœƒåœæ­¢è§£æï¼Œé‚„æ˜¯å¯èƒ½é‡åˆ° DOM è·Ÿ CSSOM é‚„åœ¨ç”Ÿæˆï¼Œé¸ä¸åˆ°å…ƒç´ ï¼Œé©åˆç”¨åœ¨ä¸æœƒé‡å°æ“ä½œ DOM çš„ scriptï¼Œæˆ–æ˜¯ç¬¬ä¸‰æ–¹çš„å‡½å¼åº«ï¼ˆe.g. Google Analyticsï¼‰  ä»¥ä¸Šç‚ºThe Complete JavaScript Course - From Zero to Expertçš„å°ç­†è¨˜ï¼Œé™„ä¸Šé€£çµæ¨æ¨é€™å ‚èª²\n","date":"2022-04-01T00:00:00+08:00","image":"https://bacnotes.github.io/p/advanced-javascript-dom/pexels-na-urchin-2377173_hu3d03a01dcc18bc5be0e67db3d8d209a6_1054351_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/advanced-javascript-dom/","title":"é€²éšJavaScript DOM çŸ¥è­˜ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"JavaScript æ•¸å­—ç‰¹æ€§  æ˜¯ 64 ä½å…ƒçš„æµ®é»æ•¸(2 é€²ä½ç·¨ç¢¼) 1 èˆ‡ 1.0 æŒ‡çš„æ˜¯ç›¸åŒçš„è³‡æ–™é¡å‹èˆ‡å€¼  1  console.log(1 === 1.0) // true    äºŒé€²ä½ç·¨ç¢¼åªèƒ½ç²¾ç¢ºåœ°è¡¨ç¤ºä½æ•¸æœ‰é™ä¸”åˆ†æ¯æ˜¯ 2 çš„å€æ•¸çš„å°æ•¸(0.5ã€0.125)  1 2 3  console.log(0.1 + 0.2) // 0.30000000000000004 console.log(0.3) // 0.3 console.log(0.1 + 0.2 === 0.3) // false    å¯ä»¥ä½¿ç”¨ BigDecimal.js æˆ– decimal.js ç­‰å‡½å¼åº«  å­—ä¸²è½‰æ•¸å­— Number 1  console.log(Number(\u0026#39;23\u0026#39;)) // 23   + é‹ç®—å­  æ˜¯ Number() çš„ç°¡å¯«  1  console.log(+\u0026#39;23\u0026#39;) // 23   å­—ä¸²è½‰æ•¸å­— Number.parseInt(string[, radix])  æ­¤æ–¹æ³•è·Ÿå…¨å±€ parseInt()ä¸€æ¨£ è‹¥å‚³å…¥åƒæ•¸ä¸æ˜¯å­—ä¸²çš„è©±ï¼Œæœƒå…ˆå°‡å…¶è½‰æˆå­—ä¸²ï¼ˆç›¸ç•¶æ–¼å…ˆåŸ·è¡Œ ToString å†åŸ·è¡Œ parseIntï¼‰ ç”±å·¦è‡³å³æƒæï¼Œç©ºç™½å€¼æœƒè¢«å¿½ç•¥ï¼Œé‡åˆ°éæ•¸å€¼å­—å…ƒï¼Œå°±ä¸å†é€²è¡Œä¸‹å»ï¼Œå›å‚³å·²ç¶“è½‰å¥½çš„éƒ¨åˆ† è‹¥æ•´å€‹å­—ä¸²éƒ½æ˜¯éæ•¸å€¼ï¼Œå›å‚³ NaNã€‚ ç¬¬äºŒå€‹åƒæ•¸ç‚ºé€²ä½æ•¸ï¼Œå¼·çƒˆå»ºè­°å¡«å¯«å¥½é€²ä½åƒæ•¸é¿å…éé æœŸ bugï¼Œé€²ä½æ•¸å¾ 2 åˆ° 36ï¼Œèƒ½ä»£è¡¨è©²é€²ä½ç³»çµ±çš„æ•¸å­—ã€‚å¦‚æœæ²’æœ‰æŒ‡å®š radix çš„è©±ï¼Œçµ¦å‡ºçš„çµæœæœƒæŒ‰ç…§å¯¦åšä¸åŒè€Œç•°ï¼Œé€šå¸¸é è¨­å€¼ä¸æ˜¯ 10 é€²ä½ï¼Œ  1 2 3 4 5 6 7 8 9 10 11  // parsing Number.parseInt === parseInt // true  console.log(Number.parseInt(\u0026#39;30px\u0026#39;, 10)) // 30  // é–‹é ­ä¸èƒ½ç‚ºå­—æ¯ console.log(Number.parseInt(\u0026#39;e23\u0026#39;, 10)) // NaN // æ•´æ•¸ console.log(Number.parseInt(\u0026#39;2.5rem\u0026#39;)) // 2 // æµ®é»æ•¸ console.log(Number.parseFloat(\u0026#39;2.5rem\u0026#39;)) // 2.5   NaN ç³»åˆ— ä½•æ™‚å‡ºç¾ NaN (Not a Number)  NaN æ˜¯ä¸€å€‹ Number å‹æ…‹ä½†å¼·åˆ¶è½‰æˆæ•¸å­—å¾Œç„¡æ³•ç”¨ä»»ä½•æ•¸å­—è¡¨ç¾çš„çµæœ NaN ä¸ç­‰æ–¼ NaNï¼ŒNaN !== NaN // true å›å‚³æœªå®šç¾© not defined è¶…å‡ºç¯„åœ é‹ç®—å¼æœ‰ä¸€å€‹åƒæ•¸æ˜¯ NaN  isNaN()  éå¾€åˆ¤æ–· NaN ç¿’æ…£ç”¨ isNaN(å› ç‚º NaN !== NaN)ï¼Œä½†æœ‰äº›ç¼ºé»ï¼Œé‡åˆ°éæ•¸å­—æœƒå¼·åˆ¶è½‰å‹ï¼Œå®¹æ˜“å‡ºç¾éé æœŸçš„ç‹€æ³  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  // æ­£å¸¸ä½¿ç”¨ç‹€æ³ä¸‹ isNaN(NaN) // true æ˜¯NaN å›å‚³true isNaN(undefined) // true æ˜¯NaN å›å‚³true isNaN({}) // true ä¸æ˜¯æ•¸å­— å›å‚³true isNaN(\u0026#39;37,5\u0026#39;) // true ä¸æ˜¯æ•¸å­— å›å‚³true isNaN(37) // false æ˜¯æ•¸å­— å›å‚³false  // å¸ƒæ—å€¼å¼·åˆ¶è½‰å‹ isNaN(true) // false ä¸æ˜¯æ•¸å­— å¼·åˆ¶è½‰1 è®Šæˆæ•¸å­— isNaN(null) // false ä¸æ˜¯æ•¸å­— å¼·åˆ¶è½‰0 è®Šæˆæ•¸å­—  // å­—ä¸²å¼·åˆ¶è½‰å‹ isNaN(\u0026#39;37\u0026#39;) // false ä¸æ˜¯æ•¸å­— å¼·åˆ¶è½‰37 ç‚ºæ•¸å­— isNaN(\u0026#39;37.37\u0026#39;) // false ä¸æ˜¯æ•¸å­— å¼·åˆ¶è½‰37.37 ç‚ºæ•¸å­— isNaN(\u0026#39;\u0026#39;) // false: è½‰0  // æ•¸å­—æ··åˆå­—ä¸² isNaN(\u0026#39;123ABC\u0026#39;) // true: Number(\u0026#34;123ABC\u0026#34;)ç„¡æ³•è½‰æˆåŠŸï¼Œç‚º NaN; è‹¥parseInt(\u0026#34;123ABC\u0026#34;)æœƒè½‰ 123,   Number.isNaN()  æª¢æŸ¥æ˜¯å¦ç‚º NaNï¼Œå›å‚³å¸ƒæ—å€¼ æ³¨æ„ä¸æ˜¯éæ•¸å­—å›å‚³ trueï¼Œè€Œæ˜¯ NaN å›å‚³ true ä½¿ç”¨ Number.isNaN å›å‚³çµæœå‰‡å–®ç´”çºŒå¤š  1 2 3 4  console.log(Number.isNaN(20)) // false ä¸æ˜¯NaN console.log(Number.isNaN(\u0026#39;20\u0026#39;)) // false ä¸æ˜¯NaN console.log(Number.isNaN(+\u0026#39;20x\u0026#39;)) // true è¡¨é”å¼+\u0026#39;20x\u0026#39;ç‚ºNaN console.log(Number.isNaN(23 / 0)) // false Infinityä¸æ˜¯NaN   Number.isFinite()  é©åˆç¢ºèªæ˜¯å¦ç‚ºæ•¸å­—  1 2 3 4  console.log(Number.isFinite(20)) // true console.log(Number.isFinite(\u0026#39;20\u0026#39;)) // false console.log(Number.isFinite(+\u0026#39;20x\u0026#39;)) // false console.log(Number.isFinite(23 / 0)) // false   Number.isInteger()  é©åˆç¢ºèªæ˜¯å¦ç‚ºæ•´æ•¸  1 2 3 4  console.log(Number.isInteger(20)) // true console.log(Number.isInteger(20.0)) // true console.log(Number.isInteger(20.5)) // false console.log(Number.isInteger(23 / 0)) // false   Math é‹ç®—ç³»åˆ—/å–æ•´æ•¸/é¤˜æ•¸ Math.sqrt()  é–‹æ ¹è™Ÿ  1 2 3 4  console.log(Math.sqrt(25)) // 5 console.log(5 ** 2) // 25 console.log(25 ** (1 / 2)) // 5 1 / 2éœ€è¦æ‹¬è™Ÿ ä¸ç„¶æœƒç®—æˆ12.5 console.log(8 ** (1 / 3))   Math.max()ã€Math.min()  æ‰¾æœ€å¤§å€¼ã€æœ€å°å€¼  1 2 3 4 5  console.log(Math.max(5, 18, 23, 11, 2)) // 23 console.log(Math.max(5, 18, \u0026#39;23\u0026#39;, 11, 2)) // \u0026#39;23\u0026#39;ä¹Ÿæœƒå¼·åˆ¶è½‰å‹ 23 console.log(Math.max(5, 18, \u0026#39;23px\u0026#39;, 11, 2)) // è½‰å¤±æ•— NaN  console.log(Math.min(5, 18, 23, 11, 2)) // 2   åœ“å‘¨ç‡ Pi 1 2  // Math.PI ç‚º3.14159... console.log(Math.PI * Number.parseFloat(\u0026#39;10px\u0026#39;) ** 2) //314.159...   Math.random()  éš¨æ©Ÿç”¢ç”Ÿ 0~1 çš„å°æ•¸ï¼Œä¸åŒ…å« 1  1 2 3 4 5 6 7  console.log(Math.random()) // éš¨æ©Ÿç”¢ç”Ÿ 0... - 5...çš„å°æ•¸ console.log(Math.random() * 6) // éš¨æ©Ÿç”¢ç”Ÿ 1 - 6 çš„æ•´æ•¸ console.log(Math.floor(Math.random() * 6 + 1))   Math.trunc()  å»æ‰å°æ•¸  1 2 3 4 5 6 7  // éš¨æ©Ÿç”¢ç”Ÿ1~6çš„æ•´æ•¸ éª°å­ console.log(Math.trunc(Math.random() * 6) + 1) // ç”¢ç”Ÿä¸€å€‹ä»‹æ–¼minèˆ‡maxçš„éš¨æ©Ÿæ•¸(åŒ…å«min max) function getRandomIntInclusive(min, max) { return Math.trunc(Math.random() * (max - min + 1)) + min }   Math.round()  å››æ¨äº”å…¥  1 2  console.log(Math.round(23.3)) // 23 console.log(Math.round(23.9)) // 24   Math.ceil()  ç„¡æ¢ä»¶å¾€æ›´å¤§çš„å€¼å–æ•´æ•¸  1 2 3 4  console.log(Math.ceil(23.3)) // 24 console.log(Math.ceil(23.9)) // 24 console.log(Math.ceil(-23.3)) // -23 console.log(Math.ceil(-23.9)) // -23   Math.floor()  ç„¡æ¢ä»¶å¾€æ›´å°çš„å€¼å–æ•´æ•¸ æ­£æ•¸æ™‚è·Ÿ Math.trunc() çµæœä¸€æ¨£ï¼Œè² æ•¸å‰‡ä¸åŒ  1 2 3 4 5 6 7 8  console.log(Math.floor(23.3)) // 23 console.log(Math.floor(\u0026#39;23.9\u0026#39;)) // 23 console.log(Math.floor(-23.3)) // -24  // æ­£æ•¸è·ŸMath.trunc() ç›¸åŒ console.log(Math.trunc(23.3)) // 23 // è² æ•¸è·ŸMath.trunc() ä¸åŒ console.log(Math.trunc(-23.3)) // -23   ~~  ~~Â å°‡æµ®é»æ•¸è½‰ç‚ºæ•´æ•¸ï¼Œå…¶é‹ä½œæ–¹å¼ç‚ºåè½‰å…©æ¬¡è€Œå¾—åˆ° Math.trunc()çš„çµæœ  1  ~~-29.8 - // -29   Number.prototype.toFixed()  ä½¿ç”¨å®šé»å°æ•¸è¡¨ç¤ºæ³•ï¼ˆfixed-point notationï¼‰ä¾†æ ¼å¼åŒ–æ•¸å­—ã€‚  1 2 3 4 5  // Rounding decimals console.log((2.7).toFixed(0)) console.log((2.7).toFixed(3)) console.log((2.345).toFixed(2)) console.log(+(2.345).toFixed(2))   é¤˜æ•¸é‹ç®—å­ %  å¯ä»¥è™•ç†è¡¨æ ¼è®Šè‰²  1 2 3 4 5 6 7 8 9 10 11  const isEven = n =\u0026gt; n % 2 === 0 isEven(2) // true isEven(3) // false  // even cols change to blue background labelBalance.addEventListener(\u0026#39;click\u0026#39;, function() { [...document.querySelectorAll(\u0026#39;.movements__row\u0026#39;)].forEach(function, (row, i) { if (isEven(i) row.style.backgroundColor = \u0026#39;marined\u0026#39; }) })   æ•¸å­—åˆ†éš”ç¬¦ Numeric Separators  ä¸€æ¨£çš„å€¼ï¼Œé€éåº•ç·šåˆ†å‰²æé«˜å¯è®€æ€§ Number()ç„¡æ³•è§£æå«æœ‰æ•¸å­—åˆ†éš”çš„çš„æ•¸å­—ï¼Œé€™å€‹åªé©åˆç”¨æ–¼æ‰‹å‹•å»ºç«‹çš„åƒæ•¸ï¼Œè€Œé API å›å‚³å­—ä¸²é¡å‹çš„æ•¸å­—  1 2 3 4  const diameter1 = 2082432342 const diameter2 = 2_082_432_342 console.log(diameter1) // 2082432342 console.log(diameter2) // 2082432342    å°æ•¸é»  1 2  const fee = 15.000_3 console.log(fee) // 15.0003   BigInt  ç”¨ä¾†å„²å­˜æ›´å¤§çš„æ•¸å­—ï¼Œå› ç‚ºä¸€å€‹æ•¸å­—èƒ½ä½¿ç”¨çš„è¨˜æ†¶é«”æœ‰é™ JavaScript å¯ä»¥å‘ˆç¾çš„æœ€å¤§å€¼æ˜¯ 9007199254740991ï¼Œå³(2 ** 53 - 1)ï¼Œè¶…éé€™å€‹æ•¸å­—ç„¡æ³•å¾€ä¸ŠåŠ  æ•¸å­—å¾Œé¢å¯« nï¼Œæˆ–ç”¨ BigInt åŒ…è£¹å¾Œæœƒè®Šæˆ BigInt  1 2 3 4  console.log(Number.MAX_SAFE_INTEGER) // 9007199254740991 console.log(2 ** 53 - 1) // 9007199254740991 console.log(23423412312311n) // 23423412312311n console.log(BigInt(23423412312311)) // 23423412312311n   BigInt é‹ç®—  ç”¨ n çš„å½¢å¼ç„¡æ³•è·Ÿå…¶ä»–æ•¸å­—ç›¸åŠ ï¼ŒBigInt åªèƒ½è·Ÿ BigInt é‹ç®— è‹¥ BitInt+d å­—ä¸²ï¼ŒBitInt ä¸€æ¨£æœƒè½‰æˆå­—ä¸²  1 2 3 4 5 6 7  const num = 23 const huge = 2342341231242352n console.log(num + huge) // æ•¸å­—è·ŸBigIntç›¸åŠ æœƒ error å› ç‚ºä¸åŒé¡å‹ console.log(BigInt(num) + huge) // 2342341231242375n  console.log(12n / 3n) // 4n    åˆ¤æ–·é‹ç®—å­\u0026gt; \u0026lt; =ï¼Œç”¨ n çš„å½¢å¼æ²’å•é¡Œ  1 2 3  console.log(20n \u0026gt; 15) //true console.log(20n === 20) // false console.log(20n == 20) // true   å»ºç«‹æ—¥æœŸæ™‚é–“ç‰©ä»¶ Date.now()  å›å‚³è‡ª 1970 å¹´ 1 æœˆ 1 æ—¥ 00:00:00 (UTC) åˆ°ç•¶å‰æ™‚é–“çš„æ¯«ç§’æ•¸ Date.now() çš„ç²¾åº¦å¯èƒ½å—åˆ°ç€è¦½å™¨å½±éŸ¿è¢«å–æ•´æ•¸  1 2  const start = Date.now() console.log(start) // 1647780438069   new Date() 4 ç¨®å»ºç«‹æ–¹å¼  new Date(): ä¸å‚³å…¥ä»»å‹™åƒæ•¸åˆ°å»ºæ§‹å­ï¼Œæœƒä¾ç³»çµ±è¨­å®šå»ºç«‹å‡ºä»£è¡¨ç•¶ä¸‹æ™‚é–“çš„ Date ç‰©ä»¶  1 2  console.log(new Date(2017, 0, 30)) // Mon Jan 30 2017 00:00:00 GMT+0800    new Date(value): value æ˜¯è‡ªä¸–ç•Œæ¨™æº–æ™‚é–“ï¼ˆUTCï¼‰ 1970 å¹´ 1 æœˆ 1 æ—¥ 00:00:00 é–‹å§‹çš„æ¯«ç§’æ•´æ•¸å€¼ï¼ˆæ³¨æ„ï¼šUnix timestamp æ˜¯ä»¥ç§’è€Œéæ¯«ç§’ç‚ºå–®ä½ï¼‰  1 2  console.log(new Date(0)) // Thu Jan 01 1970 08:00:00 GMT+0800    new Date(dateString): è¡¨ç¤ºæ—¥æœŸæ™‚é–“ç‰©ä»¶çš„å­—ä¸²ã€‚é€™å€‹å­—ä¸²æ‡‰è©²è¦èƒ½è¢« Date.parse() (en-US) æ–¹æ³•è§£æ new Date(\u0026ldquo;yyyy-mm-dd hh:mm:ss\u0026rdquo;) ç¬¦åˆæ‰€æœ‰ç€è¦½å™¨æ ¼å¼  1 2 3  console.log(new Date(\u0026#39;2010/08/17 12:09:36\u0026#39;)) console.log(new Date(\u0026#39;Jan 30 2017\u0026#39;)) // Mon Jan 30 2017 00:00:00 GMT+0800    new Date(year, month[, day[, hour[, minutes[, seconds[, milliseconds]]]]]); å‚³å…¥è‡³å°‘å…©å€‹åƒæ•¸ï¼Œç¼ºå°‘æ—¥çš„è©±æœƒè¨­ç‚º 1ï¼Œå…¶å®ƒåƒæ•¸å‰‡æœƒè¢«è¨­å®šç‚º 0ã€‚ å‚™è¨»ï¼šç•¶å‚³å…¥è¶…éä¸€å€‹åƒæ•¸ï¼Œä¸”åƒæ•¸å€¼è¶…éå®ƒçš„åˆç†ç¯„åœï¼ˆä¾‹å¦‚ï¼šå‚³æ•¸å€¼ 13 åˆ°æœˆä»½ï¼Œæˆ–å‚³æ•¸å€¼ 70 çµ¦åˆ†é˜ï¼‰ï¼Œç›¸é„°çš„åƒæ•¸å€¼å°‡æœƒè¢«èª¿æ•´ã€‚ä¾‹å¦‚ï¼š new Date(2013, 13, 1) å°‡ç­‰åŒæ–¼ new Date(2014, 1, 1) éƒ½æœƒå»ºç«‹ä»£è¡¨ 2014-02-01 çš„ç‰©ä»¶  1 2 3 4  console.log(new Date(2017, 10, 19, 14, 23, 1)) // Sun Nov 19 2017 14:23:01 GMT+0800 console.log(new Date(2017, 10)) // Wed Nov 01 2017 00:00:00 GMT+0800   å–å¾—æ—¥æœŸæ™‚é–“ç‰©ä»¶çš„å€¼  getFullYear(): å¹´ getMonth(): æœˆ getDate(): æ—¥ getHours(): æ™‚ getMinutes(): åˆ† getSeconds(): ç§’  1 2 3 4 5  const future = new Date(2037, 10, 19, 14, 22) // Thu Nov 19 2037 14:22:00 GMT+0800 console.log(future.getFullYear()) // 2037 console.log(future.getMonth()) // 10 console.log(future.getDate()) // 19   ä¿®æ”¹æ—¥æœŸæ™‚é–“ç‰©ä»¶çš„å€¼  å¦‚æœè¨­å®šçš„ value è¶…å‡ºäº†åˆç†ç¯„åœï¼Œæœƒç›¸å°æ‡‰çš„å¾€å‰æˆ–å¾€å¾Œæ¨ç®— setFullYear(): å¹´ setMonth(): æœˆ setDate(): æ—¥ setHours(): æ™‚ setMinutes(): åˆ† setSeconds(): ç§’  1 2 3 4 5 6 7  const future = new Date(2037, 10, 19, 14, 22); // Thu Nov 19 2037 14:22:00 GMT+0800 future.setFullYear(2022) future.setMonth(2)); future.setDate(3)) console.log(future) // Thu Mar 03 2022 14:22:00 GMT+0800   æ™‚é–“è½‰å­—ä¸² .toISOString()  æ™‚å€ä»¥ UTC 0 ç‚ºèµ·é»  1 2 3  const future = new Date(2037, 10, 19, 14, 22) // Thu Nov 19 2037 14:22:00 GMT+0800 console.log(future.toISOString()) // 2037-11-19T06:22:00.000Z   æ™‚é–“è½‰æ¯«ç§’  å›å‚³è·é›¢ 1970 å¹´ 1 æœˆ 1 æ—¥ 0 æ™‚ 0 åˆ† 0 ç§’ï¼ˆUTC æ™‚é–“ï¼‰å¤šä¹…çš„æ¯«ç§’æ•¸  1 2 3  const future = new Date(2037, 10, 19, 14, 22) // Thu Nov 19 2037 14:22:00 GMT+0800 console.log(future.getTime()) // 2142224520000   æ™‚é–“çš„é‹ç®—  æœƒå…ˆè½‰æ›æˆ Time Stamp æ¯«ç§’ç‚ºå–®ä½  1 2 3 4 5 6 7  const future = Number(new Date(2037, 10, 19)) console.log(future) // 2142172800000  const calcDaysPassed = (date1, date2) =\u0026gt; Math.abs(date2 - date1) / (1000 * 60 * 60 * 24) const days = calcDaysPassed(new Date(2037, 10, 19), new Date(2037, 10, 24)) console.log(days) // 5   æ—¥æœŸæ™‚é–“/æ•¸å­—æ ¼å¼åŒ– Internationalization API æ—¥æœŸæ™‚é–“ Intl. DateTimeFormat()  options Optional å¯ä»¥ä½¿ç”¨é¸å¡«é …ç›®ï¼š \u0026ldquo;full\u0026rdquo;ã€\u0026ldquo;long\u0026rdquo;ã€\u0026ldquo;medium\u0026rdquo;ã€\u0026ldquo;short\u0026rdquo; å¹´å¯ä»¥å¯«\u0026quot;numeric\u0026quot; (e.g., 2012)ã€\u0026ldquo;2-digit\u0026rdquo; (e.g., 12) æœˆå¯ä»¥å¯«\u0026quot;numeric\u0026quot; (e.g., 3)ã€\u0026ldquo;2-digit\u0026rdquo; (e.g., 03)ã€\u0026ldquo;long\u0026rdquo; (e.g., March)ã€\u0026ldquo;short\u0026rdquo; (e.g., Mar)ã€\u0026ldquo;narrow\u0026rdquo; (e.g., M) æ—¥å¯ä»¥å¯«\u0026quot;numeric\u0026quot; (e.g., 1)ã€\u0026ldquo;2-digit\u0026rdquo; (e.g., 01) æ™‚å¯ä»¥å¯«\u0026quot;numeric\u0026quot;ã€\u0026ldquo;2-digit\u0026rdquo; åˆ†å¯ä»¥å¯«\u0026quot;numeric\u0026quot;ã€\u0026ldquo;2-digit\u0026rdquo; ç§’å¯ä»¥å¯«\u0026quot;numeric\u0026quot;ã€\u0026ldquo;2-digit\u0026rdquo;  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  const date = new Date(Date.UTC(2020, 11, 20, 3, 23, 16, 738)) // results may vary by region const options = { hour: \u0026#39;numeric\u0026#39;, minute: \u0026#39;numeric\u0026#39;, day: \u0026#39;numeric\u0026#39;, month: \u0026#39;long\u0026#39;, year: \u0026#39;numeric\u0026#39;, } const locale = navigator.language console.log(new Intl.DateTimeFormat(\u0026#39;en-US\u0026#39;, options).format(date)) // 12/20/2020  const dateText = new Intl.DateTimeFormat(\u0026#39;ja\u0026#39;, options).format(date) console.log(dateText) // 2020å¹´12æœˆ20æ—¥ ä¸Šåˆ11:23    ç°¡å–®æ ¼å¼åŒ–å¯«æ³•  1 2 3 4 5 6 7 8 9 10 11 12 13  function formatDate(date, locale) { const calcDaysPassed = (date1, date2) =\u0026gt; Math.round(Math.abs(date2 - date1) / (1000 * 60 * 60 * 24)) const daysPassed = calcDaysPassed(new Date(), date) console.log(daysPassed) if (dayPassed === 0) return \u0026#39;Today\u0026#39; if (dayPassed === 1) return \u0026#39;Yesterday\u0026#39; if (dayPassed \u0026lt;= 7) return `${daysPassed}days ago` return new Intl.DateTimeFormat(locale).format(date) }   æ•¸å­—æ ¼å¼åŒ– Intl. NumberFormat()  style å¯ä»¥è™•ç†ç¨®é¡ e.g. è·é›¢ã€æº«åº¦ã€è²¨å¹£ã€ç™¾åˆ†æ¯” unit å¯ä»¥è™•ç†å°æ‡‰å–®ä½ useGrouping è™•ç†æ˜¯å¦éœ€è¦, åˆ†éš”ç¬¦  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  const num = 3882342.23 const options = { style: \u0026#39;unit\u0026#39;, // percent, currency  unit: \u0026#39;mile-per-hour\u0026#39;, // celsius  currency: \u0026#39;EUR\u0026#39;, useGrouping: false, } console.log(new Intl.NumberFormat(\u0026#39;en-US\u0026#39;, options).format(num)) // 3882342.23 mph console.log(new Intl.NumberFormat(\u0026#39;de-De\u0026#39;).format(num)) // 3.882.342,23  const number = 12345679 console.log( new Intl.NumberFormat(\u0026#39;de-DE\u0026#39;, { style: \u0026#39;currency\u0026#39;, currency: \u0026#39;EUR\u0026#39;, }).format(number) ) // 123.456,79 â‚¬  const locale = navigator.language function formatCurrency(value, locale, currency) { return new Intl.NumberFormat(locale, { style: \u0026#39;currency\u0026#39;, currency: currency, }).format(value) } formatCurrency(123, \u0026#39;zh-TW\u0026#39;, \u0026#39;USD\u0026#39;) // \u0026#39;US$123.00\u0026#39;   è¨ˆæ™‚å™¨ setTimeout(), setInterval() setTimeout()  var timeoutID = setTimeout(function[, delay, arg1, arg2, \u0026hellip;]) function:delay æ¯«ç§’ä¹‹å¾ŒåŸ·è¡Œçš„å‡½å¼ delay: å»¶é²å¤šå°‘æ¯«ç§’åŸ·è¡Œ æ™‚é–“åˆ°æœŸå¾Œå‚³çš„åƒæ•¸ return å€¼ç‚ºä¸€å€‹æ­£æ•´æ•¸ï¼Œå‚³æ­¤æ•¸å€¼åˆ° clearTimeout()å¯æ‹¿æ‰å®šæ™‚å™¨  1 2 3 4 5 6 7 8 9 10  const list = [\u0026#39;olives\u0026#39;, \u0026#39;spinach\u0026#39;] const Timer = setTimeout( (ingrediant1, ingrediant2) =\u0026gt; console.log(`Sending ${ingrediant1}and ${ingrediant2}`), 3000, ...allergyList ) console.log(\u0026#39;waiting...\u0026#39;) clearTimeout(Timer)   setInterval()  setInterval()å’Œ setTimeout()å…±äº«åŒä¸€ä¸ª ID æ±  setInterval()æ­é… clearInterval()ä½¿ç”¨ï¼ŒsetTimeout æ­é… clearTimeout()ä½¿ç”¨é¿å… TimeId ç®¡ç†æ··äº‚  1 2 3 4  setInterval(function () { const now = new Date() console.log(now) }, 1000)   è‡ªå‹•ç™»å‡º 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  const startLogOutTimer = function () { const tick = function () { const min = String(Math.trunc(time / 60)).padStart(2, 0) const sec = String(time % 60).padStart(2, 0) someElement.textContent = `${min}:${sec}` if (time === 0) { clearInterval(timer) // change into some logout UI  } time-- } let time = 300 // sec  tick() // call the timer every second  const timer = setInterval(tick, 1000) return timer } // reset timer if (timer) clearInterval(timer) timer = startLogOutTimer()   ä»¥ä¸Šç‚ºThe Complete JavaScript Course - From Zero to Expertçš„å°ç­†è¨˜ï¼Œé™„ä¸Šé€£çµæ¨æ¨é€™å ‚èª²\n","date":"2022-03-14T00:00:00+08:00","image":"https://bacnotes.github.io/p/math-number-date/pexels-photo-168784_hu20254ebf286f88ed55b1fa26f2cb8d47_51813_120x120_fill_q75_box_smart1.jpeg","permalink":"https://bacnotes.github.io/p/math-number-date/","title":"æ•¸å­—æª¢æŸ¥/é‹ç®—/è½‰æ›é‚„æœ‰æ—¥æœŸæ™‚é–“è™•ç†ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"å»ºç«‹æ­£è¦è¡¨é”å¼ç‰©ä»¶  å…©å€‹æ–œç·š / / new RegExp() å®šå€¼æ™‚ï¼Œä½¿ç”¨æ–œç·šçš„æ–¹æ³•æ•ˆèƒ½è¼ƒä½³ è‹¥å…§å®¹æœƒç•°å‹•ï¼ŒåŒ¹é…æ¨¡å¼æœªçŸ¥ï¼Œç”¨å»ºæ§‹å‡½å¼è¼ƒä½³  1 2 3 4  // åŒ¹é…å®Œå…¨ç¬¦åˆabcçš„å­—ä¸² const regex = /abc/ // ä½¿ç”¨å»ºæ§‹å‡½å¼ const regex = new RegExp(\u0026#39;abc\u0026#39;)   Flag: å¯«åœ¨//å¾Œé¢  iï¼šä¸å€åˆ†å¤§å°å¯« mï¼šå¤šè¡Œï¼Œè®“^$æ¯”å°æ¯ä¸€è¡Œçš„é–‹é ­è·Ÿçµå°¾ gï¼šå…¨å±€(æ¯”å°å¤šå€‹ç›¸ç¬¦çµæœï¼Œè€Œéåªæœ‰ä¸€å€‹ï¼Œå¯ä»¥å¾å°¾å·´æ‰¾) æ­£è¦è¡¨ç¤ºå¼æœ‰é–‹å•Ÿ g flagï¼Œå¯ä»¥é€£çºŒåŸ·è¡Œ exec() é€ä¸€å–å¾—åŸå§‹å­—ä¸²ä¸­æ‰€æœ‰çš„åŒ¹é…å­—ä¸² æ¯æ¬¡åŸ·è¡Œå®Œ exec() éƒ½æœƒé‡è¨­ lastIndex ç‚ºåŒ¹é…å­—ä¸²å¾Œé¢æ¥çºŒçš„å­—å…ƒçš„ç´¢å¼•ä½ç½®ã€‚  1 2 3 4 5 6 7 8 9 10 11 12  var regex = /ab*/g var str = \u0026#39;abbcdefabh\u0026#39; var arr while ((arr = regex.exec(str)) !== null) { var msg = \u0026#39;Found \u0026#39; + arr[0] + \u0026#39;. \u0026#39; msg += \u0026#39;Next match starts at \u0026#39; + regex.lastIndex console.log(msg) } // Found abb. Next match starts at 3 // Found ab. Next match starts at 9   æ­£è¦è¡¨é”å¼ç‰©ä»¶è‡ªå¸¶æ–¹æ³•  regex.test(æ¸¬è©¦å…§å®¹) // æœƒå›å‚³ true false åˆ¤æ–·æ˜¯å¦åŒ¹é… regex.exec(æ¸¬è©¦å…§å®¹) // å›å‚³é™£åˆ— åŒ¹é…çš„å…¨éƒ¨å­—ä¸²/å€‹åˆ¥åŒ¹é…å­—ä¸²/é–‹å§‹ç¬¦åˆçš„ index èµ·å§‹é»/åŸå§‹è¼¸å…¥å­—ä¸²  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  // Match \u0026#34;quick brown\u0026#34; followed by \u0026#34;jumps\u0026#34;, ignoring characters in between // Remember \u0026#34;brown\u0026#34; and \u0026#34;jumps\u0026#34; // Ignore case const inputValue = \u0026#39;The Quick Brown Fox Jumps Over The Lazy Dog\u0026#39; const regex = /quick\\s(brown).+?(jumps)/gi const result = regex.exec(inputValue) console.log(result) // [ // \u0026#39;Quick Brown Fox Jumps\u0026#39;, // \u0026#39;Brown\u0026#39;, // \u0026#39;Jumps\u0026#39;, // index: 4, // input: \u0026#39;The Quick Brown Fox Jumps Over The Lazy Dog\u0026#39;, // groups: undefined // ]    é€™äº›å­—ä¸²æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨æ­£è¦è¡¨é”å¼ searchã€matchã€replaceã€split å¯ä»¥åƒè€ƒé€™ç¯‡å­—ä¸²çš„è™•ç†æ–¹æ³•  ç‰¹æ®Šå­—å…ƒ  ^ï¼šå­—ä¸²é–‹é ­ç‚º (/^A/ æœƒåŒ¹é…ã€ŒAn Eã€ä¸­çš„ A ä¸æœƒåŒ¹é…ã€Œan Aã€çš„ A) å¯«åœ¨é›†åˆ[]è¡¨ç¤ºé $ï¼šå­—ä¸²çµå°¾ç‚ºï¼ˆ/t$/ æœƒåŒ¹é…ã€Œeatã€ä¸­çš„ t ä¸æœƒåŒ¹é…ã€Œeaterã€ä¸­çš„ tï¼‰ \\ï¼šä¸‹ä¸€å€‹å­—å…ƒé–‹å§‹è¦–ç‚ºä¸€èˆ¬å€¼è€Œéé‹ç®—å¼ \\bï¼šå­—ä¸²é‚Šç•Œä¸èƒ½æœ‰è‹±æ•¸æˆ–åº•ç·š \\Bï¼šå­—ä¸²é‚Šç•Œè¦æœ‰è‹±æ•¸æˆ–åº•ç·š .ï¼šä»£æ›¿é™¤äº†æ›è¡Œç¬¦è™Ÿæ‰€æœ‰å¯èƒ½çš„å­—å…ƒï¼ˆa.c æœƒåŒ¹é…åˆ° \u0026ldquo;aGc\u0026rdquo;, \u0026ldquo;a c\u0026rdquo;, \u0026ldquo;a_c\u0026rdquo;ï¼Œä½†ä¸èƒ½åŒ¹é… \u0026ldquo;a\\nc\u0026rdquo;ï¼Œ.ool æœƒåŒ¹é…åˆ° cool foolï¼‰ |ï¼šæˆ–ï¼Œä¸èƒ½æ”¾åœ¨æœ€å¾Œé¢  å­—å…ƒä»£è™Ÿ  ()ï¼šåŒ¹é…æ‹¬å¼§ä¸­å…§ç›¸ç¬¦å­—å…ƒé †åºï¼ˆ(sym)ï¼Œçµæœå¯èƒ½æœ‰ sympathyã€assymï¼Œsy(m|n) æœƒåŒ¹é… syn æˆ– symï¼‰ []ï¼šåŒ¹é…æ‹¬å¼§ä¸­çš„å­—å…ƒç¯„åœï¼Œä¸åˆ†é †åº [^]ï¼šåŒ¹é…éæ‹¬å¼§ä¸­çš„å­—å…ƒ [A-Z]ï¼šåŒ¹é…å¤§å¯«è‹±æ–‡å­—æ¯ [a-z]ï¼šåŒ¹é…å°å¯«è‹±æ–‡å­—æ¯ [0â€“9]ï¼šåŒ¹é…æ•¸å­— 0â€“9ï¼Œ[^0-9] åŒ¹é…ä¸å«æ•¸å­— 0â€“9 red[1-3]ï¼šred1 red2 red3 éƒ½æœƒåŒ¹é…åˆ° \\dï¼šåŒ¹é…æ•¸å­— (digital) \\Dï¼šåŒ¹é…éæ•¸å­— \\wï¼šåŒ¹é…è‹±æ•¸èˆ‡åº•ç·šï¼Œå³ [A-Za-z0â€“9_] \\Wï¼šåŒ¹é…éè‹±æ•¸èˆ‡åº•ç·šï¼Œå³ [^a-za-z0â€“9_] \\sï¼šåŒ¹é…æ³›ç©ºç™½å­—å…ƒï¼ŒåŒ…å«æ›è¡Œç¬¦è™Ÿ tab space \\r \\n \\Sï¼šåŒ¹é…éæ³›ç©ºç™½å­—å…ƒ  åŒ¹é…æ¬¡æ•¸  {m}ï¼šåŒ¹é…å‰é¢çš„é‹ç®—å¼ m æ¬¡ {n,}ï¼šåŒ¹é…å‰é¢çš„é‹ç®—å¼æœ€å°‘ n æ¬¡ {m,n}ï¼šåŒ¹é…å‰é¢çš„é‹ç®—å¼ m æ¬¡åˆ° n æ¬¡ {m,n}?ï¼šåŒ¹é…å‰é¢çš„é‹ç®—å¼ m æ¬¡åˆ° n æ¬¡ä¹‹é–“æœ€å°‘æ¬¡çš„ *ï¼šè‡³å°‘ 0 æ¬¡ï¼Œç­‰æ–¼{0,}ï¼Œæœ‰æˆ–ç„¡éƒ½å¯ï¼ŒåŒ¹é…å¤šæ¬¡(bag01*: bag0 bag01 bag011 ) +ï¼šè‡³å°‘ 1 æ¬¡ï¼Œç­‰æ–¼ {1,}ï¼Œè‡³å°‘è¦åŒ…å«ä¸€å€‹ ?ï¼š0 æ¬¡æˆ– 1 æ¬¡ï¼Œç­‰æ–¼{0,}ï¼Œæœ‰æˆ–ç„¡éƒ½å¯(ha?t: ha hat)  å¸¸è¦‹ case ä¿¡ç®±\n1  const regex = /^\\w+([-+.\u0026#39;]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/   èº«åˆ†è­‰\n1  const regex = /^[A-Z]{1}[1-2]{1}[0-9]{8}$/   éƒµéå€è™Ÿ\n1  const regex = /^[1-9]\\d{4}$/   æ‰‹æ©Ÿ\n1  const regex = /^09\\d{8}$/   å¯†ç¢¼è¦å¤§å°å¯«è‹±æ–‡+æ•¸å­—+é•·åº¦è‡³å°‘ 8\n1  const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$/   æ—¥æœŸ\n1 2 3 4 5 6  // æ—¥ const regex = /(([0-2][1-9])|10|20|30|31)/ // æœˆ const regex = /((0[1-9])|(1[0-2]))/ // å¹´ const regex = /(19|20)\\d{2}/   æ­£è¦è¡¨é”å¼æ¸¬è©¦å·¥å…· https://www.regextester.com/\n","date":"2022-03-06T00:00:00+08:00","image":"https://bacnotes.github.io/p/regular-expression/pexels-photo-7794425_hud76bb672323e27b5286a038ed903a966_45826_120x120_fill_q75_box_smart1.jpeg","permalink":"https://bacnotes.github.io/p/regular-expression/","title":"èªè­˜æ­£è¦è¡¨é”å¼RegExp (Regular Expression)ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"ä»¥ä¸‹å…§å®¹ä¸»è¦åƒè€ƒè‡ª Vue JS 3 Tutorial for Beginners #10 - The Composition API\nä½¿ç”¨ Composition API çš„å¥½è™•  Option API æ’°å¯«çš„ç¨‹å¼ç¢¼ï¼Œè³‡æ–™å››æ•£åœ¨ dataã€methodsã€computedã€props ç­‰ï¼ŒComposition API æŠŠè®Šæ•¸ã€å‡½å¼é›†ä¸­åœ¨ setupï¼Œæ–¹ä¾¿è¤‡ç”¨é‚è¼¯ï¼Œä¸éœ€è¦ç‚ºäº†å¥—ç”¨åˆ°æ¨¡æ¿å°±è¦å®£å‘Šåœ¨ data æˆ–æ˜¯ computedï¼Œç›´æ¥ä¸Ÿ return å³å¯ æé«˜å¯è®€æ€§ï¼Œä¸€å€‹åŠŸèƒ½å¯èƒ½æœƒå¯«åœ¨ä¸åŒçš„ option API å€å¡Šï¼Œé–±è®€ä¸Šä¸æ–¹ä¾¿ï¼Œä½¿ç”¨ Composition API å¯ä»¥å®¹æ˜“æŠŠåŒä¸€å€‹åŠŸèƒ½çš„ç¨‹å¼ç¢¼æ•´ç†åœ¨ä¸€èµ· mixin ä¹Ÿå¯ä»¥åšåˆ°é‚è¼¯è¤‡ç”¨é€™ä»¶äº‹ï¼Œä½†æœ‰å…©å€‹ç¼ºé»ï¼Œä¸€æ˜¯è¢«å¼•ç”¨çš„ mixin çš„è·Ÿå¼•ç”¨çš„å…ƒä»¶ä¹‹é–“æœ‰éš±å¼ä¾è³´ï¼Œå…©è€…ç„¡ä¸Šä¸‹é—œä¿‚ï¼Œä½ è¦é‡æ§‹å…ƒä»¶çš„æ™‚å€™ï¼Œè·Ÿ mixin æœ‰é—œçš„æ±è¥¿ä¸å¥½æ”¹ï¼Œå› ç‚ºæ”¹äº†ä¹Ÿæœƒå½±éŸ¿å…¶ä»–æœ‰å¼•ç”¨ä»–çš„å…ƒä»¶ã€‚ ç¬¬äºŒæ˜¯è£¡é¢çš„è®Šæ•¸å¯èƒ½æœƒæ’åï¼ŒåŒä¸€å€‹å…ƒä»¶è£¡é¢æœ‰ä¸€æ¨£çš„å±¬æ€§åç¨±ï¼Œå…ƒä»¶çš„è®Šæ•¸åç¨±æ¬Šé‡æ¯” mixin çš„å¤§ï¼Œæœƒè¦†è“‹ mixin çš„ï¼Œå®¹æ˜“æœƒç”¢ç”Ÿ bugï¼Œå¦‚æœé€™å€‹ mixin åˆæ˜¯ç¬¬ä¸‰æ–¹å¥—ä»¶çš„è©±\u0026hellip; åˆæœƒæ›´é›£äº†ï¼Œå› ç‚ºç¨‹å¼ç¢¼ä¸æ˜¯ä½ å¯«çš„ï¼Œä½ å¯èƒ½æ ¹æœ¬ä¸æœƒæƒ³åˆ°æ˜¯é€™å€‹å•é¡Œã€‚  Vue3 çš„ç”Ÿå‘½é€±æœŸ Vue3 çš„ç”Ÿå‘½é€±æœŸ(å°æ‡‰åœ¨ Vue2 çš„ç”Ÿå‘½é€±æœŸåç¨±)\n setup(beforeCreate)ï¼šåˆå§‹åŒ– Vue å¯¦ä¾‹/äº‹ä»¶è·Ÿç”Ÿå‘½é€±æœŸ \u0026ndash; å°šç„¡æ³•è®€å– data, computed, methods, watch/event callbacks \u0026ndash; é©åˆå±•ç¤º loading ç•«é¢ï¼Œä¸é©åˆ fetch è³‡æ–™ï¼Œé‚„æ²’æœ‰ data å¯ä»¥å­˜ setup(created)ï¼šå‰µå»ºå®Œå¯¦ä¾‹(è™›æ“¬ DOM) \u0026ndash; è¨­ç½® data, computed, methods, watch/event callbacks \u0026ndash; å°šç„¡æ³•è®€å–$elï¼Œé©åˆ fetch è³‡æ–™ onBeforeMount(beforeMount)ï¼šå°šæœªæ›è¼‰æ¨¡æ¿ \u0026ndash; ç›¸é—œ render å‡½å¼é¦–æ¬¡è¢«èª¿ç”¨ onMounted(mounted)ï¼šå¯¦ä¾‹æ›è¼‰æ¨¡æ¿(çœŸå¯¦ DOM) \u0026ndash; el è¢«æ–°å‰µå»ºçš„ vm.$el æ›¿æ› onBeforeUpdate(beforeUpdate)ï¼šdata æ›´æ–°ä½†é‚„æ²’é‡æ–°æ¸²æŸ“ç•«é¢ \u0026ndash; é©åˆåœ¨æ­¤æ›´æ–°è³‡æ–™ onUpdated(updated)ï¼šdata æ›´æ–°ä¸”æ¸²æŸ“ç•«é¢å®Œæˆ \u0026ndash; å¯ä»¥å–å¾—æ›´æ–°çš„ DOM onBeforeUnmount(beforeDestroy)ï¼šå¯¦ä¾‹è¢«éŠ·æ¯€å‰ \u0026ndash; é©åˆåœ¨æ­¤æ™‚å¸è¼‰æ‰‹å‹•æ·»åŠ çš„ç›£è½/è¨‚é–± onUnmounted(destroyed)ï¼šå¯¦ä¾‹è¢«éŠ·æ¯€  å¦‚æœå¸Œæœ›åœ¨æ¸²æŸ“ç•«é¢å®Œç•¢æ‰æ“ä½œæŸäº›å‡½å¼ï¼Œåœ¨ç”Ÿå‘½é€±æœŸä¸­ä½¿ç”¨ vm.$nextTick\nvue3 è·Ÿ vue2 æ··ç”¨æ™‚ï¼Œvue3 çš„ç”Ÿå‘½é€±æœŸæœƒå„ªå…ˆåŸ·è¡Œ   setup -\u0026gt; beforeCreate -\u0026gt; created -\u0026gt; onBeforeMount -\u0026gt; beforeMount -\u0026gt; onMounted -\u0026gt; mounted -\u0026gt; onBeforeUpdate -\u0026gt; beforeUpdate -\u0026gt; onUpdated -\u0026gt; updated -\u0026gt; onBeforeUnmount -\u0026gt; beforeDestroy -\u0026gt; onUnmounted -\u0026gt; destroyed\n  ä¹Ÿå¯ä»¥é€é console.log()è§€å¯Ÿé †åº\n  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  \u0026lt;script\u0026gt; // @ is an alias to /src export default { name: \u0026#34;Home\u0026#34;, components: {}, // before mounted, before created  setup() { console.log(\u0026#34;setup\u0026#34;); }, created() { console.log(\u0026#34;created\u0026#34;); }, mounted() { console.log(\u0026#34;mounted\u0026#34;); } ... }; \u0026lt;/script\u0026gt;   åœ¨ setup()å‡½å¼å®šç¾© data  setup()å¯ä»¥å‚³å…¥ props èˆ‡ context setup(props, context)ï¼Œä½† script è¦è¨˜å¾—å¼•å…¥ props å¦‚æœéœ€è¦è§£æ§‹ï¼Œä½¿ç”¨ toRefs  1 2 3 4 5 6 7 8 9 10 11 12  \u0026lt;script\u0026gt; import { toRefs } from \u0026#34;vue\u0026#34;; export default { props: { title: String, }, setup(props) { const { title } = toRefs(props); console.log(title.value); }, }; \u0026lt;/script\u0026gt;    script åŸ·è¡Œé †åºç‚º setup å‡½å¼å…§å®¹ï¼Œreturn å›å‚³æ¨¡æ¿æ‰€éœ€è®Šæ•¸è·Ÿæ–¹æ³•(data, computed, methods, watch/event)ï¼Œæ¨¡æ¿æ¸²æŸ“å…§å®¹ éå¾€æŠŠè¦æ”¾åœ¨æ¨¡æ¿çš„è®Šæ•¸å®šç¾©åœ¨ data(){}ï¼Œç¾åœ¨æˆ‘å€‘æ”¹åœ¨ setup()ä½¿ç”¨ ref è·Ÿ reactive å®šç¾©è³‡æ–™ä¾†ç²å–éŸ¿æ‡‰å¼è³‡æ–™ ä½¿ç”¨ Option API çš„æ™‚å€™å¸¸å¸¸éœ€è¦å¯« this æŒ‡å‘è‡ªå·±ï¼ŒcompositionAPI å¹¾ä¹ä¸éœ€è¦ç®¡ this  template refs  ref : å¯ä»¥ä½¿ç”¨ä»»ä½•å‹æ…‹çš„è³‡æ–™ï¼Œåœ¨ç”Ÿå‘½é€±æœŸå‡½å¼å–è³‡æ–™æ™‚ç”¨è®Šæ•¸.value(æ¨¡æ¿ä¸Šå‰‡ä¸éœ€è¦.value)ä¸æœƒå° Object æˆ–æ˜¯ Array å…§éƒ¨çš„å±¬æ€§åšç›£è½ï¼Œé©åˆç”¨æ–¼å‚³å€¼çš„ primitives ä¹Ÿé©åˆç”¨æ–¼å–®å±¤ç‰©ä»¶ã€‚ ä½¿ç”¨å‰éœ€è¦å…ˆimport {ref} from vue é›–ç„¶å¯ä»¥ç”¨æ–¼æ‰‹å‹•æ”¹è®Š DOM å…§å®¹ï¼Œä½†å¯¦å‹™ä¸Šå¾ˆå°‘é€™æ¨£ç¶å®šæ“ä½œ ä¸‹æ–¹ç‚ºä½¿ç”¨ primitives çš„ä¾‹å­  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  \u0026lt;template\u0026gt; \u0026lt;div class=\u0026#34;home\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;home\u0026lt;/h1\u0026gt; \u0026lt;p\u0026gt;My name is {{ name }} and my age is {{ age }}\u0026lt;/p\u0026gt; \u0026lt;button @click=\u0026#34;handleClick\u0026#34;\u0026gt;Click\u0026lt;/button\u0026gt; // é»æŒ‰éˆ•age++ \u0026lt;button @click=\u0026#34;age++\u0026#34;\u0026gt;add age by 1\u0026lt;/button\u0026gt; // input textå€¼è·Ÿnameè®Šæ•¸é›™å‘ç¶å®š \u0026lt;input v-model=\u0026#34;name\u0026#34; type=\u0026#34;text\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; // å¼•ç”¨refæ–¹æ³• import { ref } from \u0026#34;vue\u0026#34;; export default { name: \u0026#34;Home\u0026#34;, components: {}, setup() { let name = ref(\u0026#34;mario\u0026#34;); let age = ref(30); // é»æŒ‰éˆ•æ”¹è®Šå€¼  const handleClick = () =\u0026gt; { name.value = \u0026#34;luigi\u0026#34;; age.value = 35; }; return { name, age, handleClick }; }, }; \u0026lt;/script\u0026gt;    ä¸‹æ–¹ç‚ºä½¿ç”¨ Object çš„ä¾‹å­ ä¸€æ¨£ click æ›´æ–°åç¨±è·Ÿå¹´é½¡ï¼Œé» add age by 1 å¹´é½¡åŠ  1ï¼Œinput text å€¼è·Ÿ name è®Šæ•¸é›™å‘ç¶å®š  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  \u0026lt;template\u0026gt; \u0026lt;div class=\u0026#34;home\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;home\u0026lt;/h1\u0026gt; \u0026lt;p\u0026gt;My name is {{ ninjaOne.name }} and my age is {{ ninjaOne.age }}\u0026lt;/p\u0026gt; \u0026lt;button @click=\u0026#34;ninjaOne.age++\u0026#34;\u0026gt;add age by 1\u0026lt;/button\u0026gt; \u0026lt;button @click=\u0026#34;updateClick\u0026#34;\u0026gt;Click\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; // å¼•ç”¨refæ–¹æ³• import { ref } from \u0026#34;vue\u0026#34;; export default { name: \u0026#34;Home\u0026#34;, components: {}, setup() { const ninjaOne = ref({ name: \u0026#34;mario\u0026#34;, age: 30 }); const updateClick = () =\u0026gt; { ninjaOne.value.name = \u0026#34;luigi\u0026#34;; ninjaOne.value.age = 35; }; return { ninjaOne, updateClick }; }, }; \u0026lt;/script\u0026gt;   template reactive  reactive : åªæ¥å— Object æˆ– Array ï¼Œå¯ä»¥åšæ·±å±¤çš„ç›£è½ï¼Œå–è³‡æ–™ä¸ç”¨ .valueï¼Œä¸å»ºè­°ç”¨è§£æ§‹çš„æ–¹å¼å–å¾—å…§å®¹ï¼Œæœƒå¤±å» Vue éŸ¿æ‡‰ã€‚ åŒä¸Šæ–¹ Object ä¾‹å­çš„å…§å®¹ï¼Œä¸€æ¨£ click æ›´æ–°åç¨±è·Ÿå¹´é½¡ï¼Œé» add age by 1 å¹´é½¡åŠ  1ï¼Œinput text å€¼è·Ÿ name è®Šæ•¸é›™å‘ç¶å®š å·®åˆ¥åœ¨ä¸éœ€è¦å¥—ç”¨ value  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  \u0026lt;template\u0026gt; \u0026lt;div class=\u0026#34;home\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;home\u0026lt;/h1\u0026gt; \u0026lt;p\u0026gt;My name is {{ ninjaOne.name }} and my age is {{ ninjaOne.age }}\u0026lt;/p\u0026gt; \u0026lt;button @click=\u0026#34;updateNinjaOne\u0026#34;\u0026gt;Click\u0026lt;/button\u0026gt; \u0026lt;p\u0026gt;My name is {{ ninjaTwo.name }} and my age is {{ ninjaTwo.age }}\u0026lt;/p\u0026gt; \u0026lt;button @click=\u0026#34;updateNinjaTwo\u0026#34;\u0026gt;Click\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; // å¼•ç”¨refæ–¹æ³• import { ref, reactive } from \u0026#34;vue\u0026#34;; export default { name: \u0026#34;Home\u0026#34;, components: {}, setup() { const ninjaOne = ref({ name: \u0026#34;mario\u0026#34;, age: 30 }); const ninjaTwo = reactive({ name: \u0026#34;luigi\u0026#34;, age: 35 }); const updateNinjaOne = () =\u0026gt; { ninjaOne.value.name = \u0026#34;luigi\u0026#34;; ninjaOne.value.age = 35; }; const updateNinjaTwo = () =\u0026gt; { ninjaTwo.age = 45; }; return { ninjaOne, ninjaTwo, updateNinjaOne, updateNinjaTwo }; }, }; \u0026lt;/script\u0026gt;   Computed values  Composition API ä¸€æ¨£å¯ä»¥ä½¿ç”¨ Computed ä¾†åšé‹ç®— ä½¿ç”¨å‰éœ€è¦import { computed } from vue æŠŠé‹ç®—é‚è¼¯åŒ…è£¹ Computed å‡½å¼ï¼Œreturn é‹ç®—çµæœ ä¸‹æ–¹ç¯„ä¾‹ç‚º Computed åŒ…è£¹ç¯©é¸é™£åˆ—å­—è©é‹ç®—  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37  \u0026lt;template\u0026gt; \u0026lt;div class=\u0026#34;home\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;home\u0026lt;/h1\u0026gt; // è¼¸å…¥æœå°‹å­—è©  \u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;search\u0026#34; /\u0026gt; // åŒæ­¥é¡¯ç¤ºæœå°‹å­—è©ç‚ºä½• \u0026lt;p\u0026gt;search term - {{ search }}\u0026lt;/p\u0026gt; // è¼¸å‡ºç¬¦åˆæœå°‹å­—è©çš„é™£åˆ—å­—ä¸² \u0026lt;div v-for=\u0026#34;name in matchingNames\u0026#34; :key=\u0026#34;name\u0026#34;\u0026gt;{{ name }}\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; import { ref, computed } from \u0026#34;vue\u0026#34;; export default { name: \u0026#34;Home\u0026#34;, components: {}, setup() { const search = ref(\u0026#34;\u0026#34;); // å–®å±¤ç‰©ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨refè§€å¯Ÿè®ŠåŒ–  const names = ref([ \u0026#34;mario\u0026#34;, \u0026#34;yoshi\u0026#34;, \u0026#34;luigi\u0026#34;, \u0026#34;toad\u0026#34;, \u0026#34;bowser\u0026#34;, \u0026#34;koopa\u0026#34;, \u0026#34;peach\u0026#34;, ]); // ç¯©é¸ç›¸é—œçš„æœå°‹å­—è©  const matchingNames = computed(() =\u0026gt; { return names.value.filter((name) =\u0026gt; name.includes(search.value)); }); return { names, search, matchingNames }; }, }; \u0026lt;/script\u0026gt;   watch  watch(ç›£è½ dependency, ()=\u0026gt;{})ï¼Œç•¶ watch çš„ dependency æœ‰è®ŠåŒ–å°±åŸ·è¡Œå¾Œé¢çš„å‡½å¼ å¾Œé¢åŸ·è¡Œå‡½å¼è‡ªå¸¶é¸æ“‡æ€§çš„ä½¿ç”¨çš„å…©å€‹åƒæ•¸åˆ†åˆ¥ç‚ºæ–°å€¼è·ŸèˆŠå€¼ ç›£è½æ·±å±¤ç‰©ä»¶åŠ ä¸Šç¬¬ä¸‰å€‹åƒæ•¸{deep: true} å¸Œæœ›è¼‰å…¥å°±åŸ·è¡Œéœ€è¦åŠ ä¸Š immediate: true  1 2  watch( search, (newValue, OldValue) =\u0026gt; { console.log(\u0026#34;newValue, OldValue\u0026#34;); console.log(\u0026#34;watch\u0026#34;); }, { deep: true, immediate: true, } );   watchEffect  watchEffect(() =\u0026gt; {}) åŸ·è¡Œå‡½å¼ä¸­çš„è®Šæ•¸æœƒè‡ªå‹•æ·»åŠ æˆ dependency å…ƒä»¶åˆå§‹åŒ–å°±æœƒåŸ·è¡Œä¸€æ¬¡ï¼Œå¾ŒçºŒ dependency æœ‰è®ŠåŒ–ä¹ŸæœƒåŸ·è¡Œ  1  watchEffect(() =\u0026gt; { console.log(\u0026#34;watch\u0026#34;); }, search.value);   watch v.s. watchEffect  watch å¯ä»¥æ˜ç¢ºæŒ‡å®šéœ€è¦ä¾è³´çš„å±¬æ€§ï¼ŒwatchEffect å‰‡æ˜¯ä¾è³´ callback ä¸­ä½¿ç”¨åˆ°çš„å±¬æ€§ watch å¯ä»¥ç²å–æ–°èˆŠå€¼ï¼ŒwatchEffect ç„¡æ³• watch ä¸æœƒç«‹å³åŸ·è¡Œ(é™¤éæœ‰å¯« immediate: true)ï¼ŒwatchEffect åœ¨å…ƒä»¶åˆå§‹åŒ–æ™‚å°±æœƒåŸ·è¡Œä¸€æ¬¡ watchEffect ä¸­ dependency æœƒè¢«é‡è¤‡åŸ·è¡Œï¼Œå‹•æ…‹æ–°å¢åŠ çš„ dependency ä¹Ÿæœƒè¢«æ”¶é›†  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  \u0026lt;script\u0026gt; const counter = ref(0); const enabled = ref(false); // watchEffect ç«‹å³åŸ·è¡Œï¼Œenabledæ˜¯false dependencyåªæœ‰enabled watchEffect(() =\u0026gt; { if (enabled.value) { console.log(counter.value); counter.value += 1; } }); counter.value += 1; // ç„¡åæ‡‰ enabled.value = true; // Effect è§¸ç™¼ï¼Œè¼¸å‡º1  counter.value += 1; // counterç‚ºdependencyï¼Œè¼¸å‡º2 enabled.value = false; // å‡½å¼é‡æ–°åŸ·è¡Œ ç„¡è¼¸å‡º counter.value += 1; // å‡½å¼é‡æ–°åŸ·è¡Œ ç„¡è¼¸å‡º é›–ç„¶counteræ˜¯false ä½†é‚„æ˜¯dependencyå¯èƒ½æœƒè§¸ç™¼å‡½å¼ \u0026lt;/script\u0026gt;   ä»€éº¼æ™‚å€™ç”¨ watch æˆ– watchEffectï¼Ÿ é€™ç¯‡æ¨è–¦åœ¨å¤§éƒ¨åˆ†æ™‚å€™ç”¨ watch é¡¯å¼çš„æŒ‡å®šä¾è³´ä»¥é¿å…ä¸å¿…è¦çš„é‡è¤‡è§¸ç™¼ï¼Œä¹Ÿé¿å…åœ¨å¾ŒçºŒç¨‹å¼ç¢¼ä¿®æ”¹æˆ–é‡æ§‹æ™‚ä¸å°å¿ƒå¼•å…¥æ–°çš„ dependencyã€‚ watchEffect é©ç”¨æ–¼ä¸€äº›é‚è¼¯ç›¸å°ç°¡å–®ï¼Œdependency å’Œé‚è¼¯å¼·ç›¸é—œçš„å ´æ™¯\nVue Composition API å’Œ React çš„ Hooks çš„å·®ç•°  React Hooks åœ¨æ¯æ¬¡å…ƒä»¶æ¸²æŸ“æ™‚éƒ½æœƒå‘¼å«ï¼Œéœ€è¦é€é useEffect è·Ÿ useCallback ç›¸ä¾åƒæ•¸ä¾†æ§åˆ¶ Vue çš„ setup() æ¯å€‹å…ƒä»¶ä¾‹é …åªæœƒåœ¨åˆå§‹åŒ–æ™‚å‘¼å«ä¸€æ¬¡ï¼Œç‹€æ…‹é€šéå¼•ç”¨å„²å­˜åœ¨ setup() çš„é–‰åŒ…å…§ï¼Œ Composition API ä¸­ä¸åŒçš„å‡½å¼å¯ä½œç‚ºè¿´åœˆæˆ–æ¢ä»¶èªå¥çš„ä¸€éƒ¨åˆ†ã€‚è€Œ Hook ä¸èƒ½åœ¨è¿´åœˆæˆ–æ¢ä»¶èªå¥ä¸‹ä½¿ç”¨ï¼Œå› ç‚ºæ¯ä¸€å€‹ Hook çš„ next æ˜¯æŒ‡å‘ä¸‹ä¸€å€‹ Hookï¼Œé€™äº›æ“ä½œæœƒæ”¹è®Šé †åºï¼Œå°è‡´å ±éŒ¯ã€‚  1 2 3 4 5 6 7  function App() { const [name, setName] = useState(\u0026#34;demo\u0026#34;); // error  if (condition) { const [val, setVal] = useState(\u0026#34;\u0026#34;); } }    React Hooks éƒ½åœ¨æ¸²æŸ“é–‰åŒ…ä¸­åŸ·è¡Œï¼Œé »ç¹çš„æ¸²æŸ“æœƒç”¢ç”Ÿè¨±å¤šé–‰åŒ…ï¼Œçµ¦ GC å¸¶ä¾†ä¸å°å£“åŠ›ã€‚Composition API ç•¶å€¼è®ŠåŒ–æ™‚ï¼Œä¹Ÿä¸æœƒé‡æ–°è§¸ç™¼ setup çš„åŸ·è¡Œï¼Œæ¯æ¬¡æ¸²æŸ“ä¸æœƒåè¦†å‘¼å«å‡½å¼ï¼Œæ¸›å°‘ GC å£“åŠ› Hook è‹¥æ²’æœ‰è¨­ç½®æ­£ç¢ºçš„ dependencyï¼Œè¨­ç½®åœ¨é–‰åŒ…çš„å€¼æœƒä¸è®Šï¼ŒVue çš„è‡ªå‹•ä¾è³´è·Ÿåš®æ‡‰å¼è¨­è¨ˆå¯ä»¥æ­£ç¢ºè¿½è¹¤è³‡æ–™ ä¸éœ€è¦ç¸½æ˜¯ä½¿ç”¨ useCallback ä¾†å¿«å–å‚³çµ¦å­å…ƒä»¶çš„ callback ä»¥é˜²æ­¢éåº¦æ›´æ–°  ","date":"2022-02-26T00:00:00+08:00","image":"https://bacnotes.github.io/p/vue-composition-api/Dup9I4d_huebbfad1edfa8e198fe68a27ac6a615ca_19543_120x120_fill_q75_box_smart1.jpeg","permalink":"https://bacnotes.github.io/p/vue-composition-api/","title":"ä»‹ç´¹Vue3èˆ‡Composition APIï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"ä»€éº¼æ˜¯ Vue  Vue æ˜¯æ‰“é€ ä½¿ç”¨è€…ä»‹é¢çš„ JavaScript æ¼¸é€²å¼æ¡†æ¶(å¯ä¾é–‹ç™¼éœ€æ±‚æ“´å¢åŠŸèƒ½ e.g. vue-router vuex) ä»¥å…ƒä»¶ç‚ºä¸­å¿ƒçš„å®£å‘Šå¼ç¨‹å¼è¨­è¨ˆï¼Œç„¡éœ€ç›´æ¥æ“ä½œ DOMï¼Œè³‡æ–™é©…å‹•ç•«é¢ï¼Œé€éé›™å‘ç¶å®šè®“è³‡æ–™æœ‰è®ŠåŒ–ç•«é¢ä¹ŸæœƒéŸ¿æ‡‰ï¼Œæé«˜é–‹ç™¼æ•ˆç‡ å¯¦ç¾é—œæ³¨é»åˆ†é›¢ï¼ŒæŠŠè¦–è¦ºå‘ˆç¾ã€è³‡æ–™ç­‰å…ƒç´ ï¼Œæ”¾åœ¨å–®ä¸€æª”æ¡ˆä¸­ï¼Œä½†åˆåœ¨æŠ€è¡“ä¸Šåˆ‡åˆ†å¾—å¾ˆä¹¾æ·¨ï¼›template å°ˆæ³¨åœ¨ HTML çµæ§‹ï¼Œscript è™•ç† JavaScript é‚è¼¯ï¼ŒStyle å‰‡æ˜¯æ’°å¯«æ¨£å¼çš„éƒ¨åˆ†ï¼Œæ¯ä¸€æ¨¡çµ„å„è‡ªæœ‰ç¨ç«‹é—œæ³¨ç„¦é» éå¾€ DOM æ“ä½œï¼Œå…ƒç´ éœ€è¦ä¸€å€‹å€‹ç”¨ CSS é¸æ“‡å™¨é¸å‡ºä¾†ï¼Œè€Œ Vue åªåœ¨å–®é é¢å‰µé€ ä¸€å€‹å®¹å™¨\u0026lt;div id=\u0026quot;root\u0026quot;\u0026gt;\u0026lt;/div\u0026gt;ï¼›å…¶ä»–è®Šæ•¸è·Ÿäº‹ä»¶ç¶å®šå‰‡æ˜¯ä½¿ç”¨èªæ³•ç³–ç›´æ¥å¯«åœ¨ HTML ä¸Š SPA å–®é æ‡‰ç”¨ï¼Œä¸åƒéå¾€è·Ÿ server æºé€šï¼Œæ¯æ¬¡ç™¼è«‹æ±‚æ”¶åˆ°æ–°çš„ HTML å°±æœƒé‡æ–°æ¸²æŸ“é é¢ï¼ŒVue å¯éƒ¨åˆ†æ›´æ–°ç•«é¢ï¼Œä¸éœ€è¦æ•´å€‹é é¢é‡æ–°æ¸²æŸ“ï¼Œä½¿ç”¨è€…é«”é©—ä½³(ä¼ºæœå™¨å‚³é€ä¸€æ¬¡ HTMLï¼Œå°±æ¥ç®¡æ•´å€‹é é¢çš„ç”Ÿå‘½é€±æœŸ)ï¼›å°æ¯”å…¨ç«¯é–‹ç™¼çš„å¤šé æ‡‰ç”¨ï¼Œå‰‡æ¯æ¬¡è«‹æ±‚å¾Œéƒ½æœƒå†åˆ·æ–°ä¸€æ¬¡é é¢ ç¨‹å¼ç¢¼è¼ƒç°¡æ½”ï¼Œå¯è®€æ€§é«˜(ç›¸å°æ²’æœ‰ä½¿ç”¨æ¡†æ¶çš„ç‹€æ³)ï¼Œæœ‰åŠ©æ–¼å¾ŒçºŒå”ä½œè·Ÿç¶­è­·  Framework æ¡†æ¶ v.s Library å‡½å¼åº«  å…©è€…éƒ½æ˜¯å¹«åŠ©æˆ‘å€‘åœ¨é–‹ç™¼æ™‚å¯ä»¥å°‘å¯«ä¸€äº› code çš„å·¥å…· å·®ç•°åœ¨æ–¼å‡½å¼åº«æ˜¯æˆ‘å€‘æ±ºå®šå‘¼å«çš„æ™‚æ©Ÿï¼Œè€Œæ¡†æ¶æ˜¯æˆ‘å€‘ä¾ç…§é‚è¼¯å»å¡«å¯«æ¡†æ¶æ‰€éœ€è¦çš„è³‡æ–™ï¼Œæ¡†æ¶æ±ºå®šå‘¼å«çš„æ™‚æ©Ÿ æ¡†æ¶å‘¼å«æˆ‘å€‘çš„ç¨‹å¼ç¢¼ï¼Œæˆ‘å€‘çš„ç¨‹å¼ç¢¼å‘¼å«å‡½å¼åº« å‡½å¼åº«è¢«åŒ…å«åœ¨æ¡†æ¶è£¡  framework æ¡†æ¶(e.g. Vue, React, Angular)  æœ‰è‡ªå·±çš„ç”Ÿå‘½é€±æœŸä¾†æ±ºå®šèª¿ç”¨é€™äº›è³‡æ–™è·Ÿæ–¹æ³•çš„æ™‚æ©Ÿï¼Œè£¡é¢çš„è³‡æ–™è·Ÿæ–¹æ³•è©²å¦‚ä½•å‚³éæœƒæœ‰ä¸€å®šçš„è¦ç¯„ï¼Œ  Library å‡½å¼åº«(e.g. day.js, SweetAlert)  é¡ä¼¼å¥—ä»¶çš„æ¦‚å¿µï¼Œé€éå‡½å¼åº«çš„è™•ç†ï¼Œå¯ä»¥ç²å–å°æ‡‰çš„å›å‚³çµæœ(æ ¼å¼è½‰æ›/å½ˆè·³è¦–çª—)  The Difference Between a Framework and a Library\nå»ºæ§‹ Vue å°ˆæ¡ˆ çš„æ–¹å¼ CDN   é–‹ç™¼ç‰ˆï¼šæœƒæœ‰å°æ‡‰ console warnings https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js\n  ä¸Šç·šç‰ˆï¼šoptimized for size and speed\nhttps://cdn.jsdelivr.net/npm/vue@2\n  å„ªé»ï¼š\n ä¾ç…§åœ°å€æœ€è¿‘çš„ä¼ºæœå™¨æä¾›æœå‹™(é€éä¸åŒç¯€é»æä¾›ç•¶åœ°ä½¿ç”¨è€…æœå‹™)ï¼Œæ¸›å°‘å­˜å–è³‡æ–™å»¶é² CDN ä¼ºæœå™¨åˆ†æ“”æµé‡ï¼Œé™ä½æœ¬ä¾†çš„ loading CDN æœ‰å¿«å–ï¼Œç•¶æœå‹™çªç„¶æœ‰å•é¡ŒçŸ­æ™‚é–“é‚„å¯ä»¥æ’ä¸€ä¸‹  ç¼ºé»ï¼š\n è¦ä»˜è²» CDN æ›æ‰ä½ çš„ç”¢å“ä¹Ÿæœƒæ›æ‰ æ¯æ¬¡ç¶²ç«™æ›´æ–°ï¼Œéœ€è¦ä¸»å‹•æ¸…é™¤ CDN å¿«å–ï¼Œä¸ç„¶ä½¿ç”¨è€…æœƒçœ‹åˆ°ä¸å¤ å³æ™‚çš„ è³‡è¨Š  Vue CLI  åŸºæ–¼ Webpack æ‰“åŒ…ç¨‹å¼ç¢¼ï¼Œé€éè®€å–å…¥å£æ–‡ä»¶ã€è§£æä¾è³´æ¨¡çµ„ã€æ”¶é›† dependencyã€ç¨‹å¼ç¢¼è½‰è­¯ã€æ‰“åŒ…åˆä½µã€ç¨‹å¼ç¢¼å„ªåŒ–ï¼Œæœ€çµ‚å°‡é«˜ç‰ˆæœ¬/é›¢æ•£çš„ç¨‹å¼ç¢¼ç·¨è­¯æ‰“åŒ…æˆä½ç‰ˆæœ¬/é«˜å…¼å®¹æ€§çš„ç”¢ç‰©ç¨‹å¼ç¢¼å»ºæ§‹æˆä¸€å€‹ JavaScript çš„æ†ç¶åŒ…ï¼Œçµåˆ webpack-dev-server æä¾›éœæ…‹è³‡æº é–‹ç™¼ç’°å¢ƒé‹è¡Œç›¸å° Vite æ…¢ï¼Œå†·å•Ÿå‹•è·Ÿç†±åŠ è¼‰éƒ½æœƒéš¨è‘—æ‡‰ç”¨ç¨‹å¼è®Šå¤§ï¼Œç­‰å¾…æ™‚é–“æ›´é•·ï¼Œé–‹ç™¼é«”é©—è¼ƒå·® é…ç½®å¾ˆé½Šå…¨ï¼ŒèˆŠç€è¦½å™¨ç›¸å®¹æ€§é«˜  Vite  åŸºæ–¼ ESM (ES Modules)ï¼Œé–‹ç™¼æ™‚ä½¿ç”¨ ESbuild(Go èªè¨€æ’°å¯«)ï¼Œä¾è³´ç€è¦½å™¨ ES6 Modules çš„åŸç”Ÿæ”¯æŒï¼Œåœ¨é‹è¡Œçš„æ™‚å€™ç›´æ¥ç™¼ HTTP è«‹æ±‚ JavaScript æ¨¡çµ„ å†·å•Ÿå‹•è·Ÿç†±åŠ è¼‰å¿«é€Ÿï¼Œé–‹ç™¼é«”é©—é€Ÿåº¦å¿«ï¼Œé–‹ç™¼æ™‚ç·¨è­¯çš„ç¨‹å¼ç¢¼ç°¡æ½”ï¼ŒèˆŠç€è¦½å™¨ç›¸å®¹æ€§ä½ production æœƒä½¿ç”¨ rollup æ‰“åŒ…ï¼Œé–‹ç™¼ç·¨è­¯è·Ÿ production æ‰“åŒ…æ˜¯ä¸åŒç³»çµ±ï¼Œå¯èƒ½å°‘æ•¸ç‹€æ³ä¸‹æœƒæœ‰ä¸åŒè¡Œç‚º  Vue ç”Ÿå‘½é€±æœŸ åœ¨ SPA æ‡‰ç”¨ï¼Œé‡å°éƒ¨åˆ†å…ƒä»¶æ›è¼‰/è³‡æ–™æ›´æ–°/å¸è¼‰æ™‚æœ‰å°æ‡‰çš„ç”Ÿå‘½é€±æœŸé©åˆæ“ä½œï¼Œé€éé€™äº› Vue å…§å»ºçš„ Hook function ä¾†ä»‹å…¥\n beforeCreateï¼šåˆå§‹åŒ– Vue å¯¦ä¾‹/äº‹ä»¶è·Ÿç”Ÿå‘½é€±æœŸ  å°šç„¡æ³•è®€å– data, computed, methods, watch/event callbacks é©åˆå±•ç¤º loading ç•«é¢ï¼Œä¸é©åˆ fetch è³‡æ–™ï¼Œé‚„æ²’æœ‰ data å¯ä»¥å­˜   createdï¼šå‰µå»ºå®Œå¯¦ä¾‹(è™›æ“¬ DOM)  è¨­ç½® data, computed, methods, watch/event callbacks å°šç„¡æ³•è®€å–$elï¼Œé©åˆ fetch è³‡æ–™   beforeMountï¼šå°šæœªæ›è¼‰æ¨¡æ¿  ç›¸é—œ render å‡½å¼é¦–æ¬¡è¢«èª¿ç”¨   mountedï¼šå¯¦ä¾‹æ›è¼‰æ¨¡æ¿(çœŸå¯¦ DOM)  el è¢«æ–°å‰µå»ºçš„ vm.$el æ›¿æ›   beforeUpdateï¼šdata æ›´æ–°ä½†é‚„æ²’é‡æ–°æ¸²æŸ“ç•«é¢  é©åˆåœ¨æ­¤æ›´æ–°è³‡æ–™ï¼Œå¯é‡è¤‡å‘¼å«   updatedï¼šdata æ›´æ–°ä¸”æ¸²æŸ“ç•«é¢å®Œæˆ  å¯ä»¥å–å¾—æ›´æ–°çš„ DOMï¼Œå¯é‡è¤‡å‘¼å«   beforeDestroyï¼šå¯¦ä¾‹è¢«éŠ·æ¯€å‰  é©åˆåœ¨æ­¤æ™‚å¸è¼‰æ‰‹å‹•æ·»åŠ çš„ç›£è½/è¨‚é–±   destroyedï¼šå¯¦ä¾‹è¢«éŠ·æ¯€  çˆ¶å­å…ƒä»¶çš„ç”Ÿå‘½é€±æœŸ   æ›è¼‰ï¼šçˆ¶å…ƒä»¶æ˜¯åœ¨å­å…ƒä»¶ mounted å¾Œæ‰ mounted çˆ¶å…ƒä»¶ beforeCreate çˆ¶å…ƒä»¶ created çˆ¶å…ƒä»¶ beforeMount å­å…ƒä»¶ beforeCreate å­å…ƒä»¶ created å­å…ƒä»¶ beforeMount å­å…ƒä»¶ mounted çˆ¶å…ƒä»¶ mounted\n  è³‡æ–™æ›´æ–° çˆ¶å…ƒä»¶ beforeUpdate å­å…ƒä»¶ beforeUpdate å­å…ƒä»¶ updated çˆ¶å…ƒä»¶ updated\n  éŠ·æ¯€å…ƒä»¶ çˆ¶å…ƒä»¶ beforeDestroy å­å…ƒä»¶ beforeDestroy å­å…ƒä»¶ destroyed çˆ¶å…ƒä»¶ destroyed\n  Vue è·¨å…ƒä»¶å‚³éè³‡æ–™   çˆ¶å‚³å­ï¼šProps é€é props æŠŠå€¼å¾çˆ¶å±¤ä¸Ÿåˆ°å­å±¤ï¼Œç•¶å…ƒä»¶è·é›¢å¾ˆé å°±æœƒä¸å¥½å‚³é props API\n  å­å‚³çˆ¶ï¼šemit å­å±¤è¦æ”¹è®Šçˆ¶å±¤ç‹€æ…‹çš„è©±ï¼Œå¯é€éå­å±¤ç™¼é€ emit è§¸ç™¼çˆ¶å±¤çš„ methods ä¾†æ›´æ–°ç‹€æ…‹ emits API\n  å…„å¼Ÿå±¤çš„å‚³éï¼š éœ€è¦æ­é… event å¾€ä¸Šå‚³ï¼ŒProps å¾€ä¸‹å‚³ ä½¿ç”¨ EventBusï¼ˆvue3 å·²ç§»é™¤ï¼Œå»ºè­°ç”¨ vuex ç®¡ç†) $on: ç›£è½ $once: ç›£è½ä¸€æ¬¡ $off: å–æ¶ˆç›£è½ $emit: å‚³éäº‹ä»¶ created å³é€²è¡Œç›£è½ï¼ŒbeforeDestroy é€²è¡Œå–æ¶ˆ å¯ä»¥åƒè€ƒé€™ç¯‡\n  vuex store çµ±ä¸€ç®¡ç†è®“æ‰€æœ‰å…ƒä»¶å¯è·¨å±¤ç´šç²å–é€™äº›è³‡æ–™ï¼Œè‹¥éœ€è¦éåŒæ­¥è§¸ç™¼è³‡æ–™çš„æ›´æ–°ï¼Œä¹Ÿå¯ä»¥ç”¨ action ä¾† emit äº‹ä»¶ï¼Œç„¶å¾Œé€é mutation è£¡é¢çš„æ–¹æ³•ä¾†æ›´æ–°è³‡æ–™\n  ï¼Šé¿å…æ¿«ç”¨ vuex ç®¡ç†æ‰€æœ‰è³‡æ–™ï¼Œåœ¨å‚³éä¸æ˜“æˆ–è·Ÿè·¨é é¢ï¼ˆåˆ‡æ›è·¯ç”±ç­‰ï¼‰æ™‚ä½¿ç”¨ï¼ˆe.g. é©—è­‰ç‹€æ…‹/è³¼ç‰©è»Š/éŠæˆ²çµæœç­‰)ï¼›çˆ¶å­å…ƒä»¶å°±ç”¨æœ¬ä¾†çš„ props æˆ– emit å³å¯(e.g. fetch API è³‡æ–™å¾€ä¸‹å‚³éçµ¦å„å…ƒä»¶)\nEvent-bus Event-bus emit / on äº‹ä»¶ï¼Œåšè·¨å±¤ç´šå‚³éï¼Œç¼ºé»æ˜¯äº‹ä»¶å‘½åç›¸åŒå°±æœƒå°è‡´è¡çªï¼Œä¸”ç›£è½ä¹Ÿéœ€è¦åšå¥½ç®¡ç†ï¼Œä¸éœ€è¦çš„æ™‚å€™è¦è¨˜å¾—æ¸…é™¤ï¼Œä¾‹å¦‚åœ¨å¤šå€‹è·¯ç”±åˆ‡æ›æ™‚ï¼Œè‹¥ä¸åŒé é¢ä½¿ç”¨äº†åŒä¸€å€‹äº‹ä»¶åï¼Œæœƒå°è‡´é‡è¤‡è§¸ç™¼äº‹ä»¶çš„å•é¡Œï¼ˆå› äº‹ä»¶çš„ç›£è½ä¸æœƒéš¨è‘—å…ƒä»¶çš„éŠ·æ¯€è€Œè·Ÿè‘—éŠ·æ¯€ï¼Œè¦ä¸»å‹•å»è¨»éŠ·äº‹ä»¶ï¼‰ï¼Œä¸”è¨»éŠ·ä¹Ÿéœ€è¦å°å¿ƒè™•ç†ï¼Œæ²’è¨»éŠ·æ­£ç¢ºä¹Ÿæœ‰å¯èƒ½å°è‡´å¾ŒçºŒè§¸ç™¼å¤±æ•—  å°ˆæ¡ˆè³‡æ–™å¤¾é…ç½® ä¹‹å‰æ›¾ç¶“çœ‹åˆ°éå¾ˆå®Œæ•´çš„é…ç½®ç¯„ä¾‹ï¼ŒåŒ…å« Sass è³‡æ–™å¤¾è¦åŠƒ\nvue é–‹ç™¼è€…å·¥å…· chrome extension é€£çµ\nUser Story æ¦‚ç•¥ç‰ˆ  è¼¸å…¥æ¡†ä¸€é–‹å§‹æœƒæ˜¯ focus ç‹€æ…‹ï¼Œplaceholder æœ‰æç¤ºæ–‡å­— æœ‰ä»»å‹™æ™‚è¼¸å…¥æ¡†æœƒå¤šä¸€å€‹ label åšå‡ºä¾†çš„ä¸‰è§’å½¢æŒ‰éˆ• é»ä¸‰è§’å½¢æŒ‰éˆ•æœƒå…¨é¸æ‰€æœ‰ä»»å‹™ æ‰‹å‹•å…¨é¸ä»»å‹™ä¹Ÿæœƒè§¸ç™¼ä¸‰è§’å½¢æŒ‰éˆ•å…¨é¸æ¨£å¼ ä»»å‹™çš„ layout æ˜¯ checkbox/ä»»å‹™å…§å®¹/åˆªé™¤æŒ‰éˆ• é›™æ“Šé¸é …ç·¨è¼¯ä»»å‹™å…§å®¹ footer æœ‰ span æ–‡å­—æç¤ºé‚„æœ‰å¤šå°‘ä»¶äº‹é …æ²’å®Œæˆï¼Œéœ€è€ƒæ…®å–®è¤‡æ•¸ ä¸‰å€‹ç¯©é¸å™¨ç¯©é¸ä¸åŒç‹€æ…‹çš„ä»»å‹™ all/active/complete (ä¸åŒè·¯ç”±)  CSS\nå‰µå»º Vue å¯¦ä¾‹  CDN è¼‰å…¥ Vue å¾Œå°±æœ‰æ§‹é€ å‡½å¼ï¼Œæˆ‘å€‘å¯ä»¥é€é new Vue å‰µå»ºå¯¦ä¾‹ï¼Œç¶å®šå°æ‡‰ HTML å…ƒç´ /å®¹å™¨ JavaScript å‰µå»º Vue å¯¦ä¾‹ï¼Œç¶å®š HTML å…ƒç´ /å®¹å™¨ ä¸‹æ–¹ç‚º todomvc ç°¡å–®è¦åŠƒå€å¡Šï¼Œ #app ç¶å®š \u0026lt;div id =\u0026quot;#app\u0026quot;\u0026gt;\u0026lt;/div\u0026gt;  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  \u0026lt;template\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;header\u0026gt; \u0026lt;h1\u0026gt;{{ title }}\u0026lt;/h1\u0026gt; \u0026lt;/header\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; /\u0026gt; \u0026lt;main\u0026gt;\u0026lt;/main\u0026gt; \u0026lt;footer\u0026gt;\u0026lt;/footer\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { title: \u0026#34;todos\u0026#34;, // å±¬æ€§ï¼šå€¼  }, }); \u0026lt;/script\u0026gt;   vue æ¨¡æ¿èªè¨€è·Ÿè¡¨é”å¼  é›™æ‹¬å¼§{{ è¡¨é”å¼ }}ï¼Œè‹¥ç‚ºè®Šæ•¸æœƒé¡¯ç¤º key çš„å°æ‡‰ Valueï¼Œè·Ÿ React çš„{è¡¨é”å¼}ä¸€æ¨£ï¼Œæ”¾åœ¨\u0026lt;HTMLå…ƒç´ \u0026gt;{{ }}\u0026lt;/HTMLå…ƒç´ \u0026gt;ä¹‹é–“ å¦‚æœè®Šæ•¸è¢«\u0026quot;\u0026ldquo;åŒ…è‘—{{\u0026ldquo;è®Šæ•¸\u0026rdquo;}}ï¼Œæœƒé¡¯ç¤ºç´”å­—ä¸² ç”¨ä¾†å½¢å®¹ HTML å±¬æ€§ç”¨çš„è®Šæ•¸æœƒä½¿ç”¨\u0026quot;\u0026quot;ï¼Œ\u0026lt;HTMLå…ƒç´  class=\u0026quot;è®Šæ•¸\u0026quot;\u0026gt;\u0026lt;/HTMLå…ƒç´ \u0026gt;  v-bind å‹•æ…‹ç¶å®š data å±¬æ€§  :å±¬æ€§å data API å¯¦ç¾ JavaScript è·Ÿ HTML è³‡æ–™ç¶å®š v-bindå¯ä»¥ç”¨ç¸®å¯«ç¬¦è™Ÿ:ä»£æ›¿ ç•¶å±¬æ€§å€¼ç‚º true æœƒå‡ºç¾ï¼Œè‹¥å€¼ç‚ºnull undefined false å±¬æ€§ä¸æœƒå‡ºç¾ :classå¯ä»¥ç•°å‹• class nameï¼Œä½†åªèƒ½é‡å° vue è‡ªå·±å¢åŠ çš„åšæ”¹è®Šï¼Œä¸èƒ½å‹•åˆ°åŸæœ¬ç”Ÿæˆçš„ ç”± completed çš„å¸ƒæ—å€¼æ±ºå®š text æ¨£å¼ï¼Œ\u0026lt;li :class=\u0026quot;completed\u0026quot;\u0026gt;text\u0026lt;/li\u0026gt;  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  \u0026lt;template\u0026gt; \u0026lt;li class=\u0026#34;todo\u0026#34; :class=\u0026#34;{ completed }\u0026#34;\u0026gt;\u0026lt;/li\u0026gt; //ä¹Ÿå¯ä»¥ç›´æ¥å¯«æˆä¸€å€‹key valueç‰©ä»¶  \u0026lt;li class=\u0026#34;todo\u0026#34; :class=\u0026#34;{ completed: true }\u0026#34;\u0026gt;\u0026lt;/li\u0026gt; // è‹¥å–®å€‹å±¬æ€§è¦æ’å…¥å¤šå€‹å€¼ï¼Œå¯ä»¥é‹ç”¨é™£åˆ—  \u0026lt;li class=\u0026#34;todo\u0026#34; :class=\u0026#34;[{ completed: true }, { edit: true }]\u0026#34;\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { completed: true, }, }); \u0026lt;/script\u0026gt;   v-for è¿´åœˆ  v-for=\u0026quot;(item, index) in items\u0026quot; :key=\u0026quot;item.id\u0026quot; items å¯ç‚ºé™£åˆ—/ç‰©ä»¶/æ•¸å­—/å­—ä¸²/Iterables ç‰©ä»¶è¿­ä»£é †åºæ˜¯æ ¹æ“š keyï¼Œkey åƒæ˜¯ MongoDB å…§å»ºçš„_idï¼Œvue æœƒç”¨ key ç¢ºèªè³‡æ–™æ˜¯å¦æœ‰æ­£å¸¸åˆªæ”¹ï¼Œç‚ºäº†é¿å…åœ¨ diff æ¼”ç®—å¾Œæ¸›å°‘ç™¼ç”Ÿåˆªæ”¹å¾Œæ¸²æŸ“æœ‰éŒ¯ï¼Œä¸”ç‚ºäº†è®“æ¼”ç®—æ³•æœ‰æ›´å¥½çš„æ•ˆèƒ½ï¼Œå¼·çƒˆå»ºè­°è¦åŠ ä¸Šï¼Œä½†ä¸è¦ä½¿ç”¨ index å¦‚æœä¸€ä¸²è³‡æ–™ä¸­æ²’å®šç¾© idï¼Œå¯ç”¨ uuid å¥—ä»¶ç”¢å‡ºè£œä¸Šï¼Œä¸è¦ç”¨ index ä½œç‚º keyã€‚ç”±æ–¼ index å°æ‡‰çš„è³‡æ–™æ˜¯æµ®å‹•è€Œéçµ•å°ä½ç½®ï¼Œå› æ­¤åœ¨æ¯”è¼ƒè™›æ“¬ dom è·ŸçœŸå¯¦ dom çš„éç¨‹ä¸­æœƒå‡ºéŒ¯ vue2 v-for çš„å„ªå…ˆé †åºé«˜æ–¼ v-ifï¼Œvue3 v-if çš„å„ªå…ˆé †åºé«˜æ–¼ v-forï¼Œé¿å…åœ¨åŒä¸€å…ƒç´ ä¸ŠåŒæ™‚ä½¿ç”¨å…©è€…ï¼Œæœ€å¥½çš„åšæ³•æ˜¯ç”¨ computed ç¯©é¸å‡ºåˆ—è¡¨å†è¿´åœˆæ¸²æŸ“ é€™é‚Šçš„ item ç‰©ä»¶ä¹Ÿå¯ä»¥å‚³çµ¦ä¸‹å±¤ HTML å…ƒç´ åˆ©ç”¨  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37  \u0026lt;template\u0026gt; \u0026lt;li v-for=\u0026#34;item in items\u0026#34; :key=\u0026#34;item.id\u0026#34; class=\u0026#34;item\u0026#34; :class=\u0026#34;{ completed: item.completed }\u0026#34; \u0026gt; \u0026lt;div class=\u0026#34;view\u0026#34;\u0026gt; \u0026lt;input class=\u0026#34;toggle\u0026#34; type=\u0026#34;checkbox\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;\u0026#34;\u0026gt;{{ item.title }}\u0026lt;/label\u0026gt; \u0026lt;button class=\u0026#34;destroy\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; class=\u0026#34;edit\u0026#34; /\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { todos: [ { title: \u0026#39;todo1\u0026#39;, completed: true, }, { title: \u0026#39;todo2\u0026#39;, completed: false, }, { title: \u0026#39;todo3\u0026#39;, completed: false, }, ], }, } \u0026lt;/script\u0026gt;   v-on ç›£è½äº‹ä»¶  @äº‹ä»¶é¡å‹ v-onå¯ä»¥ç”¨ç¸®å¯«ç¬¦è™Ÿ@ä»£æ›¿ï¼Œ@click @change @keyup åƒæ•¸åŠ ä¸Š $eventï¼Œå¯ä»¥ç”¨ä¾†å–å¾— DOMÂ eventÂ ç‰©ä»¶çš„å€¼ v-for=\u0026ldquo;item in items\u0026quot;çš„çµæ§‹è£¡ï¼Œé‚„å¯ä»¥å‚³ç‰©ä»¶çµ¦äº‹ä»¶ @click=\u0026ldquo;äº‹ä»¶é¡å‹(item ç‰©ä»¶)\u0026rdquo; ç”±æ–¼ windows.event(å…¨åŸŸ event ç‰©ä»¶)å·²ç¶“è¢«æ£„ç”¨ï¼Œè‹¥äº‹ä»¶æ–¹æ³•æœ‰ç”¨åˆ° event ç‰©ä»¶è¨­å®š$eventåƒæ•¸ä»¥å–å¾—eventç‰©ä»¶ï¼Œåƒæ•¸ä½¿ç”¨ $eventï¼Œ@click=\u0026quot;äº‹ä»¶é¡å‹($event)\u0026quot;ï¼Œä»¥å–å¾—è§¸ç™¼äº‹ä»¶å…§éƒ¨åƒæ•¸ å¸¸è¦‹çš„æŒ‰éµ.enter .esc .space ç­‰æœ‰å°ˆç”¨ä¿®é£¾ç¬¦ä¸éœ€è¦å†å¦è¨˜ key code éµç›¤æ”¯æ´æ¸…å–® å¸¸è¦‹çš„äº‹ä»¶ä¿®é£¾ç¬¦.stop(é˜»æ“‹å†’æ³¡) .prevent(é˜»æ“‹é è¨­äº‹ä»¶é‡è¼‰é é¢) .capture(å‘ä¸‹æ•ç²æ–¹å¼è§¸ç™¼) .self(é™å®šæŒ‡å®šå…ƒç´ æœ¬èº«è§¸ç™¼) .once(åªè§¸ç™¼ä¸€æ¬¡) .passive(æ»¾å‹•äº‹ä»¶å»¶é²ï¼Œè®“è¡Œå‹•ç«¯ä¸å¡)ï¼Œä¿®é£¾ç¬¦å¯ä»¥ä¸²é€£ äº‹ä»¶ç¶å®šçš„æ–¹æ³• callback function å¯«åœ¨ script çš„ methods è£¡é¢ input ç¶å®šäº‹ä»¶åƒæ•¸å·®ç•°  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40  \u0026lt;template\u0026gt; // inputç¶å®šä»»æ„éµè§¸ç™¼handleKeyupæ–¹æ³•ï¼Œä¸¦å‚³å…¥newTodoè®Šæ•¸  \u0026lt;input v-model=\u0026#34;newTodo\u0026#34; @keyup=\u0026#34;handleKeyup(newTodo)\u0026#34; type=\u0026#34;text\u0026#34; class=\u0026#34;new-todo\u0026#34; autofocus placeholder=\u0026#34;what needs to be doneï¼Ÿ\u0026#34; /\u0026gt; // inputé™åˆ¶enteréµè§¸ç™¼handleKeyupï¼Œä¸¦å‚³å…¥newTodoè®Šæ•¸  \u0026lt;input v-model=\u0026#34;newTodo\u0026#34; @keyup.enter=\u0026#34;handleKeyup(newTodo)\u0026#34; type=\u0026#34;text\u0026#34; class=\u0026#34;new-todo\u0026#34; autofocus placeholder=\u0026#34;what needs to be doneï¼Ÿ\u0026#34; /\u0026gt; // é€é$event ä¾†æ‹¿åˆ° event ç‰©ä»¶  \u0026lt;input v-model=\u0026#34;newTodo\u0026#34; @keyup=\u0026#34;handleKeyup(newTodo, $event)\u0026#34; type=\u0026#34;text\u0026#34; class=\u0026#34;new-todo\u0026#34; autofocus placeholder=\u0026#34;what needs to be doneï¼Ÿ\u0026#34; /\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; // æ¸¬è©¦æœ‰ç„¡æˆåŠŸè§¸ç™¼äº‹ä»¶ï¼Œconsoleå‡ºå‚³å…¥åƒæ•¸ï¼Œåç¨±ä»»æ„ methods: { handleKeyup2(inputContent, event) { console.log(inputContent, event); } } \u0026lt;/script\u0026gt;   v-model é›™å‘ç¶å®š input è·Ÿè³‡æ–™  v-bind + v-on çš„çµåˆï¼Œåªé©åˆç”¨åœ¨è¡¨å–®å…ƒç´  v-bind è³‡æ–™ â†’ ç•«é¢ï¼Œv-on ç•«é¢ â†’ è³‡æ–™ v-model åˆå§‹å€¼å„ªå…ˆçœ‹ data è£¡é¢çš„å€¼ï¼Œè¡¨å–®ä¸Šå¯«çš„checked selectedå±¬æ€§æœƒå¿½ç•¥  1 2 3 4 5 6 7 8 9 10  \u0026lt;template\u0026gt; // ç¶å®šåœ¨ input å¯«ä¸€å€‹ v-model=\u0026#34;dataå°æ‡‰å±¬æ€§\u0026#34;  \u0026lt;input v-model=\u0026#34;newTodo\u0026#34; type=\u0026#34;text\u0026#34; class=\u0026#34;new-todo\u0026#34; autofocus placeholder=\u0026#34;what needs to be doneï¼Ÿ\u0026#34; /\u0026gt; \u0026lt;/template\u0026gt;   1 2 3 4 5 6 7  new Vue({ el: \u0026#34;#app\u0026#34;, data: { newTodo: \u0026#34;\u0026#34;, //æ–°å¢ä¸€å€‹å±¬æ€§ åˆå§‹å€¼ç©ºçš„å­—ä¸²\u0026#39;\u0026#39;  // ...  }, });     ä¸åŒé¡å‹çš„ input æœƒåµæ¸¬ä¸åŒäº‹ä»¶ï¼Œæ›´æ–°ä¸åŒå±¬æ€§\n  type = text textareaå…ƒç´  åµæ¸¬åˆ° inputÂ äº‹ä»¶æœƒæ›´æ–° valueÂ (\u0026lt;input\u0026gt;, \u0026lt;select\u0026gt; \u0026lt;textarea\u0026gt; å…ƒç´ çš„ value è¢«ä¿®æ”¹æ™‚æœƒè§¸ç™¼ input äº‹ä»¶) ï¼Š textarea æ¨™ç±¤ä¸­é–“çš„é›™æ‹¬å¼§ä¸æœƒé›™å‘ç¶å®šï¼Œåªæœƒå–®å‘é¡¯ç¤ºè³‡æ–™å…§å®¹ï¼Œä¸è¦ç”¨é€™å€‹ ( \u0026lt;textarea\u0026gt;{{text}}\u0026lt;/textarea\u0026gt; ) ä½¿ç”¨ v-model\nhttps://vuejs.org/v2/guide/forms.html\n  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  \u0026lt;template\u0026gt; \u0026lt;input v-model=\u0026#34;text\u0026#34; /\u0026gt; \u0026lt;span\u0026gt;Multiline message is:\u0026lt;/span\u0026gt; \u0026lt;p style=\u0026#34;white-space: pre-line;\u0026#34;\u0026gt;{{ message }}\u0026lt;/p\u0026gt; \u0026lt;textarea v-model=\u0026#34;message\u0026#34; placeholder=\u0026#34;add multiple lines\u0026#34;\u0026gt;\u0026lt;/textarea\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { text: \u0026#34;\u0026#34;, message: \u0026#34;\u0026#34;, }, }); \u0026lt;/script\u0026gt;    type = checkbox type= radio å–®è¤‡é¸åµæ¸¬ changeÂ äº‹ä»¶ï¼ŒæŠ“å– checkedÂ å€¼(true/false)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35  \u0026lt;template\u0026gt; // å–®é¸radio  \u0026lt;input type=\u0026#34;radio\u0026#34; id=\u0026#34;one\u0026#34; value=\u0026#34;One\u0026#34; v-model=\u0026#34;picked\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;one\u0026#34;\u0026gt;One\u0026lt;/label\u0026gt; \u0026lt;br /\u0026gt; \u0026lt;input type=\u0026#34;radio\u0026#34; id=\u0026#34;two\u0026#34; value=\u0026#34;Two\u0026#34; v-model=\u0026#34;picked\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;two\u0026#34;\u0026gt;Two\u0026lt;/label\u0026gt; \u0026lt;br /\u0026gt; \u0026lt;span\u0026gt;Picked: {{ picked }}\u0026lt;/span\u0026gt; // å–®é¸checkbox \u0026lt;input type=\u0026#34;checkbox\u0026#34; id=\u0026#34;checkbox\u0026#34; v-model=\u0026#34;checked\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;checkbox\u0026#34;\u0026gt;{{ checked }}\u0026lt;/label\u0026gt; \u0026lt;br /\u0026gt; // å¤šé¸checkboxï¼Œç¶å®šé™£åˆ—ï¼Œé€é\u0026#34;checkedNames\u0026#34; å°‡å°æ‡‰çš„valueå‚³å…¥é™£åˆ—ï¼Œé¡¯ç¤ºå‹¾é¸çš„åå­— \u0026lt;input type=\u0026#34;checkbox\u0026#34; id=\u0026#34;jack\u0026#34; value=\u0026#34;Jack\u0026#34; v-model=\u0026#34;checkedNames\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;jack\u0026#34;\u0026gt;Jack\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;checkbox\u0026#34; id=\u0026#34;john\u0026#34; value=\u0026#34;John\u0026#34; v-model=\u0026#34;checkedNames\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;john\u0026#34;\u0026gt;John\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;checkbox\u0026#34; id=\u0026#34;mike\u0026#34; value=\u0026#34;Mike\u0026#34; v-model=\u0026#34;checkedNames\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;mike\u0026#34;\u0026gt;Mike\u0026lt;/label\u0026gt; \u0026lt;br /\u0026gt; \u0026lt;span\u0026gt;Checked names: {{ checkedNames }}\u0026lt;/span\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { picked: \u0026#34;\u0026#34;, checked: true, checkedNames: [], }, }); \u0026lt;/script\u0026gt;    selectä¸‹æ‹‰é¸å–®åµæ¸¬changeäº‹ä»¶ï¼Œæ›´æ–°valueå€¼  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  \u0026lt;template\u0026gt; //\u0026#34;selected\u0026#34; å°‡å‹¾é¸çš„value å‚³åˆ°é™£åˆ—é¡¯ç¤º  \u0026lt;select v-model=\u0026#34;selected\u0026#34;\u0026gt; \u0026lt;option disabled value=\u0026#34;\u0026#34;\u0026gt;Please select one\u0026lt;/option\u0026gt; \u0026lt;option\u0026gt;A\u0026lt;/option\u0026gt; \u0026lt;option\u0026gt;B\u0026lt;/option\u0026gt; \u0026lt;option\u0026gt;C\u0026lt;/option\u0026gt; \u0026lt;/select\u0026gt; \u0026lt;span\u0026gt;Selected: {{ selected }}\u0026lt;/span\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { selected: \u0026#34;\u0026#34;, }, }); \u0026lt;/script\u0026gt;   æ–°å¢ todo  å¼•å…¥ uuid å¥—ä»¶ï¼Œåœ¨ script æ¸¬è©¦ alert(uuidv4()) æŠŠ newTodo å…§å®¹åŠ ä¸Šæ–°å±¬æ€§ uuid ç”¢å‡ºçš„ idï¼Œpush åˆ° data è£¡é¢çš„ todos é™£åˆ— æ–°å¢å®Œå¾ŒæŠŠ newTodo æ¸…ç©º(é¿å…æŒ‰ enter æœƒå¢åŠ ä¸€æ¨£çš„å…§å®¹) ç©ºç™½ return æç¤ºå…§å®¹ç‚ºç©º  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53  \u0026lt;template\u0026gt; \u0026lt;input v-model=\u0026#34;newTodo\u0026#34; @keyup.enter=\u0026#34;addTodo(newTodo, $event)\u0026#34; type=\u0026#34;text\u0026#34; class=\u0026#34;new-todo\u0026#34; autofocus placeholder=\u0026#34;what needs to be doneï¼Ÿ\u0026#34; /\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { newTodo: \u0026#34;\u0026#34;, // update dummy data with id  todos: [ { id: uuidv4(), title: \u0026#34;todo1\u0026#34;, completed: true, }, { id: uuidv4(), title: \u0026#34;todo2\u0026#34;, completed: false, }, { id: uuidv4(), title: \u0026#34;todo3\u0026#34;, completed: false, }, ], }, methods: { addTodo() { const title = this.newTodo.trim(); console.log(this.newTodo); if (!title) { return; } // æ¯ç­†è³‡æ–™éƒ½å¢åŠ  id å±¬æ€§ï¼Œå€¼å¸¶å…¥ uuidv4()  this.todos.push({ id: uuidv4(), title: this.newTodo, completed: false, }); this.newTodo = \u0026#34;\u0026#34;; }, }, }); \u0026lt;/script\u0026gt;   åˆªé™¤ todo  è¦æ‰¾åˆ°å°æ‡‰å…ƒç´ éœ€è¦ idï¼Œé€éåƒæ•¸å›å‚³  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50  \u0026lt;template\u0026gt; \u0026lt;ul class=\u0026#34;todo-list\u0026#34;\u0026gt; \u0026lt;li v-for=\u0026#34;todo in todos\u0026#34; class=\u0026#34;todo\u0026#34; :class=\u0026#34;{ completed: todo.completed }\u0026#34; \u0026gt; \u0026lt;div class=\u0026#34;view\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;checkbox\u0026#34; class=\u0026#34;toggle\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;\u0026#34;\u0026gt;{{ todo.title }}\u0026lt;/label\u0026gt; \u0026lt;!-- å¸¶å…¥ todo åƒæ•¸ --\u0026gt; \u0026lt;button @click=\u0026#34;removeTodo(todo)\u0026#34; class=\u0026#34;destroy\u0026#34;\u0026gt;\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; class=\u0026#34;edit\u0026#34; /\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { newTodo: \u0026#39;\u0026#39;, todos: [ { id: uuidv4(), title: \u0026#34;todo1\u0026#34;, completed: true }, { id: uuidv4(), title: \u0026#34;todo2\u0026#34;, completed: false }, { id: uuidv4(), title: \u0026#34;todo3\u0026#34;, completed: false } ], }, methods: { ... removeTodo(todo){ // ç•™ä¸‹éé»æ“Šåˆ°çš„todo  this.todos = this.todos.filter(todo =\u0026gt; todo.id !== todo.id) } } }) \u0026lt;/script\u0026gt;   å‹•æ…‹åˆ‡æ› todo åˆªé™¤ç·šæ¨£å¼(é›™å‘ç¶å®š)  é» label åˆ‡æ›æœƒæœ‰æ‰“å‹¾è®ŠåŒ–ï¼Œæ˜¯ checkbox æœ¬èº«æœ‰ç„¡ checked çš„æ¨£å¼ï¼Œé‚„æ²’è·Ÿè³‡æ–™ç‹€æ…‹ç¶å®šï¼Œéœ€è¦åœ¨ä½¿ç”¨è€…é»æ“Šæ ¸é¸æ–¹å¡Šæ™‚ï¼Œæ”¹è®Šåˆªé™¤ç·šæ¨£å¼ å…ˆå‰ç”¨:todo.completed å±¬æ€§ä¾†å‹•æ…‹é¡¯ç¤ºåˆªé™¤ç·š :class=\u0026quot;{completed: todo.completed}ï¼Œç¾åœ¨æŠŠ todo.completed è³‡æ–™ç‹€æ…‹ç”¨ v-model=\u0026ldquo;todo.completed\u0026quot;ç¶å®šå› input çš„ checked å€¼ï¼ˆé€™å€‹æ˜¯ vue é è¨­ v-model ä½¿ç”¨æƒ…å¢ƒ) æ­¤ç•¶æˆ‘å€‘ç•«é¢æ“ä½œæ”¹è®Š checked å€¼ todo.completed å€¼ä¹Ÿæœƒé€£å‹• è³‡æ–™ completed åˆå§‹å€¼è¦è¨­å®šå¥½ï¼Œç¢ºèªæ²’æœ‰å¯«å  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43  \u0026lt;template\u0026gt; \u0026lt;li v-for=\u0026#34;todo in todos\u0026#34; :key=\u0026#34;todo.id\u0026#34; class=\u0026#34;todo\u0026#34; :class=\u0026#34;{ completed: todo.completed }\u0026#34; \u0026gt; \u0026lt;div class=\u0026#34;view\u0026#34;\u0026gt; // \u0026#34;todo.completed\u0026#34; ç‚ºçœŸèˆ‡å¦ä¹Ÿæœƒå½±éŸ¿:class // å¦‚æœcompleted:falseå°±æœƒé€™å€‹v-bindç¶å®šå°±æœƒæ¶ˆå¤± \u0026lt;input v-model=\u0026#34;todo.completed\u0026#34; class=\u0026#34;toggle\u0026#34; type=\u0026#34;checkbox\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;\u0026#34;\u0026gt;{{ todo.title }}\u0026lt;/label\u0026gt; \u0026lt;button @click=\u0026#34;removeTodo(todo)\u0026#34; class=\u0026#34;destroy\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; class=\u0026#34;edit\u0026#34; /\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { newTodo: \u0026#34;\u0026#34;, todos: [ { id: uuidv4(), title: \u0026#34;todo1\u0026#34;, completed: true, }, { id: uuidv4(), title: \u0026#34;todo2\u0026#34;, completed: false, }, { id: uuidv4(), title: \u0026#34;todo3\u0026#34;, completed: false, }, ], }, }); \u0026lt;/script\u0026gt;   æ¢ä»¶æ¸²æŸ“ï¼šv-show å’Œ v-if  æ¸…å–®ç‚ºç©ºæ™‚ï¼Œ main è·Ÿ footer è·Ÿ toggle all çš„ icon ä¹Ÿæœƒæ¶ˆå¤± ç”¨ todos.length ä¾†åˆ¤æ–·æ¸…å–®ç‚ºç©ºï¼Œä¾æ¢ä»¶é¡¯ç¤º footer \u0026amp; main æ ¹æ“šæ¢ä»¶éš±è—çš„å…ƒç´ åŠ ä¸Š v-show=\u0026ldquo;todos.length\u0026rdquo; v-ifï¼šé©åˆåˆ‡æ›é »ç‡å°ï¼Œä¸å¸Œæœ›å‡ºç¾åœ¨ DOM treeï¼Œä¸å¸Œæœ›ä½¿ç”¨è€…æ‰“é–‹ DevTool å°±çœ‹åˆ°éš±è—çš„å…§å®¹ v-showï¼šåªæ˜¯åŠ ä¸Š display: noneÂ è®“ä½¿ç”¨è€…çœ‹ä¸åˆ°ï¼Œä»ä¿ç•™åœ¨ DOM treeï¼Œé©åˆåˆ‡æ›é »ç‡é«˜çš„å…ƒä»¶  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  \u0026lt;template\u0026gt; // æ¸…å–®ç‚ºç©ºç‚ºfalseä¸æœƒé¡¯ç¤º ä½†DOMæœƒæœ‰ä¸‹æ–¹é€™è¡Œä¸”åŠ ä¸Šå±¬æ€§display:none \u0026lt;footer class=\u0026#34;footer\u0026#34; v-show=\u0026#34;todos.length\u0026#34;\u0026gt; // æ¸…å–®ç‚ºç©ºç‚ºfalseä¸æœƒé¡¯ç¤º é€™è¡Œåœ¨DOMæœƒé¡¯ç¤ºç‚º\u0026lt;!----\u0026gt; \u0026lt;footer class=\u0026#34;footer\u0026#34; v-if=\u0026#34;todos.length\u0026#34;\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { newTodo: \u0026#34;\u0026#34;, todos: [ ... ] }, }) \u0026lt;/script\u0026gt;    çµ„åˆ v-ifã€v-elseã€v-else-ifÂ ä¾†æ§åˆ¶æµç¨‹  1 2 3 4 5 6 7 8 9 10 11 12  \u0026lt;template\u0026gt; \u0026lt;div v-if=\u0026#34;Math.random() \u0026gt; 0.5\u0026#34;\u0026gt;Now you see me\u0026lt;/div\u0026gt; \u0026lt;div v-else\u0026gt;Now you don\u0026#39;t\u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;template\u0026gt; \u0026lt;div v-if=\u0026#34;type === \u0026#39;A\u0026#39;\u0026#34;\u0026gt;A\u0026lt;/div\u0026gt; \u0026lt;div v-else-if=\u0026#34;type === \u0026#39;B\u0026#39;\u0026#34;\u0026gt;B\u0026lt;/div\u0026gt; \u0026lt;div v-else-if=\u0026#34;type === \u0026#39;C\u0026#39;\u0026#34;\u0026gt;C\u0026lt;/div\u0026gt; \u0026lt;div v-else\u0026gt;Not A/B/C\u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt;    ç•¶ todos.length ç‚º false åªç•™ No footer æ–‡å­—  1 2 3 4 5 6  \u0026lt;template\u0026gt; \u0026lt;footer class=\u0026#34;footer\u0026#34; v-if=\u0026#34;todos.length\u0026#34;\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/footer\u0026gt; \u0026lt;div v-else\u0026gt;No footer\u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt;   computed éœ€é‹ç®—å†æ”¾åˆ°ç•«é¢ä¸Šçš„è³‡æ–™  computed API è·Ÿ data ä¸€æ¨£æœƒ return å€¼ æœƒå»ºç«‹ä¸€å€‹å¿«å–ï¼Œå€¼æ²’æœ‰è®ŠåŒ–å°±ä¸æœƒé‡æ–°é‹ç®—ï¼Œç›¸è¼ƒ methods æ¯æ¬¡é‡æ–°æ¸²æŸ“å°±æœƒå‘¼å«ä¸€æ¬¡æ–¹æ³•ï¼Œcomputed æ•ˆèƒ½è¼ƒå¥½ï¼ˆé¡ä¼¼ react çš„ useState) å¯ä»¥ç”¨ä¾†å¯¦ä½œé‹ç®—é‚è¼¯ï¼Œç•¶è³‡æ–™æœ‰æ”¹è®Šå°±æœƒæ›´æ–°  ç¯©é¸ all active complete  é‹ç”¨é™£åˆ—çš„ filterÂ æ–¹æ³•ä¾†ç¯©é¸ all active complete todos ç¯©é¸ function ç”¨ filters å°è£ active æ•¸é‡é¡¯ç¤ºåœ¨ footer æ–°å¢è®Šæ•¸ filteredOptionï¼Œè¨­å®šç‹€æ…‹ all active completed é€éæŒ‰éˆ•è§¸ç™¼ setFilterdOptionÂ æ›´æ–°ç‹€æ…‹ æ”¹ç”¨ filteredTodosÂ ä¾†æ¸²æŸ“æ¸…å–®å…§å®¹ï¼Œcomputed è£¡æ–°å¢ filteredTodos  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61  \u0026lt;template\u0026gt; \u0026lt;ul class=\u0026#34;todo-list\u0026#34;\u0026gt; \u0026lt;li v-for=\u0026#34;todo in filteredTodos\u0026#34; :key=\u0026#34;todo.id\u0026#34; class=\u0026#34;todo\u0026#34; :class=\u0026#34;{ completed: todo.completed }\u0026#34; \u0026gt;{{ todo.title }} \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;strong\u0026gt;{{ activeTodos }}\u0026lt;/strong\u0026gt; items left \u0026lt;ul class=\u0026#34;filters\u0026#34;\u0026gt; \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#34;#/all\u0026#34; @click=\u0026#34;setFilteredOption(\u0026#39;all\u0026#39;)\u0026#34;\u0026gt;All\u0026lt;/a\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#34;#/active\u0026#34; @click=\u0026#34;setFilteredOption(\u0026#39;active\u0026#39;)\u0026#34;\u0026gt;Active\u0026lt;/a\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#34;#/completed\u0026#34; @click=\u0026#34;setFilteredOption(\u0026#39;completed\u0026#39;)\u0026#34;\u0026gt;Completed\u0026lt;/a\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; // éæ–¼åˆ†æ•£ // const allTodos = (todos) =\u0026gt; todos // const activeTodos = (todos) =\u0026gt; todos.filter((todo) =\u0026gt; !todo.completed) // const completedTodos = (todos) =\u0026gt; todos.filter((todo) =\u0026gt; todo.completed)  const filters = { all: (todos) =\u0026gt; todos, active: (todos) =\u0026gt; todos.filter((todo) =\u0026gt; !todo.completed), completed: (todos) =\u0026gt; todos.filter((todo) =\u0026gt; todo.completed), }; new Vue({ el: \u0026#34;#app\u0026#34;, data: { ... filteredOption: \u0026#34;all\u0026#34;, }, methods: { setFilteredOption(filteredOption) { this.filteredOption = filteredOption; }, }, computed: { activeTodos() { return filters.active(this.todos).length; }, // bracket notation  filteredTodos() { return filters[this.filteredOption](this.todos); // filters.all(this.todos)  // filters.active(this.todos)  // filters.completed(this.todos)  }, }, }); \u0026lt;/script\u0026gt;   è¢«é¸æ“‡çš„æŒ‰éˆ•æ¨£å¼  è¢«é»çš„æœƒæ›ä¸Š selected å–æ¶ˆåŸå…ˆé»çš„ selected ç”¨ v-bind çš„ true æœƒé¡¯ç¤ºå±¬æ€§ false ä¸æœƒé¡¯ç¤ºå±¬æ€§å¯¦ä½œ selected(ä¸ç”¨å¦å¤–å®šç¾© data)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  \u0026lt;template\u0026gt; \u0026lt;footer class=\u0026#34;footer\u0026#34; v-show=\u0026#34;todos.length\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;todo-count\u0026#34;\u0026gt; \u0026lt;strong\u0026gt;{{ activeTodos }}\u0026lt;/strong\u0026gt; {{ activeTodos | pluralize }} left \u0026lt;/span\u0026gt; \u0026lt;ul class=\u0026#34;filters\u0026#34;\u0026gt; \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#34;#/all\u0026#34; :class=\u0026#34;{ selected: filteredOption === \u0026#39;all\u0026#39; }\u0026#34; v-on:click=\u0026#34;setFilteredOption(\u0026#39;all\u0026#39;)\u0026#34; \u0026gt;All\u0026lt;/a \u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#34;#/active\u0026#34; :class=\u0026#34;{ selected: filteredOption === \u0026#39;active\u0026#39; }\u0026#34; v-on:click=\u0026#34;setFilteredOption(\u0026#39;active\u0026#39;)\u0026#34; \u0026gt;Active\u0026lt;/a \u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#34;#/completed\u0026#34; :class=\u0026#34;{ selected: filteredOption === \u0026#39;completed\u0026#39; }\u0026#34; v-on:click=\u0026#34;setFilteredOption(\u0026#39;completed\u0026#39;)\u0026#34; \u0026gt;Completed\u0026lt;/a \u0026gt; \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;button v-on:click=\u0026#34;removeCompleteTodos(todos)\u0026#34; class=\u0026#34;clear-completed\u0026#34;\u0026gt; Clear completed \u0026lt;/button\u0026gt; \u0026lt;/footer\u0026gt; \u0026lt;/template\u0026gt;   filters (vue3 ç§»é™¤ï¼Œå¯ç”¨ computed ä»£æ›¿)  {{ è®Šæ•¸ | filters çš„æ–¹æ³• }} å¸¸ç”¨æ–¼å¤§å°å¯« / å–®è¤‡æ•¸ / æ™‚é–“æ ¼å¼ / è²¨å¹£æ ¼å¼ ç•¶ activeTodos ç‚º 1ï¼Œå›å‚³ itemï¼Œè¶…éå‰‡å‚³ items  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  \u0026lt;template\u0026gt; ... \u0026lt;span class=\u0026#34;todo-count\u0026#34;\u0026gt; \u0026lt;strong\u0026gt;{{ activeTodos }}\u0026lt;/strong\u0026gt; {{ activeTodos | pluralize }} left \u0026lt;/span\u0026gt; ... \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { ... }, methods: { ... }, filters: { toUpperCase(words) { return words.toUpperCase(); } pluralize(n) { return n \u0026gt; 1 ? \u0026#39;items\u0026#39; : \u0026#39;item\u0026#39; } } }) \u0026lt;/script\u0026gt;   æ¸…ç©ºå·²å®Œæˆé …ç›®  removeCompleteTodos(todos)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  \u0026lt;template\u0026gt; \u0026lt;button v-on:click=\u0026#34;removeCompleteTodos(todos)\u0026#34; class=\u0026#34;clear-completed\u0026#34;\u0026gt; Clear completed \u0026lt;/button\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; ... methods: { removeCompleteTodos(todos){ this.todos = this.todos.filter((todo) =\u0026gt; todo.completed === false); } } ... \u0026lt;/script\u0026gt;   LocalStorage ä¿å­˜è³‡æ–™  saveStorage æ›è¼‰ created å¾Œï¼Œé è¨­å€¼å·²ç¶“å®šç¾©åœ¨ created éšæ®µã€‚åŸæœ¬åœ¨ data å¯«çš„ todos é è¨­å€¼å¯ä»¥åˆªé™¤  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  \u0026lt;script\u0026gt; ... created() { // å–å‡ºæ™‚JSON.parse()è½‰JavaScriptç‰©ä»¶  // ç•¶æ²’æœ‰è³‡æ–™æ™‚çµ¦ä»–ä¸€å€‹ç©ºé™£åˆ— ä¸ç„¶å¦‚æœæ˜¯nullæœƒé€ æˆé€£é–éŒ¯èª¤  this.todos = JSON.parse(localStorage.getItem(\u0026#39;STORAGE_KEY\u0026#39;))|| [] }, methods: { saveStorage() { // å­˜å…¥æ™‚æ­é… JSON.stringify() è½‰æˆå­—ä¸²  localStorage.setItem(STORAGE_KEY, JSON.stringify(this.todos)) } } ... \u0026lt;/script\u0026gt;   watch ç›£æ§è³‡æ–™è®ŠåŒ–  æ·ºå±¤ç›£è½ï¼šé™£åˆ—å…§è³‡æ–™æ•¸é‡å¢æ¸›ï¼ˆé è¨­ï¼‰ watc API  1 2 3 4 5 6 7 8 9 10  \u0026lt;script\u0026gt; new Vue({ // ä¸€æ—¦ todos æœ‰è®ŠåŒ–ï¼Œå°±æœƒåŸ·è¡Œ{}è£¡çš„å…§å®¹ã€‚  watch: { todos() { this.saveStorage(); }, }, }); \u0026lt;/script\u0026gt;    æ·±å±¤ç›£è½ï¼šé™£åˆ—è³‡æ–™å±¬æ€§æ”¹è®Š  1 2 3 4 5 6 7 8 9 10 11 12 13 14  \u0026lt;script\u0026gt; new Vue({ watch: { // ç‚ºäº†å¸¶å…¥deepå±¬æ€§ æŠŠtodos æ”¹å¯«  todos: { handler: function () { console.log(\u0026#34;saveStorage\u0026#34;); //æ¸¬è©¦ç”¨  this.saveStorage(); }, deep: true, //é–‹å•Ÿæ·±å±¤ç›£è½  }, }, }); \u0026lt;/script\u0026gt;   ç·¨è¼¯ todo  é›™æ“Šè§¸ç™¼ç·¨è¼¯æ¨¡å¼ï¼ŒåŠ ä¸Š.editing æ¨£å¼ï¼ˆdisplay:block /none åˆ‡æ›ï¼‰ ç·¨è¼¯æ¨¡å¼(focus ç‹€æ…‹)æŒ‰ä¸‹ Enter å®Œæˆç·¨è¼¯ä¸¦è§£é™¤ç·¨è¼¯æ¨¡å¼ ç·¨è¼¯æ¨¡å¼æŒ‰ä¸‹ ESC è·Ÿé›¢é–‹è¼¸å…¥æ¡† (blur äº‹ä»¶)å–æ¶ˆç·¨è¼¯ä¸¦è§£é™¤ç·¨è¼¯æ¨¡å¼ å®Œæˆç·¨è¼¯æ™‚(Enter)å…§å®¹æ˜¯ç©ºç™½çš„è©±ï¼Œæœƒåˆªé™¤é€™å€‹ id çš„ç©ºç™½ todoï¼ˆå…§å®¹ä¸å¾—ç‚ºç©º) æ–°å¢ currentEditTodo ä¾†ç®¡ç†ç·¨è¼¯å…§å®¹ currentEditTodo ä½¿ç”¨ v-model é€²è¡Œé›™å‘ç¶å®šï¼Œtype å³æ™‚æ›´æ–° currentEditTodo å®Œæˆç·¨è¼¯æ™‚è¦†å¯«å›åŸæœ¬çš„ todos  å‹•æ…‹æ·»åŠ  editing æ¨£å¼  ç•¶ todo çš„ id === currentEditTodo.idï¼Œinput åŠ ä¸Š editing çš„ class åŸæœ¬å·²ç¶“æœ‰:class äº†ï¼Œç”¨ç‰©ä»¶åŒ…è£¹å…©å€‹ key value  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38  \u0026lt;template\u0026gt; \u0026lt;ul class=\u0026#34;todo-list\u0026#34;\u0026gt; \u0026lt;li v-for=\u0026#34;todo in filteredTodos\u0026#34; :key=\u0026#34;todo.id\u0026#34; class=\u0026#34;todo\u0026#34; :class=\u0026#34;{ completed: todo.completed, editing: todo.id === currentEditTodo.id, }\u0026#34; \u0026gt; \u0026lt;div class=\u0026#34;view\u0026#34;\u0026gt; \u0026lt;input v-model=\u0026#34;todo.completed\u0026#34; class=\u0026#34;toggle\u0026#34; type=\u0026#34;checkbox\u0026#34; /\u0026gt; // é›™clickå°±å¯ä»¥å–å¾—ç‰©ä»¶ todoæ˜¯v-forçš„å…ƒç´  \u0026lt;label @dblclick=\u0026#34;editTodo(todo)\u0026#34;\u0026gt;{{ todo.title }}\u0026lt;/label\u0026gt; \u0026lt;button class=\u0026#34;destroy\u0026#34; @click=\u0026#34;removeTodo(todo)\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; // edité€™é‚Šçš„inputåŠ ä¸Šv-modelï¼Œå°±å¯ä»¥è®“è³‡æ–™è·Ÿç•«é¢é€£å‹•  \u0026lt;input v-model=\u0026#34;currentEditTodo.title\u0026#34; type=\u0026#34;text\u0026#34; class=\u0026#34;edit\u0026#34; /\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; data: { newTodo: \u0026#34;\u0026#34;, todos: [ ], currentEditTodo:[], filteredOption: \u0026#34;all\u0026#34; } method: { editTodo(todo){ // è¤‡è£½todo å¦‚æœç›´æ¥å¯«= {todo}æœƒæŒ‡ç¨±åˆ°åŒä¸€å€‹ç‰©ä»¶è¨˜é«”ï¼Œæ”¹åˆ°åŸå§‹è³‡æ–™  this.currentEditTodo = { ...todo } }, } \u0026lt;/script\u0026gt;   å–æ¶ˆç·¨è¼¯ï¼ˆå›åˆ°åŸä¾†æ²’æœ‰ editing ç‹€æ…‹ï¼‰  cancelEdit æŠŠ this.currentEditTodo è®Šæˆä¸€å€‹ç©ºç‰©ä»¶ ç•¶ currentEditTodo è¢«æ¸…ç©ºå¾Œ v-bind çš„æ¢ä»¶ todo.id === currentEditTodo.idÂ ç„¡æ³•æˆç«‹ editing å±¬æ€§æ¶ˆå¤±ï¼Œç•«é¢ä¹Ÿå¾è¼¸å…¥æ¡†è®Šå›ä¸€èˆ¬çš„é¡¯ç¤ºç‹€æ…‹ esc éµç¶å®š keyup äº‹ä»¶  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  \u0026lt;template\u0026gt; \u0026lt;input v-model=\u0026#34;currentEditTodo.title\u0026#34; type=\u0026#34;text\u0026#34; class=\u0026#34;edit\u0026#34; @keyup.esc=\u0026#34;cancelEdit\u0026#34; /\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; ... methods: { cancelEdit() { this.currentEditTodo = {} }, } ... \u0026lt;/script\u0026gt;   å®Œæˆç·¨è¼¯  æŒ‰ä¸‹ enter(click äº‹ä»¶)æˆ–é»å…¶ä»–åœ°æ–¹(blur äº‹ä»¶)å°±æŠŠ currentEditTodo æ›é€²å» this.todo è£¡é¢ æŠŠç·¨è¼¯å®Œæˆçš„ currentEditTodoï¼Œæ”¾å…¥ todos é™£åˆ—ä¸­ id ç›¸åŒçš„ä½ç½® ç·¨è¼¯ç‹€æ³ä¸‹ä¿®æ”¹æœ€å¾Œæ˜¯ç©ºç™½çš„è©±ï¼Œç›´æ¥åˆªé™¤é€™å€‹é …ç›® æ”¾å…¥å¾Œæ¸…ç©º currentEditTodoï¼Œli ä¸Šçš„ editing æ¨£å¼æœƒåŒæ™‚æ¶ˆå¤±  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29  \u0026lt;template\u0026gt; \u0026lt;input v-model=\u0026#34;currentEditTodo.title\u0026#34; type=\u0026#34;text\u0026#34; class=\u0026#34;edit\u0026#34; @keyup.esc=\u0026#34;cancelEdit\u0026#34; @keyup.enter=\u0026#34;doneEdit\u0026#34; @blur=\u0026#34;doneEdit\u0026#34; /\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; methods: { doneEdit() { // mapè¤‡è£½ä¸€ä»½id èˆ‡ currentEditTodo å°æ‡‰çš„æ–°å…§å®¹ã€‚å¦å‰‡å°±åŸå°ä¸å‹•æ›´æ–°åˆ°this.todos  this.todos = this.todos.map(todo =\u0026gt; { // å…©è€…idä¸€æ¨£ä»£è¡¨åœ¨ä¿®æ”¹ç‹€æ…‹ æ²’åœ¨ä¿®æ”¹æ™‚this.currentEditæ˜¯ç©ºç‰©ä»¶  if (todo.id === this.currentEditTodo.id) { return { ...this.currentEditTodo } } else { return todo } // trimå®Œè®Šæˆç©ºå­—ä¸² å…§å®¹å¼·åˆ¶è½‰å‹falseæœƒè¢«éæ¿¾æ‰  }).filter(todo =\u0026gt; todo.title.trim()) this.currentEditTodo = {} }, } \u0026lt;/script\u0026gt;   å…¨éƒ¨å‹¾é¸/å–æ¶ˆ æ‰€æœ‰ todo æ‰“å‹¾ä¸Šæ–¹ label #toggle-all ä¹Ÿæœƒé€£å‹•æ‰“å‹¾  é»æ“Š label ä¹Ÿèƒ½é¸åˆ° checkboxï¼Œæ‰€ä»¥æ¨£å¼æ˜¯åšåœ¨ label ä¸Š html æ¶æ§‹ label ä½æ–¼ input å¾Œæ–¹ï¼Œä½†ç•«é¢ä¸Šå‘ˆç¾åœ¨ input æ¶æ§‹ä¹‹å‰ï¼Œåˆ©ç”¨ position èª¿æ•´ä½ç½® css ä¸Šæ˜¯ç”¨å½å…ƒç´ åš\u0026gt;çš„ content ä¸¦æŠŠæ—‹è½‰ 90 åº¦ è¨­è¨ˆä¸€å€‹ computed å±¬æ€§å›å‚³ todos æ˜¯å¦å…¨éƒ¨å®Œæˆ ç”¨ activeTodos === 0 åˆ¤æ–· é›™å‘ç¶å®š input åˆ‡æ› todos è£¡å…¨éƒ¨é …ç›® checked å®Œæˆç‹€æ…‹  1 2 3 4 5 6 7 8 9 10 11 12 13  \u0026lt;template\u0026gt; // åœ¨ true/false å€¼æ”¹è®Šæ™‚ï¼Œéƒ½æœƒè§¸ç™¼  \u0026lt;input id=\u0026#34;toggle-all\u0026#34; class=\u0026#34;toggle-all\u0026#34; type=\u0026#34;checkbox\u0026#34; v-model=\u0026#34;allDone\u0026#34; /\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; ... computed: { allDone() { return this.activeTodos === 0 }, } ... \u0026lt;/script\u0026gt;   æœ€ä¸Šæ–¹çš„æ‰“å‹¾ä¸‹æ–¹æ‰€æœ‰æ¸…å–®ä¹Ÿæœƒæ‰“å‹¾  åˆ‡æ› todos è£¡å…¨éƒ¨é …ç›®çš„ completed å±¬æ€§ï¼Œæ¯æ¬¡é»æ“Šéƒ½æœƒåˆ‡æ› true/false ç”¨å±•é–‹é‹ç®—å­ \u0026hellip;Â æŠŠ todo å…§å®¹å…¨éƒ¨æ‹·è²ä¸€ä»½ï¼Œç„¶å¾Œå†é‡å°æƒ³è¦ä¿®æ”¹çš„ completedÂ å±¬æ€§é‡æ–°è¨­å®š  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  \u0026lt;script\u0026gt; methods: { allDone: { // ä¸‹é¢å…¨æ‰“å‹¾ é€£å‹•ä¸Šé¢toggle all  get() { return this.activeTodos === 0 }, // ä¸Šé¢æ‰“å‹¾å°±æœƒä¸‹é¢completedéƒ½æœƒè®Šæˆcompleted  set(value) { this.todos = this.todos.map((todo) =\u0026gt; ({ ...todo, completed: value })) } } } \u0026lt;/script\u0026gt;   directives è‡ªå®šç¾©å±¬æ€§  è®“ä¸åŒçš„ Vue å¯¦ä¾‹å¯ä»¥å…±äº«æŒ‡ä»¤ ç¬¬ä¸€å€‹åƒæ•¸ä¸€å®šè¦å¸¶å…¥æƒ³ç¶å®šçš„å…ƒç´  element ç¬¬äºŒå€‹åƒæ•¸ binding ä¸‹æœ‰å¾ˆå¤šå±¬æ€§ value, oldValueï¼Œè©³ç´°å¯åƒè€ƒé€™è£¡ åšå¥½æŒ‡ä»¤å¯ä»¥åœ¨ template è£¡ç”¨ v-todo-focusÂ ä¾†ä½¿ç”¨  ç·¨è¼¯æ¨¡å¼è‡ªå‹• focus è¡¨å–®  ç•¶ v-todo-focusÂ å›å‚³ trueï¼Œå°±ç‚ºè©²å…ƒç´ å‘¼å« focus()Â æ–¹æ³•ï¼Œè®“æ¸¸æ¨™é–å®šåˆ°ç·¨è¼¯è¼¸å…¥æ¡†è£¡  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  \u0026lt;template\u0026gt; // æŠŠ v-todo-focus æ”¾åˆ° input  ç•¶Â todo.idÂ å’ŒÂ currentEditTodo.idÂ ç›¸åŒæ™‚ï¼Œå°±ä»£è¡¨è©² to-do æ­£åœ¨ç·¨è¼¯æ¨¡å¼ä¸­ \u0026lt;input v-model=\u0026#34;currentEditTodo.title\u0026#34; v-todo-focus=\u0026#34;todo.id === currentEditTodo.id\u0026#34; type=\u0026#34;text\u0026#34; class=\u0026#34;edit\u0026#34; @keyup.esc=\u0026#34;cancelEdit\u0026#34; @keyup.enter=\u0026#34;doneEdit\u0026#34; @blur=\u0026#34;doneEdit\u0026#34; /\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; new Vue({ //...  directives: { // åœ¨ JavaScript çš„ç‰©ä»¶ key å¸¶å…¥ç‰¹æ®Šç¬¦è™Ÿï¼Œéœ€è¦æŠŠ key è¨­å®šæˆå­—ä¸²  \u0026#34;todo-focus\u0026#34;: function (el, binding) { if (binding.value) { el.focus(); } }, }, }); \u0026lt;/script\u0026gt;   Option API v.s. Composition API  Option API(data, methods, ç”Ÿå‘½é€±æœŸ)è£¡é¢å®šç¾©çš„ property å¯ä»¥ç”¨ this.property ç²å– this æŒ‡å‘å…ƒä»¶å¯¦ä¾‹æœ¬èº«  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  \u0026lt;script\u0026gt; export default { // Properties returned from data() becomes reactive state  // and will be exposed on `this`.  data() { return { count: 0, }; }, methods: { increment() { this.count++; }, }, mounted() { console.log(`The initial count is ${this.count}.`); }, }; \u0026lt;/script\u0026gt; \u0026lt;template\u0026gt; \u0026lt;button @click=\u0026#34;increment\u0026#34;\u0026gt;count is: {{ count }}\u0026lt;/button\u0026gt; \u0026lt;/template\u0026gt;    å±¬æ€§ä¸ä½¿ç”¨ç®­é ­å‡½å¼ï¼Œæœƒå½±éŸ¿è£¡é¢çš„ this ç¶å®šï¼Œä¸€é–‹å§‹å°±æœƒè®Šæˆå…¨åŸŸ windowï¼Œè€Œä¸æ˜¯åœ¨å‘¼å«çš„æ™‚å€™æ‰çŸ¥é“æ˜¯èª° å»ºè­°å¯«æ³•ç‚º  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  \u0026lt;script\u0026gt; methods: () { // å¯«æ³•1  someFunction () { // thisæœƒæ˜¯å…ƒä»¶  } // å¯«æ³•2  someFunctionï¼šfunction() { // thisæœƒæ˜¯å…ƒä»¶  } // å‹¿ä½¿ç”¨ç®­é ­å‡½å¼  removeTodo: () =\u0026gt; { // this æœƒæŒ‡å‘global context  } } \u0026lt;/script\u0026gt;    æƒ³å¤šäº†è§£ Composition API å¯ä»¥åƒè€ƒé€™ç¯‡ ä»‹ç´¹ Vue3 èˆ‡ Composition API  ","date":"2022-02-24T00:00:00+08:00","image":"https://bacnotes.github.io/p/vue-todomvc/Dup9I4d_huebbfad1edfa8e198fe68a27ac6a615ca_19543_120x120_fill_q75_box_smart1.jpeg","permalink":"https://bacnotes.github.io/p/vue-todomvc/","title":"ç”¨TodoMVC è¤‡ç¿’ Vue2 è·Ÿ Option APIï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"å‰ç«¯é©—è­‰æ™‚æ©Ÿæœ‰ä¸‰ç¨® ç•¶ä½¿ç”¨è€…é» submit  ç­‰ä½¿ç”¨è€…è¼¸å…¥å®Œæ‰€æœ‰å…§å®¹å†è·³å‡ºéŒ¯èª¤è¨Šæ¯ æ²’è¾¦æ³•åœ¨è¼¸å…¥å®Œæˆå°±å‘Šè¨´ä½¿ç”¨è€…æœ‰ç„¡éŒ¯èª¤ï¼Œè¦ç­‰åˆ°æœ€å¾Œï¼Œå›é¥‹ä¸åŠæ™‚  ç•¶ input lose focus  è·³åˆ°ä¸‹ä¸€å€‹inputæ™‚å†è·³å‡ºéŒ¯èª¤è¨Šæ¯ å›é¥‹å³æ™‚ï¼Œä½†inputéœ€ç´€éŒ„æœªè¢«é»æ“Šéç‹€æ…‹  ç²å–ç•¶å‰è¡¨å–®è¼¸å…¥å€¼ useState  ä½¿ç”¨ useState å®šç¾©åˆå§‹å€¼è·Ÿ set æ–°å€¼çš„å‡½å¼åç¨± è§¸ç™¼äº‹ä»¶ï¼Œä½¿ç”¨ event.target.value æ•æ‰ input å€¼ é©åˆéœ€è¦ç«‹å³é©—è­‰ã€å³æ™‚æ•æ‰æ¯å€‹ keystroke çš„ input  useRef  ä½¿ç”¨ useRef ç¶å®šæŒ‡å®š DOM input å…ƒç´ ï¼Œå­˜åœ¨ä¸€å€‹è®Šæ•¸(é€šå¸¸æœƒå‘½å xxxRef) è§¸ç™¼äº‹ä»¶ï¼Œé€éç¶å®šçš„è®Šæ•¸.current.value ç²å–å€¼ input åˆå§‹å€¼å¯ä»¥é€éç¶å®šçš„è®Šæ•¸å.current ç²å¾— é©åˆä¸ç”¨ç²å–æ¯å€‹ keystroke è¼¸å…¥çš„ input  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41  import { useRef, useState } from \u0026#34;react\u0026#34;; const SimpleInput = (props) =\u0026gt; { const nameInputRef = useRef(); const [enteredName, setEnteredName] = useState(\u0026#34;\u0026#34;); const nameInputChangeHandler = (event) =\u0026gt; { setEnteredName(event.target.value); }; const formSubmissionHandler = (event) =\u0026gt; { event.preventDefault(); console.log(enteredName); const enteredValue = nameInputRef.current.value; console.log(enteredValue); // nameInputRef.current.value = \u0026#39;\u0026#39;; =\u0026gt; NOT IDEAL, DON\u0026#39;T MANIPULATE THE DOM  setEnteredName(\u0026#34;\u0026#34;); }; return ( \u0026lt;form onSubmit={formSubmissionHandler}\u0026gt; \u0026lt;div className=\u0026#39;form-control\u0026#39;\u0026gt; \u0026lt;label htmlFor=\u0026#39;name\u0026#39;\u0026gt;Your Name\u0026lt;/label\u0026gt; \u0026lt;input ref={nameInputRef} type=\u0026#39;text\u0026#39; id=\u0026#39;name\u0026#39; onChange={nameInputChangeHandler} value={enteredName} /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className=\u0026#39;form-actions\u0026#39;\u0026gt; \u0026lt;button\u0026gt;Submit\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/form\u0026gt; ); }; export default SimpleInput;   submit æ­é… keystrokeäº‹ä»¶ æ›´æ–°è¡¨å–®å€¼é©—è­‰  é©—è­‰å…§å®¹ç‚ºç¢ºèªè¡¨å–®å…§å®¹ä¸ç‚ºç©ºç™½ï¼štrim()å®Œå¾Œçš„çµæœä¸ç‚ºç©ºå­—ä¸²ï¼Œæˆ– if(! è®Šæ•¸.trim()) å›é¥‹ä½¿ç”¨è€…é©—è­‰çµæœï¼šåœ¨ input æ¬„ä½ä¸‹æ–¹åŠ ä¸Š p çš„æ¬„ä½ æ¢ä»¶æ¸²æŸ“é¡¯ç¤º e.g. ä½¿ç”¨ nameInputIsInvalid \u0026amp;\u0026amp; some err msgï¼ŒåŠ ä¸Š invalid æ¨£å¼ ç‚ºäº†ä¸è¦å¤ªæ—©å°±å‘ˆç¾å‡º err msgï¼Œå¤šåŠ ä¸Šä¸€å€‹ç‹€æ…‹æœ‰ç„¡ touched åšåˆ¤æ–· æ–°å¢è®Šæ•¸ä½œç‚ºéŒ¯èª¤è¨Šæ¯æ¸²æŸ“åˆ¤æ–·(nameInputIsInvalid)ï¼Œç•¶ä¸ç¬¦åˆé©—è­‰ä¸”æœ‰ touched éæ‰æœƒé¡¯ç¤ºï¼Œ!enteredNameIsValid \u0026amp;\u0026amp; enteredNameTouched; ä¸‹æ–¹ç¯„ä¾‹ç‚º useState ç²å–è¡¨å–®å€¼  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55  import { useState } from \u0026#34;react\u0026#34;; const SimpleInput = (props) =\u0026gt; { // æœ‰æ–°çš„enteredNameå°±æœƒé©—è­‰ä¸€æ¬¡æ˜¯å¦ç©ºç™½ï¼Œre-evaluate(é‡è·‘ä¸‹æ–¹å‡½å¼)  const [enteredName, setEnteredName] = useState(\u0026#34;\u0026#34;); const [enteredNameTouched, setEnteredNameTouched] = useState(false); // é©—è­‰æ˜¯å¦ç‚ºç©ºç™½  const enteredNameIsValid = enteredName.trim() !== \u0026#34;\u0026#34;; const nameInputIsInvalid = !enteredNameIsValid \u0026amp;\u0026amp; enteredNameTouched; const nameInputChangeHandler = (event) =\u0026gt; { setEnteredName(event.target.value); }; const formSubmissionHandler = (event) =\u0026gt; { event.preventDefault(); // æäº¤å¾Œtouchedç‹€æ…‹æ”¹true  setEnteredNameTouched(true); // æ²’éé©—è­‰  if (!enteredNameIsValid) { return; } // éäº†é©—è­‰ï¼Œé‚„åŸè¡¨æ ¼  setEnteredName(\u0026#34;\u0026#34;); setEnteredNameTouched(false); }; const nameInputClasses = nameInputIsInvalid ? \u0026#34;form-control invalid\u0026#34; : \u0026#34;form-control\u0026#34;; return ( \u0026lt;form onSubmit={formSubmissionHandler}\u0026gt; \u0026lt;div className={nameInputClasses}\u0026gt; \u0026lt;label htmlFor=\u0026#39;name\u0026#39;\u0026gt;Your Name\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;text\u0026#39; id=\u0026#39;name\u0026#39; onChange={nameInputChangeHandler} value={enteredName} /\u0026gt; {nameInputIsInvalid \u0026amp;\u0026amp; ( \u0026lt;p className=\u0026#39;error-text\u0026#39;\u0026gt;Name must not be empty.\u0026lt;/p\u0026gt; )} \u0026lt;/div\u0026gt; \u0026lt;div className=\u0026#39;form-actions\u0026#39;\u0026gt; \u0026lt;button\u0026gt;Submit\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/form\u0026gt; ); }; export default SimpleInput;   ææ—©åœ¨ input lose focus(blur) æ™‚è§¸ç™¼ touched  æ¢ä»¶æ¸²æŸ“éŒ¯èª¤è¨Šæ¯çš„å…©å€‹æ¢ä»¶ï¼šé©—è­‰æ²’éä¸” touched ç‚ºçœŸ é™¤äº† submit æœ‰ä¸€å€‹ touched æ›´æ–°ç‚º trueï¼Œæ–°å¢ä¸€å€‹ blur ç›£è½æ›´æ–° touched ç‹€æ…‹ ç•¶ input blur äº‹ä»¶è§¸ç™¼ï¼Œæ›´æ–° touched ç‹€æ…‹ç‚º true  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44  import { useState } from \u0026#39;react\u0026#39;; const SimpleInput = (props) =\u0026gt; { const [enteredName, setEnteredName] = useState(\u0026#34;\u0026#34;); const [enteredNameTouched, setEnteredNameTouched] = useState(false); const enteredNameIsValid = enteredName.trim() !== \u0026#39;\u0026#39;; const nameInputIsInvalid = !enteredNameIsValid \u0026amp;\u0026amp; enteredNameTouched; const nameInputChangeHandler = (event) =\u0026gt; { setEnteredName(event.target.value); }; // æ–°å¢é€™æ®µ blurå³touchedé  const nameInputBlurHandler = event =\u0026gt; { setEnteredNameTouched(true); }; ... return ( \u0026lt;form onSubmit={formSubmissionHandler}\u0026gt; \u0026lt;div className={nameInputClasses}\u0026gt; \u0026lt;label htmlFor=\u0026#39;name\u0026#39;\u0026gt;Your Name\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;text\u0026#39; id=\u0026#39;name\u0026#39; onChange={nameInputChangeHandler} // blurç›£è½ onBlur={nameInputBlurHandler} value={enteredName} /\u0026gt; {nameInputIsInvalid \u0026amp;\u0026amp; ( \u0026lt;p className=\u0026#39;error-text\u0026#39;\u0026gt;Name must not be empty.\u0026lt;/p\u0026gt; )} \u0026lt;/div\u0026gt; \u0026lt;div className=\u0026#39;form-actions\u0026#39;\u0026gt; \u0026lt;button\u0026gt;Submit\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/form\u0026gt; ); }; export default SimpleInput;   ä½¿ç”¨ Custom Hook ç®¡ç†å¤šå€‹å…ƒç´ é©—è­‰  ä¸€å€‹ input å°±å¯«äº†é€™éº¼å¤šç¨‹å¼ç¢¼ï¼Œé‚£ 10 å€‹ input å°±\u0026hellip; ä½¿ç”¨ä¸Šç¯‡æ–‡ç« æåˆ°çš„ Custom Hookï¼Œå‰µé€ ä¸€å€‹ input Hook ä¾†è™•ç†å…±åŒé‚è¼¯ é©—è­‰çš„é‚è¼¯æ¯å€‹ input å¯èƒ½æ¢ä»¶ä¸åŒï¼Œå‚³å…¥ function æ”¶ input å…§å®¹ï¼Œè®“æ¢ä»¶å½ˆæ€§åŒ–  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33  import { useState } from \u0026#34;react\u0026#34;; // å‚³å…¥ä¸€å€‹validateValue functioné©—è­‰enteredValue const useInput = (validateValue) =\u0026gt; { const [enteredValue, setEnteredValue] = useState(\u0026#34;\u0026#34;); const [isTouched, setIsTouched] = useState(false); const valueIsValid = validateValue(enteredValue); const hasError = !valueIsValid \u0026amp;\u0026amp; isTouched; const valueChangeHandler = (event) =\u0026gt; { setEnteredValue(event.target.value); }; const inputBlurHandler = (event) =\u0026gt; { setIsTouched(true); }; const reset = () =\u0026gt; { setEnteredValue(\u0026#34;\u0026#34;); setIsTouched(false); }; return { value: enteredValue, isValid: valueIsValid, hasError, valueChangeHandler, inputBlurHandler, reset, }; }; export default useInput;    å¼•ç”¨åˆ°å…ƒä»¶ä¸­  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121  import useInput from \u0026#34;../hooks/use-input\u0026#34;; // é©—è­‰é‚è¼¯ const isNotEmpty = (value) =\u0026gt; value.trim() !== \u0026#34;\u0026#34;; const isEmail = (value) =\u0026gt; value.includes(\u0026#34;@\u0026#34;); const BasicForm = (props) =\u0026gt; { // å¥—ç”¨custom hookï¼Œå–æ–°è®Šæ•¸åå€éš”ç‹€æ…‹  const { value: firstNameValue, isValid: firstNameIsValid, hasError: firstNameHasError, valueChangeHandler: firstNameChangeHandler, inputBlurHandler: firstNameBlurHandler, reset: resetFirstName, //é©—è­‰é‚è¼¯  } = useInput(isNotEmpty); const { value: lastNameValue, isValid: lastNameIsValid, hasError: lastNameHasError, valueChangeHandler: lastNameChangeHandler, inputBlurHandler: lastNameBlurHandler, reset: resetLastName, //é©—è­‰é‚è¼¯  } = useInput(isNotEmpty); const { value: emailValue, isValid: emailIsValid, hasError: emailHasError, valueChangeHandler: emailChangeHandler, inputBlurHandler: emailBlurHandler, reset: resetEmail, //é©—è­‰é‚è¼¯  } = useInput(isEmail); let formIsValid = false; // éƒ½éäº†æ‰å¯ä»¥æäº¤  if (firstNameIsValid \u0026amp;\u0026amp; lastNameIsValid \u0026amp;\u0026amp; emailIsValid) { formIsValid = true; } const submitHandler = (event) =\u0026gt; { event.preventDefault(); if (!formIsValid) { return; } console.log(\u0026#34;Submitted!\u0026#34;); console.log(firstNameValue, lastNameValue, emailValue); //æäº¤å¾Œé‚„åŸç‹€æ…‹  resetFirstName(); resetLastName(); resetEmail(); }; // å‹•æ…‹é©—è­‰erroræ¨£å¼  const firstNameClasses = firstNameHasError ? \u0026#34;form-control invalid\u0026#34; : \u0026#34;form-control\u0026#34;; const lastNameClasses = lastNameHasError ? \u0026#34;form-control invalid\u0026#34; : \u0026#34;form-control\u0026#34;; const emailClasses = emailHasError ? \u0026#34;form-control invalid\u0026#34; : \u0026#34;form-control\u0026#34;; return ( \u0026lt;form onSubmit={submitHandler}\u0026gt; \u0026lt;div className=\u0026#39;control-group\u0026#39;\u0026gt; \u0026lt;div className={firstNameClasses}\u0026gt; \u0026lt;label htmlFor=\u0026#39;name\u0026#39;\u0026gt;First Name\u0026lt;/label\u0026gt; // valueç¶å®šç‹€æ…‹ onChangeè®Šæ›´å€¼ onBlurè§¸ç™¼é©—è­‰  \u0026lt;input type=\u0026#39;text\u0026#39; id=\u0026#39;name\u0026#39; value={firstNameValue} onChange={firstNameChangeHandler} onBlur={firstNameBlurHandler} /\u0026gt; {firstNameHasError \u0026amp;\u0026amp; ( \u0026lt;p className=\u0026#39;error-text\u0026#39;\u0026gt;Please enter a first name.\u0026lt;/p\u0026gt; )} \u0026lt;/div\u0026gt; \u0026lt;div className={lastNameClasses}\u0026gt; \u0026lt;label htmlFor=\u0026#39;name\u0026#39;\u0026gt;Last Name\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;text\u0026#39; id=\u0026#39;name\u0026#39; value={lastNameValue} onChange={lastNameChangeHandler} onBlur={lastNameBlurHandler} /\u0026gt; {lastNameHasError \u0026amp;\u0026amp; ( \u0026lt;p className=\u0026#39;error-text\u0026#39;\u0026gt;Please enter a last name.\u0026lt;/p\u0026gt; )} \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={emailClasses}\u0026gt; \u0026lt;label htmlFor=\u0026#39;name\u0026#39;\u0026gt;E-Mail Address\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;text\u0026#39; id=\u0026#39;name\u0026#39; value={emailValue} onChange={emailChangeHandler} onBlur={emailBlurHandler} /\u0026gt; {emailHasError \u0026amp;\u0026amp; ( \u0026lt;p className=\u0026#39;error-text\u0026#39;\u0026gt;Please enter a valid email address.\u0026lt;/p\u0026gt; )} \u0026lt;/div\u0026gt; \u0026lt;div className=\u0026#39;form-actions\u0026#39;\u0026gt; \u0026lt;button disabled={!formIsValid}\u0026gt;Submit\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/form\u0026gt; ); }; export default SimpleInput;   ","date":"2022-02-18T00:00:00+08:00","image":"https://bacnotes.github.io/p/react_input_form/pexels-pixabay-261621_hu3d03a01dcc18bc5be0e67db3d8d209a6_2765134_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/react_input_form/","title":"React å¦‚ä½•è™•ç†è¡¨å–®å…ƒç´ ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"ä»€éº¼æ˜¯ Custom Hook?  Hook æ˜¯ React å…§å»ºçš„ JavaScript å‡½å¼ï¼Œè€Œ Custom Hook å°±æ˜¯æˆ‘å€‘è‡ªå‰µçš„ JavaScript å‡½å¼ï¼Œç”¨ä¾†è¤‡ç”¨ç¨‹å¼ç¢¼é‚è¼¯ Custom Hook é‚è¼¯å…±äº«ï¼Œä½†å…ƒä»¶ç²å–åˆ°çš„è®Šæ•¸ç‹€æ…‹å½¼æ­¤éƒ½æ˜¯ç¨ç«‹çš„ï¼Œä¸ç”¨æ“”å¿ƒæœƒäº’ç›¸å½±éŸ¿  å¦‚ä½•æ‰“é€  Custom Hook?  åœ¨ src ä¸‹é¢å‰µä¸€å€‹ hooks è³‡æ–™å¤¾ï¼Œå‰µä¸€å€‹ use é–‹é ­çš„ js æª”æ¡ˆ e.g. use-counter.jsï¼ˆæª”åä¸ä¸€å®šè¦ use é–‹é ­ï¼Œå–å use é–‹é ­æ˜¯ç‚ºäº†æ–¹ä¾¿è¾¨è­˜é€™æ˜¯ä¸€å€‹ Hookï¼‰ hook å…ƒä»¶è£¡é¢çš„è®Šæ•¸ä¸€å®šè¦ use é–‹é ­  Hook ä½¿ç”¨ç¯„ä¾‹ è¨ˆæ•¸å™¨ç¯„ä¾‹  æ¢ä»¶åˆ¤æ–·åŸ·è¡Œé‚è¼¯ï¼Œé è¨­+1ï¼Œå¦‚æœåƒæ•¸ç‚º false å‰‡æ”¹ç‚º-1  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  import { useState, useEffect } from \u0026#34;react\u0026#34;; // è¨­å®š forwardsåƒæ•¸ï¼Œåˆ¤æ–·è¨ˆç®—é‚è¼¯ï¼Œä¸”ç›¸ä¾ä¸‹æ–¹çš„useEffect const useCounter = (forwards = true) =\u0026gt; { const [counter, setCounter] = useState(0); useEffect(() =\u0026gt; { const interval = setInterval(() =\u0026gt; { if (forwards) { setCounter((prevCounter) =\u0026gt; prevCounter + 1); } else { setCounter((prevCounter) =\u0026gt; prevCounter - 1); } }, 1000); return () =\u0026gt; clearInterval(interval); }, [forwards]); return counter; }; export default useCounter;     åœ¨ä¸åŒå…ƒä»¶è£¡é¢ counter ç‹€æ…‹ä¸æœƒäº’ç›¸å½±éŸ¿ï¼Œå½¼æ­¤ç¨ç«‹é‹ä½œï¼Œconst [counter, setCounter] = useState(0);\n  è¨ˆæ•¸å™¨+å…ƒä»¶å¼•ç”¨è¨ˆæ•¸å™¨ Hook\n  1 2 3 4 5 6 7 8 9 10  import Card from \u0026#34;./Card\u0026#34;; import useCounter from \u0026#34;../hooks/use-counter\u0026#34;; const ForwardCounter = () =\u0026gt; { // returnçš„counterç‹€æ…‹å­˜åˆ°è®Šæ•¸  const counter = useCounter(); return \u0026lt;Card\u0026gt;{counter}\u0026lt;/Card\u0026gt;; }; export default ForwardCounter;    è¨ˆæ•¸å™¨-å…ƒä»¶å¼•ç”¨è¨ˆæ•¸å™¨ Hook  1 2 3 4 5 6 7 8  import { useState, useEffect } from \u0026#34;react\u0026#34;; import Card from \u0026#34;./Card\u0026#34;; const BackwardCounter = () =\u0026gt; { // returnçš„counterç‹€æ…‹å­˜åˆ°è®Šæ•¸  const counter = useCounter(false); return \u0026lt;Card\u0026gt;{counter}\u0026lt;/Card\u0026gt;; };   http Hook ç¯„ä¾‹  http ç™¼é€è«‹æ±‚æ™‚ï¼Œå¯ä»¥ä½¿ç”¨ hook é‡å°ä¸åŒ url ç™¼é€ get/post ç­‰è«‹æ±‚ requestConfig ç”¨ç‰©ä»¶åŒ…è£¹ç™¼é€è«‹æ±‚åƒæ•¸(url, method, headers, body ç­‰å±¬æ€§)ï¼Œå½ˆæ€§è¨­è¨ˆåƒæ•¸ï¼Œå¯ç”¨æ–¼å„ç¨®è«‹æ±‚ useCallback è¨˜ä½ async è¨˜æ†¶é«”ä½ç½®ï¼Œå¾ŒçºŒæ”¾åœ¨ dependency æ‰ä¸æœƒ loop  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41  // hook import { useState, useCallback } from \u0026#34;react\u0026#34;; const useHttp = () =\u0026gt; { const [isLoading, setIsLoading] = useState(false); const [error, setError] = useState(null); // è«‹æ±‚åƒæ•¸æ”¾æ–¼requestConfigç‰©ä»¶ï¼Œå…ƒä»¶ä½¿ç”¨Hookæ™‚éœ€è¦å‚³å…¥  // applyDataåƒæ•¸å‚³å…¥å…ƒä»¶è‡ªå·±çš„æ–¹æ³•ï¼Œå‚³å…¥ä¼ºæœå™¨å›å‚³çš„data  const sendRequest = useCallback(async (requestConfig, applyData) =\u0026gt; { setIsLoading(true); setError(null); try { const response = await fetch(requestConfig.url, { // æœ‰æä¾›åƒæ•¸å‰‡å¥—ç”¨åƒæ•¸ï¼Œæ²’æœ‰æä¾›åƒæ•¸å‰‡å¥—ç”¨é è¨­å€¼  method: requestConfig.method ? requestConfig.method : \u0026#34;GET\u0026#34;, headers: requestConfig.headers ? requestConfig.headers : {}, body: requestConfig.body ? JSON.stringify(requestConfig.body) : null, }); if (!response.ok) { throw new Error(\u0026#34;Request failed!\u0026#34;); } const data = await response.json(); applyData(data); } catch (err) { setError(err.message || \u0026#34;Something went wrong!\u0026#34;); } setIsLoading(false); }, []); // return isLoading error çš„ç‹€æ…‹ï¼ŒsendRequestæ”¶åˆ°çš„çµæœ  return { isLoading, error, sendRequest, }; }; export default useHttp;    App å…ƒä»¶å¼•ç”¨ http Hook load è³‡æ–™åº«çš„ task å…§å®¹  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47  // app import React, { useEffect, useState, useCallback } from \u0026#34;react\u0026#34;; import Tasks from \u0026#34;./components/Tasks/Tasks\u0026#34;; import NewTask from \u0026#34;./components/NewTask/NewTask\u0026#34;; import useHttp from \u0026#34;./hooks/use-http\u0026#34;; function App() { const [tasks, setTasks] = useState([]); // å­˜returnçš„httpç‹€æ…‹è·Ÿasync functionåˆ°è®Šæ•¸  // sendRequestå–æ–°å‡½å¼åç‚ºfetchTasksï¼Œç”¨ä¾†æŒ‡å‘ä¸‹æ–¹fetchTasks  const { isLoading, error, sendRequest: fetchTasks } = useHttp(); useEffect(() =\u0026gt; { // æŠŠtaskæ”¾åˆ°transformTasksç®¡ç†  const transformTasks = (tasksObj) =\u0026gt; { const loadedTasks = []; for (const taskKey in tasksObj) { loadedTasks.push({ id: taskKey, text: tasksObj[taskKey].text }); } // é™£åˆ—ä»»å‹™æ›´æ–°åˆ°ç‹€æ…‹  setTasks(loadedTasks); }; // åƒæ•¸å°æ‡‰çš„æ˜¯async(requestConfig, applyData)  fetchTasks( { url: \u0026#34;https://react-http-6b4a6.firebaseio.com/tasks.json\u0026#34; }, transformTasks ); }, [fetchTasks]); const taskAddHandler = (task) =\u0026gt; { setTasks((prevTasks) =\u0026gt; prevTasks.concat(task)); }; return ( \u0026lt;React.Fragment\u0026gt; \u0026lt;NewTask onAddTask={taskAddHandler} /\u0026gt; \u0026lt;Tasks items={tasks} loading={isLoading} error={error} onFetch={fetchTasks} /\u0026gt; \u0026lt;/React.Fragment\u0026gt; ); } export default App;    æ–°å¢ task ä½¿ç”¨ http Hook  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39  import Section from \u0026#34;../UI/Section\u0026#34;; import TaskForm from \u0026#34;./TaskForm\u0026#34;; import useHttp from \u0026#34;../../hooks/use-http\u0026#34;; const NewTask = (props) =\u0026gt; { const { isLoading, error, sendRequest: sendTaskRequest } = useHttp(); const createTask = (taskText, taskData) =\u0026gt; { const generatedId = taskData.name; // firebase-specific =\u0026gt; \u0026#34;name\u0026#34; contains generated id  const createdTask = { id: generatedId, text: taskText }; props.onAddTask(createdTask); }; const enterTaskHandler = async (taskText) =\u0026gt; { // åƒæ•¸å°æ‡‰çš„æ˜¯async(requestConfig, applyData)  sendTaskRequest( { url: \u0026#34;https://react-http-6b4a6.firebaseio.com/tasks.json\u0026#34;, method: \u0026#34;POST\u0026#34;, headers: { \u0026#34;Content-Type\u0026#34;: \u0026#34;application/json\u0026#34;, }, body: { text: taskText }, }, // é€ébindç¶å®šï¼Œç¬¬äºŒå€‹åƒæ•¸æœƒè®Šæˆå‘¼å«é€™å€‹å‡½å¼çš„ç¬¬ä¸€å€‹åƒæ•¸  // thisåœ¨é€™è£¡ä¸é‡è¦æ‰€ä»¥è¨­å®šnull  // ä¸Šæ–¹taskDataç­‰å…¶ä»–çš„åƒæ•¸é‚„æ˜¯æœƒå‚³å…¥ï¼Œé€™é‚Šåªæ˜¯å…ˆé è™•ç†  createTask.bind(null, taskText) ); }; return ( \u0026lt;Section\u0026gt; \u0026lt;TaskForm onEnterTask={enterTaskHandler} loading={isLoading} /\u0026gt; {error \u0026amp;\u0026amp; \u0026lt;p\u0026gt;{error}\u0026lt;/p\u0026gt;} \u0026lt;/Section\u0026gt; ); };   å°Custom Hookçš„æ‡‰ç”¨æœ‰èˆˆè¶£çš„è©±ï¼Œå¯ä»¥ç¹¼çºŒçœ‹Custom Hookåœ¨è¡¨å–®ä¸Šçš„æ‡‰ç”¨ React å¦‚ä½•è™•ç†è¡¨å–®å…ƒç´ \n","date":"2022-02-14T00:00:00+08:00","image":"https://bacnotes.github.io/p/react-custom-hook/pexels-photo-4792079_huedb1de06238105eb33e5398c8db3f05b_52755_120x120_fill_q75_box_smart1.jpeg","permalink":"https://bacnotes.github.io/p/react-custom-hook/","title":"React ä½¿ç”¨Custom Hookè¤‡ç”¨ç¨‹å¼ç¢¼é‚è¼¯ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"ä¸æœƒæ”¹è®ŠåŸå§‹è³‡æ–™ \u0026lt;\u0026ndash; åƒæ•¸ç‚ºå€¼ \u0026ndash;\u0026gt;\nslice()  array.slice([start[, end]]) è·Ÿå±•é–‹é‹ç®—å­ [\u0026hellip;array]ä¸€æ¨£å¸¸è¢«ç”¨ä½œæ·ºæ‹·è² å›å‚³ä¸€å€‹æ–°é™£åˆ—ç‰©ä»¶ï¼Œç‚ºåŸé™£åˆ—é¸æ“‡ä¹‹ start è‡³ endï¼ˆend index å…ƒç´ ä¸åŒ…å«åœ¨å›å‚³çµæœï¼‰çš„æ·ºæ‹·è² å¯ä»¥ä¸å‚³åƒæ•¸(start é è¨­ 0ï¼Œend é è¨­ array.length) å¯å–®å‚³ start åƒæ•¸æˆ– start end éƒ½å‚³ æ¥å—è² æ•¸ï¼Œslice(2, -1) ä»£è¡¨æ‹·è²é™£åˆ—ä¸­ç¬¬ä¸‰å€‹å…ƒç´ è‡³å€’æ•¸ç¬¬äºŒå€‹å…ƒç´   1 2 3 4 5 6 7 8 9 10 11 12 13  const animals = [\u0026#34;ant\u0026#34;, \u0026#34;bison\u0026#34;, \u0026#34;camel\u0026#34;, \u0026#34;duck\u0026#34;, \u0026#34;elephant\u0026#34;]; animals.slice(); // [\u0026#39;ant\u0026#39;, \u0026#39;bison\u0026#39;, \u0026#39;camel\u0026#39;, \u0026#39;duck\u0026#39;, \u0026#39;elephant\u0026#39;]  animals.slice(2); // [\u0026#34;camel\u0026#34;, \u0026#34;duck\u0026#34;, \u0026#34;elephant\u0026#34;]  animals.slice(2, 4); // [\u0026#34;camel\u0026#34;, \u0026#34;duck\u0026#34;]  animals.slice(-2); // [\u0026#34;duck\u0026#34;, \u0026#34;elephant\u0026#34;]   concat()  var newArray = oldArray.concat(value1[, value2[, \u0026hellip;[, valueN]]]) åˆä½µå…©å€‹æˆ–å¤šå€‹é™£åˆ—ã€‚å›å‚³ä¸€å€‹åŒ…å«å‘¼å«è€…é™£åˆ—æœ¬èº«çš„å€¼ï¼Œä½œç‚ºä»£æ›¿çš„æ˜¯å›å‚³ä¸€å€‹æ–°é™£åˆ— è·Ÿå±•é–‹é‹ç®—å­[\u0026hellip;arr, \u0026hellip;arr2] ä¸€æ¨£  1 2 3 4 5  const array1 = [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;]; const array2 = [\u0026#34;d\u0026#34;, \u0026#34;e\u0026#34;, \u0026#34;f\u0026#34;]; array1.concat(array2); // [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;, \u0026#34;e\u0026#34;, \u0026#34;f\u0026#34;]   join()  array.join([separator]) å›å‚³åˆä½µæ‰€æœ‰é™£åˆ—å…ƒç´ çš„å­—ä¸² separator ç‚ºç”¨ä¾†éš”é–‹é™£åˆ—ä¸­æ¯å€‹å…ƒç´ çš„å­—ä¸²ã€‚å¦‚æœå¿…è¦çš„è©±ï¼Œseparator æœƒè‡ªå‹•è¢«è½‰æˆå­—ä¸²å‹æ…‹ã€‚å¦‚æœæœªå‚³å…¥æ­¤åƒæ•¸ï¼Œé™£åˆ—ä¸­çš„å…ƒç´ å°‡é è¨­ç”¨è‹±æ–‡é€—è™Ÿï¼ˆã€Œ, ã€ï¼‰éš”é–‹ã€‚å¦‚æœ separator æ˜¯ç©ºå­—ä¸²ï¼Œåˆä½µå¾Œï¼Œå…ƒç´ é–“ä¸æœƒæœ‰ä»»ä½•å­—å…ƒã€‚ ä»»ä½• undefined æˆ– null çš„å…ƒç´ éƒ½æœƒè¢«è¦–ç‚ºç©ºå­—ä¸²è™•ç†ã€‚ å‡å¦‚ arr.length ç‚º 0ï¼Œå°‡å›å‚³ç©ºå­—ä¸²ã€‚  1 2 3 4 5  var a = [\u0026#34;Wind\u0026#34;, \u0026#34;Rain\u0026#34;, \u0026#34;Fire\u0026#34;]; a.join(); // \u0026#39;Wind,Rain,Fire\u0026#39; a.join(\u0026#34;\u0026#34;); // \u0026#39;WindRainFire\u0026#39; a.join(\u0026#34;, \u0026#34;); // \u0026#39;Wind, Rain, Fire\u0026#39; a.join(\u0026#34; + \u0026#34;); // \u0026#39;Wind + Rain + Fire\u0026#39;   flat() (IE æ²’æœ‰æ”¯æ´)  var newArray = arr.flat([depth]); å‡½å¼ä»¥éè¿´æ–¹å¼å°‡ç‰¹å®šæ·±åº¦çš„å­é™£åˆ—é‡æ–°ä¸²æ¥æˆç‚ºä¸€æ–°çš„é™£åˆ— ç¬¬ä¸€å€‹åƒæ•¸ç‚ºæŒ‡å®šå·¢ç‹€é™£åˆ—å±•é–‹çš„æ·±åº¦ï¼Œé è¨­ç‚º 1 ç•¶é­é‡ç©ºå…ƒç´ æ™‚ï¼Œflat()å‡½å¼æœƒè‡ªå‹•æ¸…é™¤é™£åˆ—ä¸­ç©ºçš„å…ƒç´   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50  var arr1 = [1, 2, [3, 4]]; // å·¢ç‹€1å±¤ arr1.flat(); // [1, 2, 3, 4]  var arr2 = [1, 2, [3, 4, [5, 6]]]; // å·¢ç‹€1å±¤ arr2.flat(); // [1, 2, 3, 4, [5, 6]]  var arr3 = [1, 2, [3, 4, [5, 6]]]; // å·¢ç‹€2å±¤ arr3.flat(2); // [1, 2, 3, 4, 5, 6]  // ç›¸åŠ å¸³æˆ¶ä¸­æ‰€æœ‰é‡‘é¡ const accounts = [ { owner: \u0026#34;Jonas Schmedtmann\u0026#34;, movements: [200, 450, -400, 3000, -650, -130, 70, 1300], interestRate: 1.2, // %  pin: 1111, }, { owner: \u0026#34;Jessica Davis\u0026#34;, movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30], interestRate: 1.5, pin: 2222, }, { owner: \u0026#34;Steven Thomas Williams\u0026#34;, movements: [200, -200, 340, -300, -20, 50, 400, -460], interestRate: 0.7, pin: 3333, }, { owner: \u0026#34;Sarah Smith\u0026#34;, movements: [430, 1000, 700, 50, 90], interestRate: 1, pin: 4444, }, ]; // ä¸åŒç‰©ä»¶ä¸­çš„æŸå€‹å±¬æ€§ç‚ºé™£åˆ—ï¼Œå°‡é™£åˆ—å€¼ä¸Ÿåˆ°ä¸€å€‹æ–°é™£åˆ— // æ”¤å¹³é™£åˆ—ä¸­å·¢ç‹€çµæ§‹ï¼ˆå–®å±¤) // åŠ ç¸½ const overallBalance = accounts .map((el) =\u0026gt; el.movements) .flat() .reduce((el, mov) =\u0026gt; el + mov, 0);   flatMap() (IE æ²’æœ‰æ”¯æ´)  var new_array = arr.flatMap(function callback(currentValue[, index[, array]]) { // return element for new_array }[, thisArg]) å¹¾ä¹ç­‰åŒ map().flat()ï¼Œä½†æ¯”åˆ†åˆ¥èª¿ç”¨é€™å…©å€‹æ–¹æ³•æ•ˆèƒ½æ›´å¥½  1 2 3 4 5 6  // ä¸åŒç‰©ä»¶ä¸­çš„æŸå€‹å±¬æ€§ç‚ºé™£åˆ—ï¼Œå°‡é™£åˆ—å€¼ä¸Ÿåˆ°ä¸€å€‹æ–°é™£åˆ— // æ”¤å¹³é™£åˆ—ä¸­å·¢ç‹€çµæ§‹ï¼ˆå–®å±¤) // åŠ ç¸½ const overallBalance = accounts .flatMap((el) =\u0026gt; el.movements) .reduce((el, mov) =\u0026gt; el + mov, 0);   \u0026lt;\u0026ndash; åƒæ•¸ç‚º callback \u0026ndash;\u0026gt;\nmap()  var new_array = arr.map(function callback(currentValue[, index[, array]]) { // Return element for new_array }[, thisArg]) æŠŠå…ƒç´ ä¸Ÿåˆ°å‡½å¼è£¡åŸ·è¡Œï¼Œä¸¦å›å‚³ä¸€å€‹æ–°é™£åˆ— callback å¯ä»¥æ”¶ä¸‰å€‹åƒæ•¸ï¼ˆç•¶å‰è™•ç†å…ƒç´ ã€ç•¶å‰è™•ç†å…ƒç´  indexã€æ­£åœ¨æ“ä½œçš„é™£åˆ—ï¼‰ å¯ä»¥ç”¨ä½œæ·ºæ‹·è²  1 2 3 4 5 6 7  const array = [1, 4, 9, 16]; // pass a function to map const map = array.map((x) =\u0026gt; x * 2); console.log(map); // [2, 8, 18, 32]   filter()  var newArray = array.filter(callback(element[, index[, array]])[, thisArg]) å›å‚³é€šéè©²å‡½å¼æª¢é©—ä¹‹å…ƒç´ æ‰€æ§‹æˆçš„æ–°é™£åˆ— callback å¯ä»¥æ”¶ä¸‰å€‹åƒæ•¸ï¼ˆç•¶å‰è™•ç†å…ƒç´ ã€ç•¶å‰è™•ç†å…ƒç´  indexã€æ­£åœ¨æ“ä½œçš„é™£åˆ—ï¼‰  1 2 3 4 5 6 7 8 9 10 11 12 13  const words = [ \u0026#34;spray\u0026#34;, \u0026#34;limit\u0026#34;, \u0026#34;elite\u0026#34;, \u0026#34;exuberant\u0026#34;, \u0026#34;destruction\u0026#34;, \u0026#34;present\u0026#34;, ]; const result = words.filter((word) =\u0026gt; word.length \u0026gt; 6); console.log(result); // [\u0026#34;exuberant\u0026#34;, \u0026#34;destruction\u0026#34;, \u0026#34;present\u0026#34;]   reduce()  array.reduce(callback[accumulator, currentValue, currentIndex, array], initialValue) è¿­ä»£åˆ°çš„é™£åˆ—å…ƒç´ ï¼Œå›å‚³ accumulatorï¼Œaccumulator æ˜¯ç´¯åŠ è™•ç†çµæœï¼ˆç´¯åŠ æ˜¯é‚è¼¯çš„ç´¯åŠ ä¸ä¸€å®šæ˜¯æ•¸å€¼ç´¯åŠ ï¼‰ callback å¯ä»¥æ”¶å››å€‹åƒæ•¸ï¼ˆaccumulator ç´¯åŠ å™¨è™•ç†çµæœã€ç•¶å‰è™•ç†å…ƒç´ ã€ç•¶å‰è™•ç†å…ƒç´  indexã€æ­£åœ¨æ“ä½œçš„é™£åˆ—ï¼‰ è‹¥æœ‰å‚³å…¥ initialValueï¼Œå‰‡ç”±ç´¢å¼• 0 ä¹‹å…ƒç´ é–‹å§‹ï¼Œè‹¥ç„¡å‰‡è‡ªç´¢å¼• 1 ä¹‹å…ƒç´ é–‹å§‹ ç©ºé™£åˆ—å‘¼å« reduce() æ–¹æ³•ä¸”æ²’æœ‰æä¾›ç´¯åŠ å™¨åˆå§‹å€¼ï¼Œå°‡æœƒç™¼ç”ŸéŒ¯èª¤ å¯ä»¥æŠŠé™£åˆ—è®Šæˆä¸€å€‹è¨ˆç®—çµæœï¼Œçµæœå¯ä»¥æ˜¯æ•¸å­—/ç‰©ä»¶å„ç¨®å½¢å¼  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43  // a is accumulator, b is currentValue  // ç´¯åŠ  const array = [1, 2, 3, 4]; const reducer = (a, b) =\u0026gt; a + b; const added = array.reduce(reducer)); console.log(added) // 6  // æ‰¾maxæœ€å¤§å€¼ const movements = [200, 450, -400, 3000, -650, -130, 70, 1300] const reducer = (a, b) =\u0026gt; { if (a \u0026gt; b) return a else return b } const maxValue = movements.reduce(reducer) console.log(maxVlue) // 3000  // æ”¤å¹³å·¢ç‹€é™£åˆ— const array = [ [0, 1], [2, 3], [4, 5] ] const reducer = (a, b) =\u0026gt; a.concat(b) const flattened = array.reduce((reducer), []); console.log(flattened) // [0, 1, 2, 3, 4, 5]  // è¨ˆæ•¸å™¨ const names = [\u0026#39;Alice\u0026#39;, \u0026#39;Bob\u0026#39;, \u0026#39;Tiff\u0026#39;, \u0026#39;Bruce\u0026#39;, \u0026#39;Alice\u0026#39;] const reducer = (allNames, name) =\u0026gt; { if (name in allNames) { allNames[name]++; } else { allNames[name] = 1; } return allNames; } const countedNames = names.reduce(reducer, {}); console.log(countedNames) // { \u0026#39;Alice\u0026#39;: 2, \u0026#39;Bob\u0026#39;: 1, \u0026#39;Tiff\u0026#39;: 1, \u0026#39;Bruce\u0026#39;: 1 }   find()  array.find(callback[, thisArg]) å›å‚³ç¬¬ä¸€å€‹æ»¿è¶³æ‰€æä¾›ä¹‹æ¸¬è©¦å‡½å¼çš„å…ƒç´ å€¼ æŸ¥æ‰¾ä¸åˆ°æœƒå›å‚³ undefined callback å¯ä»¥æ”¶ä¸‰å€‹åƒæ•¸ï¼ˆç•¶å‰è™•ç†å‡½å¼ã€ç•¶å‰è™•ç†å‡½å¼ indexã€æ­£åœ¨æ“ä½œçš„é™£åˆ—ï¼‰  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38  // æŸ¥æ‰¾å«æœ‰ç‰¹å®šå±¬æ€§çš„ç‰©ä»¶ const accounts = [ { owner: \u0026#34;Jonas Schmedtmann\u0026#34;, movements: [200, 450, -400, 3000, -650, -130, 70, 1300], interestRate: 1.2, // %  pin: 1111, }, { owner: \u0026#34;Jessica Davis\u0026#34;, movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30], interestRate: 1.5, pin: 2222, }, { owner: \u0026#34;Steven Thomas Williams\u0026#34;, movements: [200, -200, 340, -300, -20, 50, 400, -460], interestRate: 0.7, pin: 3333, }, { owner: \u0026#34;Sarah Smith\u0026#34;, movements: [430, 1000, 700, 50, 90], interestRate: 1, pin: 4444, }, ]; const account = accounts.find((account) =\u0026gt; account.owner === \u0026#34;Jessica Davis\u0026#34;); console.log(account); // æŸ¥æ‰¾æ•¸å€¼å¤§æ–¼10 const array = [5, 12, 8, 130, 44]; const found = array.find((element) =\u0026gt; element \u0026gt; 10); console.log(found); // 12   findIndex() v.s. indexOf()  array.findIndex(callback[, thisArg]) å›å‚³ç¬¬ä¸€å€‹æ»¿è¶³æ‰€æä¾›ä¹‹æ¸¬è©¦å‡½å¼çš„å…ƒç´ ç´¢å¼•ï¼Œè‹¥æ‰¾ä¸åˆ°æœƒå›å‚³-1 callback å¯ä»¥æ”¶ä¸‰å€‹åƒæ•¸ï¼ˆç•¶å‰è™•ç†å…ƒç´ ã€ç•¶å‰è™•ç†å…ƒç´  indexã€æ­£åœ¨æ“ä½œçš„é™£åˆ—ï¼‰ indexOf(element, fromIndex) ä¹Ÿå¯ä»¥æœå°‹å…ƒç´ ç´¢å¼•ä½ç½®ï¼Œä½†åƒæ•¸é€šå¸¸æ˜¯çµ¦ä¸€å€‹ primitives å€¼ findIndex()æœŸæœ›åƒæ•¸ç‚ºä¸€å€‹ callbackï¼Œå¯ä»¥è™•ç†è¤‡é›œé‚è¼¯  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  // åˆªé™¤ç‰¹å®šç­†è³‡æ–™ btnCloseAccount.addEventListener(\u0026#34;click\u0026#34;, (e) =\u0026gt; { e.preventDefault(); const index = accounts.findIndex( (account) =\u0026gt; account.username === currentAccount.username ); accounts.splice(index, 1); }); const array = [5, 12, 8, 130, 44]; const isLargeNumber = (element) =\u0026gt; element \u0026gt; 13; console.log(array.findIndex(isLargeNumber)); // 3   at()  åŠŸèƒ½é¡ä¼¼ find()ï¼Œarray.at(index)ç­‰æ–¼ array[index] å›å‚³ç´¢å¼•çš„å…ƒç´ ï¼Œé€šå¸¸ç”¨ä¾†å–æœ€å°¾ç«¯çš„å…ƒç´  å…è¨±æ­£æ•´æ•¸å’Œè² æ•´æ•¸ã€‚è² æ•´æ•¸å¾æ•¸çµ„ä¸­çš„æœ€å¾Œä¸€é …é–‹å§‹å€’æ•¸ æ‰¾ä¸åˆ°å…ƒç´ å›å‚³ undefined  1 2 3 4 5 6 7 8 9 10 11  const array = [5, 12, 8, 130, 44]; let index = 2; console.log(`index ${index + 1}is ${array.at(index)}`); // \u0026#34;index 2 is 8\u0026#34;  index = -2; console.log(`index ${index + 1}is ${array.at(index)}`); // \u0026#34;index -2 is 130\u0026#34;   some()  arr.some(callback[, thisArg]) some() æ¸¬è©¦é™£åˆ—ä¸­æ˜¯å¦è‡³å°‘æœ‰ä¸€å€‹å…ƒç´ ï¼Œç¬¦åˆè©²å‡½å¼æ¢ä»¶ï¼Œå›å‚³çµæœç‚º true false callback å¯ä»¥æ”¶ä¸‰å€‹åƒæ•¸ï¼ˆç•¶å‰è™•ç†å…ƒç´ ã€ç•¶å‰è™•ç†å…ƒç´  indexã€æ­£åœ¨æ“ä½œçš„é™£åˆ—ï¼‰  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  const array = [1, 2, 3, 4, 5]; // checks whether an element is even const even = (element) =\u0026gt; element % 2 === 0; console.log(array.some(even)); // true  // æª¢æŸ¥æ˜¯å¦æœ‰ä»»ä¸€å­˜æ¬¾ç´€éŒ„ const movements = [200, 450, -400, 3000, -650, -130, 70, 1300]; const anyDeposit = movements.some((mov) =\u0026gt; mov \u0026gt; 0); console.log(anyDeposit); // true  // å€Ÿè²¸æ¢ä»¶ç‚ºï¼Œæ›¾å­˜æ¬¾éä¸”éœ€æœ‰ä¸€ç­†å­˜æ¬¾é‡‘é¡å¤§æ–¼ç­‰æ–¼å€Ÿè²¸é‡‘é¡10% å‡è¨­å€Ÿè²¸30000 éœ€è¦æœ‰ä¸€ç­†å¤§æ–¼3000çš„å­˜æ¬¾ btnLoan.addEventListener(\u0026#34;click\u0026#34;, function (e) { e.preventDefault(); const amount = Number(inputLoanAmount.value); const condition = (mov) =\u0026gt; mov \u0026gt;= amount * 0.1; if (amount \u0026gt; 0 \u0026amp;\u0026amp; currentAccount.movements.some(condition)) { currentAccount.movements.push(amount); updateUI(currentAccount); } });   every()  arr.every(callback[, thisArg]) every() æ–¹æ³•æœƒæ¸¬è©¦é™£åˆ—ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½é€šéå‡½å¼æ¢ä»¶ï¼Œå›å‚³çµæœç‚º true false callback å¯ä»¥æ”¶ä¸‰å€‹åƒæ•¸ï¼ˆç•¶å‰è™•ç†å…ƒç´ ã€ç•¶å‰è™•ç†å…ƒç´  indexã€æ­£åœ¨æ“ä½œçš„é™£åˆ—ï¼‰  1 2 3 4 5 6  const isBelowThreshold = (currentValue) =\u0026gt; currentValue \u0026lt; 40; const array1 = [1, 30, 39, 29, 10, 13]; console.log(array1.every(isBelowThreshold)); // true   æœƒæ”¹è®ŠåŸå§‹è³‡æ–™ push()ã€pop()ã€shift()ã€unshift()å¯ä»¥åƒè€ƒJavaScript åŸºç¤çŸ¥è­˜è¤‡ç¿’(2)\n\u0026lt;â€“ åƒæ•¸ç‚ºå€¼ â€“\u0026gt;\nsplice()  array.splice(start[, deleteCount[, item1[, item2[, \u0026hellip;]]]]) å›å‚³ä¸€å€‹åŒ…å«è¢«åˆªé™¤çš„å…ƒç´ é™£åˆ— å¦‚æœåªæœ‰ä¸€å€‹å…ƒç´ è¢«åˆªé™¤ï¼Œä¾èˆŠæ˜¯å›å‚³åŒ…å«ä¸€å€‹å…ƒç´ çš„é™£åˆ—ã€‚è‹¥æ²’æœ‰å…ƒç´ è¢«åˆªé™¤ï¼Œå‰‡æœƒå›å‚³ç©ºé™£åˆ—ã€‚ å¤šæ•¸æ™‚å€™ä¸åœ¨æ„å›å‚³å€¼è€Œæ˜¯ä¿®æ”¹å¾Œçš„é™£åˆ—è³‡æ–™ï¼Œå¯ä»¥ç”¨ä¾†å–ä»£é™£åˆ—æŸå€‹ç´¢å¼•çš„å…ƒç´ ï¼Œå¯ä»¥æ–°å¢å…ƒç´ ä¹Ÿå¯ä»¥åˆªé™¤å…ƒç´  start æ˜¯æ”¹å‹•é»ï¼Œè‹¥å¤§æ–¼é™£åˆ—é•·åº¦ï¼Œèµ·å§‹é»ç‚ºé™£åˆ—é•·åº¦ã€‚è‹¥ç‚ºè² ï¼Œèµ·å§‹é»ç‚º-1ã€‚è¤‡æ•¸çµ•å°å€¼å¤§æ–¼é™£åˆ—é•·åº¦ï¼Œå‰‡èµ·å§‹é»ç‚º 0 deleteCount ç‚ºåˆªé™¤å…ƒç´ æ•¸é‡ array.splice(-1) ç­‰æ–¼ array.pop()  1 2 3 4 5 6 7 8 9 10 11 12 13 14  const months = [\u0026#34;Jan\u0026#34;, \u0026#34;March\u0026#34;, \u0026#34;April\u0026#34;, \u0026#34;June\u0026#34;]; months.splice(1, 0, \u0026#34;Feb\u0026#34;); // èµ·å§‹é»1ï¼Œåˆªé™¤0å€‹å…ƒç´ ï¼Œä¸¦æ’å…¥å…ƒç´ \u0026#39;Feb\u0026#39; // []  console.log(months); // [\u0026#34;Jan\u0026#34;, \u0026#34;Feb\u0026#34;, \u0026#34;March\u0026#34;, \u0026#34;April\u0026#34;, \u0026#34;June\u0026#34;]  months.splice(4, 1, \u0026#34;May\u0026#34;); // ä½œç‚ºå–ä»£æ–¹æ³•ï¼Œèµ·å§‹é»4 åˆªé™¤1å…ƒç´  ä¸¦æ’å…¥å…ƒç´ \u0026#39;May\u0026#39; // [ \u0026#39;June\u0026#39; ]  console.log(months); // [\u0026#34;Jan\u0026#34;, \u0026#34;Feb\u0026#34;, \u0026#34;March\u0026#34;, \u0026#34;April\u0026#34;, \u0026#34;May\u0026#34;]   reverse()  array.reverse() å›å‚³åè½‰å¾Œçš„é™£åˆ—  1 2 3 4  const array = [\u0026#34;one\u0026#34;, \u0026#34;two\u0026#34;, \u0026#34;three\u0026#34;]; array.reverse(); // [\u0026#34;three\u0026#34;, \u0026#34;two\u0026#34;, \u0026#34;one\u0026#34;]   \u0026lt;\u0026ndash; åƒæ•¸ç‚º callback \u0026ndash;\u0026gt;\nsort()  arr.sort([compareFunction]) å°ä¸€å€‹é™£åˆ—çš„æ‰€æœ‰å…ƒç´ é€²è¡Œæ’åºï¼Œä¸¦å›å‚³æ­¤é™£åˆ—ã€‚æ’åºä¸ä¸€å®šæ˜¯ç©©å®šçš„ï¼ˆstableï¼‰ ç”±æ–¼ä¾è³´åŸ·è¡Œç’°å¢ƒçš„å¯¦ä½œï¼Œæ‰€ä»¥ä¸¦ä¸èƒ½ä¿è­‰æ’åºçš„æ™‚é–“åŠç©ºé–“è¤‡é›œåº¦ é è¨­çš„æ’åºé †åºæ˜¯æ ¹æ“šå­—ä¸²çš„ Unicode ç·¨ç¢¼ä½ç½®ï¼ˆcode pointsï¼‰è€Œå®šï¼Œå¯ä»¥ç”¨ç¬¬ä¸€å€‹åƒæ•¸ compareFunction(a, b)è‡ªå®šç¾©æ¯”è¼ƒé‚è¼¯  1 2 3 4 5 6 7 8 9 10  function compare(a, b) { if (åœ¨æŸæ’åºæ¨™æº–ä¸‹ a å°æ–¼ b) { return -1; } if (åœ¨æŸæ’åºæ¨™æº–ä¸‹ a å¤§æ–¼ b) { return 1; } // a å¿…é ˆç­‰æ–¼ b  return 0; }    è‹¥ compareFunction(a, b) çš„å›å‚³å€¼å°æ–¼ 0ï¼Œå‰‡æœƒæŠŠ a æ’åœ¨å°æ–¼ b ä¹‹ç´¢å¼•çš„ä½ç½®ï¼Œå³ a æ’åœ¨ b å‰é¢ã€‚  1 2  // è‹¥ a å°æ–¼ b ï¼Œa - b \u0026lt; 0 aæœƒè¢«ä¸Ÿåˆ°å‰é¢ï¼Œç”±å°æ’åˆ°å¤§ movements.sort((a, b) =\u0026gt; a - b);    è‹¥ compareFunction(a, b) çš„å›å‚³å€¼å¤§æ–¼ 0ï¼Œå‰‡æœƒæŠŠ b æ’åœ¨å°æ–¼ a ä¹‹ç´¢å¼•çš„ä½ç½®ï¼Œå³ b æ’åœ¨ a å‰é¢ã€‚  1 2  // è‹¥ a å¤§æ–¼ b ï¼Œb - a \u0026lt; 0ï¼Œaæœƒè¢«ä¸Ÿåˆ°å¾Œé¢ï¼Œç”±å¤§æ’åˆ°å° movements.sort((a, b) =\u0026gt; b - a);    è‹¥ compareFunction(a, b) å›å‚³ 0ï¼Œå‰‡ a èˆ‡ b çš†ä¸æœƒæ”¹è®Šå½¼æ­¤çš„é †åºï¼Œä½†æœƒèˆ‡å…¶ä»–å…¨éƒ¨çš„å…ƒç´ æ¯”è¼ƒä¾†æ’åºã€‚å‚™è¨»ï¼šECMAscript æ¨™æº–ä¸¦ä¸ä¿è­‰é€™å€‹è¡Œç‚ºï¼Œå› æ­¤ä¸æ˜¯æ‰€æœ‰ç€è¦½å™¨ï¼ˆå¦‚ Mozilla ç‰ˆæœ¬åœ¨ 2003 ä»¥å‰ï¼‰éƒ½éµå®ˆæ­¤è¡Œç‚ºã€‚ compareFunction(a, b) åœ¨çµ¦äºˆä¸€çµ„ç‰¹å®šå…ƒç´  a åŠ b ç‚ºæ­¤å‡½å¼ä¹‹å…©å¼•æ•¸æ™‚å¿…é ˆç¸½æ˜¯å›å‚³ç›¸åŒçš„å€¼ã€‚è‹¥å›å‚³å€¼ä¸ä¸€è‡´ï¼Œæ’åºé †åºå‰‡ç‚º undefinedã€‚  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  // å±•ç¤ºçš„function const displayMovements = function (movements, sort = false) { // æœ‰è¦sortæ‰æœƒä½¿ç”¨æ’åºå¾Œè³‡æ–™(copyè³‡æ–™)  const movs = sort ? movements.slice().sort((a, b) =\u0026gt; a - b) : movements; // some render logic }; let sorted = false; btnSort.addEventListener(\u0026#34;click\u0026#34;, function (e) { e.preventDefault(); // æ”¹è®Šç•«é¢  displayMovements(currentAccount.movements, !sorted); // æ›´æ–°ç‹€æ…‹  sorted = !sorted; });   é‡å°æ¯å€‹å…ƒç´ è™•ç†  åŸå§‹è³‡æ–™å¯æ”¹å¯ä¸æ”¹ï¼Œçœ‹å‡½å¼é‚è¼¯ å¯ä»¥åªè¿­ä»£ render åœ¨ç•«é¢ä¸Šï¼Œä¹Ÿå¯ä¿®æ”¹è³‡æ–™ e.g. æ–°å¢ç‰©ä»¶å±¬æ€§ç­‰  forEach()  array.forEach(callback(currentValue [, index [, array]])[, thisArg]) å°æ¯å€‹é™£åˆ—å…§çš„å…ƒç´ åŸ·è¡Œä¸€æ¬¡å‡½å¼çš„å…§å®¹ï¼Œä¸æœƒå›å‚³åŸ·è¡Œçµæœï¼Œä½†å¯ä»¥ä¿®æ”¹åŸä¾†çš„é™£åˆ— callback å¯ä»¥æ”¶ä¸‰å€‹åƒæ•¸ï¼ˆç•¶å‰è™•ç†å…ƒç´ ã€ç•¶å‰è™•ç†å…ƒç´  indexã€æ­£åœ¨æ“ä½œçš„é™£åˆ—ï¼‰ forEach ç„¡æ³•å¾è¿´åœˆè·³å‡ºï¼ŒæœƒåŸ·è¡Œå®Œç•¢  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  // äº¤æ˜“ç´€éŒ„ const array = [100, 300, -250, 200, 300, -20, 50, -100]; array.forEach((el, index, array) =\u0026gt; { if (el \u0026gt; 0) { console.log(`${index + 1}: you deposited ${el}dollars`); } else { console.log(`${index + 1}: you withdrew ${Math.abs(el)}dollars`); } }); // ç­‰æ–¼ä¹‹å‰çš„for of æ­é…array.entries()åŒæ™‚å–å‡ºindex(key) value for (const [index, el] of array.entries()) { if (el \u0026gt; 0) { console.log(`${index + 1}: you deposited ${el}dollars`); } else { console.log(`${index + 1}: you withdrew ${Math.abs(el)}dollars`); } } // 0: you deposited 100 dollars // 1: you deposited 300 dollars // 2: you withdrew 250 dollars // 3: you deposited 200 dollars // 4: you deposited 300 dollars // 5: you withdrew 20 dollars // 6: you deposited 50 dollars // 7: you withdrew 100 dollars    forEach ç”¨åœ¨ set è·Ÿ map  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  // set const currenciesUnique = new Set([\u0026#34;USD\u0026#34;, \u0026#34;EUR\u0026#34;, \u0026#34;GBP\u0026#34;]); currenciesUnique.forEach((el, _, map) =\u0026gt; { console.log(`${el}: ${el}`); }); // USD: USD // EUR: EUR // GBP: GBP  // map const currencies = new Map([ [\u0026#34;USD\u0026#34;, \u0026#34;United States dollar\u0026#34;], [\u0026#34;EUR\u0026#34;, \u0026#34;Euro\u0026#34;], [\u0026#34;GBP\u0026#34;, \u0026#34;Pound sterling\u0026#34;], ]); currencies.forEach((el, index, map) =\u0026gt; { console.log(`${index + 1}: ${el}`); }); // USD: United States dollar // EUR: Euro // GBP: Pound sterling    å¢åŠ ç‰©ä»¶å±¬æ€§  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  const accounts = [ { owner: \u0026#34;Jonas Schmedtmann\u0026#34;, movements: [200, 450, -400, 3000, -650, -130, 70, 1300], interestRate: 1.2, // %  pin: 1111, }, { owner: \u0026#34;Jessica Davis\u0026#34;, movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30], interestRate: 1.5, pin: 2222, }, { owner: \u0026#34;Steven Thomas Williams\u0026#34;, movements: [200, -200, 340, -300, -20, 50, 400, -460], interestRate: 0.7, pin: 3333, }, { owner: \u0026#34;Sarah Smith\u0026#34;, movements: [430, 1000, 700, 50, 90], interestRate: 1, pin: 4444, }, ]; const createUsernames = (array) =\u0026gt; { array.forEach((account) =\u0026gt; { accounts.username = acc.owner .toLowerCase() .split(\u0026#34; \u0026#34;) .map((name) =\u0026gt; name[0]) .join(\u0026#34;\u0026#34;); }); };   ç”¢ç”Ÿ Array è·Ÿæ³¨å…¥å…ƒç´ æ–¹æ³• new Array()  é™½æ˜¥ç‰ˆæ‰‹å‹•æ”¾é™£åˆ—å…ƒç´   1  const arr = new Array(1, 2, 3);   new Arrayï¼Œæ­é… fill() æ³¨å…¥å…ƒç´   fill() æ–¹æ³•æœƒå°‡é™£åˆ—ä¸­ç´¢å¼•çš„ç¬¬ä¸€å€‹åˆ°æœ€å¾Œä¸€å€‹çš„æ¯å€‹ä½ç½®å…¨éƒ¨å¡«å…¥ä¸€å€‹éœæ…‹çš„å€¼ arr.fill(value[, start[, end]])ï¼Œstart é è¨­ 0ï¼Œend é è¨­é™£åˆ—é•· å…ƒç´ å€é–“ç‚º [start, end)ï¼Œæ„å³åŒ…å« start ä½†ä¸åŒ…å« end  1 2 3 4 5 6 7 8 9  const arr = new Array(7); // [ \u0026lt;7 empty items\u0026gt; ] arr.fill(1); // [1, 1, 1, 1, 1, 1, 1]  const arr2 = new Array(7); arr2.fill(1, 3, 5); // index 3é–‹å§‹åˆ° index 4 æ³¨å…¥å…ƒç´ 1 //[ \u0026lt;3 empty items\u0026gt;, 1, 1, \u0026lt;2 empty items\u0026gt; ]   Array.from()  Array.from() æ–¹æ³•æœƒå¾é¡é™£åˆ—ï¼ˆarray-likeï¼‰æˆ–æ˜¯å¯è¿­ä»£ï¼ˆiterableï¼‰ç‰©ä»¶å»ºç«‹ä¸€å€‹æ–°çš„ Array å¯¦é«” ç¬¬ä¸€å€‹åƒæ•¸æ˜¯ arrayLike å°‡é¡é™£åˆ—æˆ–å¯è¿­ä»£ç‰©ä»¶è½‰æ›æˆé™£åˆ— ç¬¬äºŒå€‹åƒæ•¸æ˜¯ Map å‡½å¼è¿­ä»£é™£åˆ—ä¸­çš„æ¯ä¸€å€‹å…ƒç´  ç¬¬ä¸‰å€‹åƒæ•¸æ˜¯å‡½å¼åŸ·è¡Œæ™‚çš„ this å°è±¡  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  const y = Array.from( { length: 7, }, () =\u0026gt; 1 ); console.log(y); // [1,1,1,1,1,1,1]  const z = Array.from( { length: 7, }, (_, i) =\u0026gt; i + 1 ); // [1,2,3,4,5,6,7]  console.log(Array.from(\u0026#34;foo\u0026#34;)); // Array [\u0026#34;f\u0026#34;, \u0026#34;o\u0026#34;, \u0026#34;o\u0026#34;]    querySelectorAll é¸åˆ°çš„ nodeList å¯ä»¥å…ˆç”¨ Array.from æ–¹æ³•è½‰é™£åˆ—  1 2 3 4 5 6 7 8  // é¸å–éœ€è¦çš„divå…ƒç´ ï¼Œå–å‡ºtextContent labelBalance.addEventListener(\u0026#39;click\u0026#39;, function() =\u0026gt; { const movementsUI = Array.from( document.querySelectorAll(\u0026#39;.movements__value\u0026#39;), el =\u0026gt; Number(el.textContent.replace(\u0026#39;â‚¬\u0026#39;, \u0026#39;\u0026#39;)) console.log(movementsUI) const movementsUI2 = [...document.querySelectorAll(\u0026#39;.movements__value\u0026#39;)] ) })   å°ç·´ç¿’  slice concat forEach  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  // å¯«ä¸€å€‹\u0026#39;checkDogs\u0026#39; åŠŸèƒ½ æ”¶å…©å€‹é™£åˆ—åƒæ•¸ï¼Œä¾åºåˆ—å°ç¬¬å¹¾éš»ç‹—å¤ æ˜¯æˆå¹´æˆ–å¹¼å¹´/å¹¾æ­² //TEST DATA 1: Julia\u0026#39;s data [3, 5, 2, 12, 7], Kate\u0026#39;s data [4, 1, 15, 8, 3]  //TEST DATA 2: Julia\u0026#39;s data [9, 16, 6, 8, 3], Kate\u0026#39;s data [10, 5, 6, 1, 4] const checkDogs = function (arr1, arr2) { // [...arr1]  // æ’é™¤ç¬¬ä¸€å€‹è·Ÿæœ€å¾Œå…©ç­†éŒ¯èª¤è³‡æ–™  dogsJulia = arr1.slice(1, 4); dogsKate = arr2.slice(); // åˆä½µå…©çµ„é™£åˆ—  allDogs = dogsJulia.concat(dogsKate); // consoleæ–‡å­— å¤§æ–¼ç­‰æ–¼3ç®—adult å°æ–¼ç®—puppy  allDogs.forEach((el, index) =\u0026gt; { const dogType = el \u0026gt;= 3 ? \u0026#34;adult\u0026#34; : \u0026#34;puppy\u0026#34;; console.log(`Dog ${index + 1}is an ${dogType}and is ${el}years old`); }); };    map filter reduce  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  // TEST DATA 1: [5, 2, 4, 1, 15, 8, 3] // TEST DATA 2: [16, 6, 10, 5, 6, 1, 4]  // å¯«ä¸€å€‹calcAverageHumanAge æ›ç®—æˆå¹³å‡äººé¡å¹´é½¡  const calcAverageHumanAge = function(ages) { // ç‹—ç‹—å¹´é½¡æ›ç®—äººé¡é‚è¼¯ è‹¥\u0026lt;=2 ç›´æ¥*2; è‹¥\u0026gt;2 åˆå§‹å€¼16 + å¹´é½¡*4  const humanAges = ages .map((age) =\u0026gt; (age \u0026lt;= 2 ? age * 2 : 16 + age * 4)) .filter((age) =\u0026gt; age \u0026gt;= 18); // æ’é™¤æ›ç®—å¹´é½¡å°æ–¼18çš„ç‹—ç‹—  .reduce((sum, age, i, arr) =\u0026gt; sum + age / arr.length, 0) // ç‹—ç‹—æ›ç®—å¹³å‡å¹´é½¡  // ä¸‹æ–¹reduceè‹¥æ²’æœ‰è¨­å®šåˆå§‹å€¼ çµæœæœƒæœ‰éŒ¯  // const avg = adults.reduce((sum, age, i, arr) =\u0026gt; sum + age / arr.length, 0)  // 2 3. (2+3)/2 = 2.5 === 2/2+3/2 = 2.5  return avg; }; calcAverageHumanAge([5, 2, 4, 1, 15, 8, 3]);    ç¶œåˆç·´ç¿’ ä¸‰å…ƒé‹ç®—å­ç®—æ˜¯å…©è¡Œï¼Œä¸æœƒéš±å« return count++ è·Ÿ ++count å·®ç•°  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108  // challenge #3 // data const account1 = { owner: \u0026#34;Jonas Schmedtmann\u0026#34;, movements: [200, 450, -400, 3000, -650, -130, 70, 1300], interestRate: 1.2, // %  pin: 1111, }; const account2 = { owner: \u0026#34;Jessica Davis\u0026#34;, movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30], interestRate: 1.5, pin: 2222, }; const account3 = { owner: \u0026#34;Steven Thomas Williams\u0026#34;, movements: [200, -200, 340, -300, -20, 50, 400, -460], interestRate: 0.7, pin: 3333, }; const account4 = { owner: \u0026#34;Sarah Smith\u0026#34;, movements: [430, 1000, 700, 50, 90], interestRate: 1, pin: 4444, }; const accounts = [account1, account2, account3, account4]; // 1-1 æ‰€æœ‰å¸³æˆ¶å­˜æ¬¾ç´€éŒ„åŠ ç¸½ map flat const overAllBalance = accounts .map((el) =\u0026gt; el.movements) .flat() // è®Šæˆä¸€ç¶­é™£åˆ—  .filter((el) =\u0026gt; el \u0026gt; 0) .reduce((sum, el) =\u0026gt; sum + el); console.log(overAllBalance); // 1-2 æ‰€æœ‰å¸³æˆ¶å­˜æ¬¾ç´€éŒ„åŠ ç¸½ flatMap const overAllBalance = accounts .flatMap((el) =\u0026gt; el.movements) // è®Šæˆä¸€ç¶­é™£åˆ—  .filter((el) =\u0026gt; el \u0026gt; 0) .reduce((sum, el) =\u0026gt; sum + el); console.log(overAllBalance); // 25180  // 2 å¤§æ–¼1000å­˜æ¬¾è¨˜éŒ„æœ‰å¹¾ç­† // reduce ç¬¬äºŒå€‹åƒæ•¸ç‚ºåˆå§‹å€¼ è¤‡ç¿’è¨ˆæ•¸å™¨ç”¨æ³• // sum++å…ˆreturn å†+ ; ++sum å…ˆ+å†return const numDeposit1000 = accounts .flatMap((el) =\u0026gt; el.movements) // å¦‚æœå¯«sum++ æ¯æ¬¡éƒ½å…ˆreturn 0 çµ¦accumulator å†+1 ç´¯åŠ çµæœå°±æ°¸é æ˜¯0  .reduce((count, el) =\u0026gt; (el \u0026gt; 1000 ? ++count : count), 0); console.log(numDeposit1000); // 5  // 3 reduce å›å‚³çµæœç‚º{å­˜æ¬¾è¨˜éŒ„ç­†æ•¸: ææ¬¾è¨˜éŒ„ç­†æ•¸:}  const balanceCounter = accounts .flatMap((el) =\u0026gt; el.movements) // å¦‚æœå¯«sum++ æ¯æ¬¡éƒ½å…ˆreturn 0 çµ¦accumulator å†+1 ç´¯åŠ çµæœå°±æ°¸é æ˜¯0  .reduce( (sums, el) =\u0026gt; { el \u0026gt; 0 ? (sums.deposits += el) : (sums.withdraws += el); // é€™é‚Šæœ‰+= é‹ç®— éå–®è¡Œ è¨˜å¾—åŠ return  return sums; }, { deposits: 0, withdraws: 0, } ); console.log(balanceCounter); // {deposits: 25180, withdraws: -7340}  // æ›´ç°¡æ½”çš„å¯«æ³•  const balanceCounter = accounts .flatMap((el) =\u0026gt; el.movements) // å¦‚æœå¯«sum++ æ¯æ¬¡éƒ½å…ˆreturn 0 çµ¦accumulator å†+1 ç´¯åŠ çµæœå°±æ°¸é æ˜¯0  .reduce( (sums, el) =\u0026gt; { sums[el \u0026gt; 0 ? \u0026#34;deposits\u0026#34; : \u0026#34;withdraws\u0026#34;] += el; return sums; }, { deposits: 0, withdraws: 0, } ); console.log(balanceCounter); // 4. æ ¼å¼è½‰æ›å™¨ this is a nice title -\u0026gt; This Is a Nice Title // array.includes(element) const covertTitleCase = function (title) { const exceptions = [\u0026#34;a\u0026#34;, \u0026#34;an\u0026#34;, \u0026#34;and\u0026#34;, \u0026#34;the\u0026#34;, \u0026#34;but\u0026#34;, \u0026#34;or\u0026#34;, \u0026#34;on\u0026#34;, \u0026#34;in\u0026#34;, \u0026#34;with\u0026#34;]; const titleCase = title .toLowerCase() .split(\u0026#34; \u0026#34;) .map((word) =\u0026gt; exceptions.includes(word) ? word : word[0].toUpperCase() + word.slice(1) ) .join(\u0026#34; \u0026#34;); return titleCase; }; //    ç¶œåˆç·´ç¿’ 2  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  // challenge #4 // TEST DATA: // const dogs = [ // { weight: 22, curFood: 250, owners: [\u0026#39;Alice\u0026#39;, \u0026#39;Bob\u0026#39;] }, // { weight: 8, curFood: 200, owners: [\u0026#39;Matilda\u0026#39;] }, // { weight: 13, curFood: 275, owners: [\u0026#39;Sarah\u0026#39;, \u0026#39;John\u0026#39;] }, // { weight: 32, curFood: 340, owners: [\u0026#39;Michael\u0026#39;] } // ];  // 1. calculate the recommended food portion and add it to the object as a new property. Do NOT create a new array, simply loop over the array. Forumla: recommendedFood = weight ** 0.75 * 28. (The result is in grams of food, and the weight needs to be in kg)  // 2. Find Sarah\u0026#39;s dog and log to the console whether it\u0026#39;s eating too much or too little. HINT: Some dogs have multiple owners, so you first need to find Sarah in the owners array, and so this one is a bit tricky (on purpose)  // 3. Create an array containing all owners of dogs who eat too much (\u0026#39;ownersEatTooMuch\u0026#39;) and an array with all owners of dogs who eat too little (\u0026#39;ownersEatTooLittle\u0026#39;).  // 4. Log a string to the console for each array created in 3., like this: \u0026#34;Matilda and Alice and Bob\u0026#39;s dogs eat too much!\u0026#34; and \u0026#34;Sarah and John and Michael\u0026#39;s dogs eat too little!\u0026#34;  // 5. Log to the console whether there is any dog eating EXACTLY the amount of food that is recommended (just true or false)  // 6. Log to the console whether there is any dog eating an OKAY amount of food (just true or false)  // 7. Create an array containing the dogs that are eating an OKAY amount of food (try to reuse the condition used in 6.)  // 8. Create a shallow copy of the dogs array and sort it by recommended food portion in an ascending order (keep in mind that the portions are inside the array\u0026#39;s objects)   ä»¥ä¸Šç‚ºThe Complete JavaScript Course - From Zero to Expertçš„å°ç­†è¨˜ï¼Œé™„ä¸Šé€£çµæ¨æ¨é€™å ‚èª²\n","date":"2022-02-11T00:00:00+08:00","image":"https://bacnotes.github.io/p/array-methods/pexels-photo-7988086_hu32d02208a7a23794672f78ec0a2370e0_145353_120x120_fill_q75_box_smart1.jpeg","permalink":"https://bacnotes.github.io/p/array-methods/","title":"é™£åˆ—çš„è™•ç†æ–¹æ³•ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"React å¦‚ä½•èˆ‡è³‡æ–™åº«äº’å‹•  React æœƒé€é Backend APP ä¾†å­˜å–è³‡æ–™åº« ç”±æ–¼å‰ç«¯çš„ç¨‹å¼ç¢¼é€é devtool å¾ˆå®¹æ˜“è¢«çœ‹å…‰å…‰ï¼Œç›´æ¥ç”±å‰ç«¯ APP å­˜å–è³‡æ–™åº«ç­‰æ–¼æ›å…‰äº†è³‡æ–™åº«çš„è®€å¯«å…¥å£ å› æ­¤å‰å¾Œç«¯åˆ†é›¢ï¼Œå‰ç«¯é€é API ä¸²æ¥å¾Œç«¯è³‡æ–™ï¼Œé™¤äº†è€ƒé‡åˆ°ç¨‹å¼ä¹‹é–“çš„é—œæ³¨é»åˆ†é›¢å¤–ï¼Œå®‰å…¨æ€§ä¹Ÿæ¯”è¼ƒé«˜  ä½¿ç”¨ fetch API æ¥æ”¶è³‡æ–™  fetch API æ˜¯ç€è¦½å™¨å…§å»ºçš„ APIï¼Œå¯ä»¥ç™¼é€ Http è«‹æ±‚æˆ–æ¥æ”¶ Http å›æ‡‰ æ­é… Response.json()æ–¹æ³•  1 2 3  response.json().then((data) =\u0026gt; { // do something with your data });   ä½¿ç”¨ Promise, then æ¥æ”¶ Data 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38  function App() { const [movies, setMovies] = useState([]); function fetchMoviesHandler() { // fetché è¨­ç‚ºgetæ‰€ä»¥ä¸ç”¨å¯«method  fetch(\u0026#34;https://swapi.dev/api/films/\u0026#34;) .then((response) =\u0026gt; { // ä½¿ç”¨Response.json()æŠŠresponse body è½‰æˆJavaScriptç‰©ä»¶ä¸¦è¿”å›ä¸€å€‹Promise  return response.json(); }) // Promiseéœ€è¦ç”¨thenæ¥ä½ ä¸¦ä½¿ç”¨dataä¾†æŠ“å–è£¡é¢çš„è³‡æ–™  .then((data) =\u0026gt; { // é€™é‚ŠæŠŠ[{}, {}, {}]ç‰©ä»¶è³‡æ–™ç”¨mapè¿­ä»£å–å‡ºï¼Œmapè¿”å›ä¸€å€‹æ–°é™£åˆ—  const transformedMovies = data.results.map((movieData) =\u0026gt; { // ç‰©ä»¶keyè¨­å®šæˆcomponentè£¡é¢çš„åå­—ï¼ˆå› è³‡æ–™åº«æ¬„ä½åä¸ä¸€å®šå°æ‡‰ï¼‰  return { id: movieData.episode_id, title: movieData.title, openingText: movieData.opening_crawl, releaseDate: movieData.release_date, }; }); setMovies(transformedMovies); }); } return ( \u0026lt;React.Fragment\u0026gt; \u0026lt;section\u0026gt; \u0026lt;button onClick={fetchMoviesHandler}\u0026gt;Fetch Movies\u0026lt;/button\u0026gt; \u0026lt;/section\u0026gt; \u0026lt;section\u0026gt; \u0026lt;MoviesList movies={movies} /\u0026gt; \u0026lt;/section\u0026gt; \u0026lt;/React.Fragment\u0026gt; ); } export default App;   æ”¹å¯«ç‚º async await åŠ ä¸ŠéŒ¯èª¤è™•ç†  æ­é… try catch åŠ ä¸Š Loading Fetch API doesn\u0026rsquo;t ä¸æœƒæŠŠéŒ¯èª¤ç‹€æ…‹ç¢¼ 404 è¦–ç‚ºéŒ¯èª¤ï¼Œåªè¦æœ‰æˆåŠŸå›å‚³å°±æœƒ 200 æ‰€ä»¥æˆ‘å€‘å¯ä»¥è‡ªå·±åŠ ä¸€æ®µåˆ¤æ–·åœ¨ try è£¡é¢ ç•¶ Response æœ‰å•é¡Œæ‹‹å‡ºéŒ¯èª¤ if (!response.ok \u0026amp;\u0026amp; response.status !== 200) error è¨˜å¾—ä¹Ÿè¦ç”¨ useState æ§åˆ¶  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48  function App() { const [movies, setMovies] = useState([]); const [isLoading, setIsLoading] = useState(false); const [error, setError] = useState(null); async function fetchMoviesHandler() { setIsLoading(true); try { // fetché è¨­ç‚ºgetæ‰€ä»¥ä¸ç”¨å¯«method  const response = await fetch(\u0026#34;https://swapi.dev/api/films/\u0026#34;); // The method returns a promise, so you have to wait for the JSON  if (!response.ok \u0026amp;\u0026amp; response.status !== 200) { throw new Error(\u0026#34;Something went wrong\u0026#34;); } const data = await response.json(); const transformedMovies = data.results.map((movieData) =\u0026gt; { return { id: movieData.episode_id, title: movieData.title, openingText: movieData.opening_crawl, releaseDate: movieData.release_date, }; }); setMovies(transformedMovies); } catch (error) { setIsLoading(false); setError(error.message); } setIsLoading(false); } return ( \u0026lt;React.Fragment\u0026gt; \u0026lt;section\u0026gt; \u0026lt;button onClick={fetchMoviesHandler}\u0026gt;Fetch Movies\u0026lt;/button\u0026gt; \u0026lt;/section\u0026gt; \u0026lt;section\u0026gt; // æ²’åœ¨Loadingä¸”æœ‰è³‡æ–™é¡¯ç¤ºMovieList  {!isLoading \u0026amp;\u0026amp; movies.length \u0026gt; 0 \u0026amp;\u0026amp; \u0026lt;MoviesList movies={movies} /\u0026gt;} // æ²’åœ¨Loadingä¸”ç„¡è³‡æ–™é¡¯ç¤ºæ²’æ‰¾åˆ°é›»å½±  {!isLoading \u0026amp;\u0026amp; movies.length === 0 \u0026amp;\u0026amp; !error \u0026amp;\u0026amp; \u0026lt;p\u0026gt;Found no movies.\u0026lt;/p\u0026gt;} {!isLoading \u0026amp;\u0026amp; error \u0026amp;\u0026amp; \u0026lt;p\u0026gt;{error}\u0026lt;/p\u0026gt;} {isLoading \u0026amp;\u0026amp; \u0026lt;p\u0026gt;Loading...\u0026lt;/p\u0026gt;} \u0026lt;/section\u0026gt; \u0026lt;/React.Fragment\u0026gt; ); }    é‡æ§‹ä¸€ä¸‹ç¨‹å¼ç¢¼ï¼ŒæŠŠ render çš„ JSX è®Šå–®ç´”ä¸€é»  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53  function App() { const [movies, setMovies] = useState([]); const [isLoading, setIsLoading] = useState(false); const [error, setError] = useState(null); const fetchMoviesHandler = useCallback(async () =\u0026gt; { setIsLoading(true); setError(null); try { const response = await fetch(\u0026#34;https://swapi.dev/api/films/\u0026#34;); if (!response.ok) { throw new Error(\u0026#34;Something went wrong!\u0026#34;); } const data = await response.json(); const transformedMovies = data.results.map((movieData) =\u0026gt; { return { id: movieData.episode_id, title: movieData.title, openingText: movieData.opening_crawl, releaseDate: movieData.release_date, }; }); setMovies(transformedMovies); } catch (error) { setError(error.message); } setIsLoading(false); }, []); let content = \u0026lt;p\u0026gt;Found no movies.\u0026lt;/p\u0026gt;; if (movies.length \u0026gt; 0) { content = \u0026lt;MoviesList movies={movies} /\u0026gt;; } if (error) { content = \u0026lt;p\u0026gt;{error}\u0026lt;/p\u0026gt;; } if (isLoading) { content = \u0026lt;p\u0026gt;Loading...\u0026lt;/p\u0026gt;; } return ( \u0026lt;React.Fragment\u0026gt; \u0026lt;section\u0026gt; \u0026lt;button onClick={fetchMoviesHandler}\u0026gt;Fetch Movies\u0026lt;/button\u0026gt; \u0026lt;/section\u0026gt; \u0026lt;section\u0026gt;{content}\u0026lt;/section\u0026gt; \u0026lt;/React.Fragment\u0026gt; ); }   ä½¿ç”¨ useEffect ç®¡ç† fetch æ–¹æ³•  å¦‚æœ fetch æ–¹æ³•åªéœ€è¦åœ¨æ¸²æŸ“å…ƒä»¶æ™‚åŸ·è¡Œä¸€æ¬¡ï¼Œæ”¾åœ¨ useEffect ä¸­ä¸è®“ re-render é‡è·‘ fetch å³å¯ ä½†è‹¥ fetch æ–¹æ³•æœƒè·Ÿå…¶ä»–å…ƒä»¶ä¸€èµ·ä½¿ç”¨(e.g. é»æŒ‰éˆ•ä¹Ÿæœƒé‡æ‹‰è³‡æ–™)ï¼Œå‰‡éœ€æ”¾åˆ° useEffect å¤–ï¼Œç”¨ useCallback åŒ…è£¹å­˜æˆè®Šæ•¸(è¨˜ä½è¨˜æ†¶é«”ä½ç½®)ï¼ŒæŠŠå†è®Šæ•¸æ”¾åˆ° useEffect çš„ dependencies ä¸­ ä¸ç„¶é»ä¸‹å»æŒ‰éˆ•ï¼Œé‡æ–°æ¸²æŸ“ APP å…ƒä»¶æ™‚ï¼Œå‡½å¼è¨˜æ†¶é«”ä½ç½®ä¹Ÿæœƒæ”¹è®Šï¼Œç­‰æ–¼ useEffect çš„ç›¸ä¾åƒæ•¸æœ‰æ›´æ–°[fetchMoviesHandler]ï¼Œå†æ¬¡åŸ·è¡Œ useEffectï¼Œé™·å…¥ç„¡é™ç„¡åœˆ  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63  function App() { const [movies, setMovies] = useState([]); const [isLoading, setIsLoading] = useState(false); const [error, setError] = useState(null); // ä½¿ç”¨useCallback è¨˜ä½ç‰©ä»¶è¨˜æ†¶é«”ä½ç½®  const fetchMoviesHandler = useCallback(async () =\u0026gt; { setIsLoading(true); setError(null); try { const response = await fetch(\u0026#34;https://swapi.dev/api/films/\u0026#34;); // ä¹Ÿå¯ä»¥åªå¯«ä¸€å€‹ï¼Œä½†é€™æ¨£å¯«æ¯”è¼ƒå®‰å…¨  if (!response.ok \u0026amp;\u0026amp; response.status !== 200) { throw new Error(\u0026#34;Something went wrong!\u0026#34;); } const data = await response.json(); const transformedMovies = data.results.map((movieData) =\u0026gt; { return { id: movieData.episode_id, title: movieData.title, openingText: movieData.opening_crawl, releaseDate: movieData.release_date, }; }); setMovies(transformedMovies); } catch (error) { setError(error.message); } setIsLoading(false); }, []); // åªå¸Œæœ›åœ¨ä¸€é–‹å§‹åŸ·è¡Œä¸€æ¬¡ï¼Œå¾ŒçºŒfetchMoviesHandlerè¢«å‘¼å«æœƒå†åŸ·è¡Œï¼Œè‹¥fetchMoviesHandleræœ‰è®Š(é»æŒ‰éˆ•)æ‰æœƒåŸ·è¡Œ  useEffect(() =\u0026gt; { fetchMoviesHandler(); }, [fetchMoviesHandler]); let content = \u0026lt;p\u0026gt;Found no movies.\u0026lt;/p\u0026gt;; if (movies.length \u0026gt; 0) { content = \u0026lt;MoviesList movies={movies} /\u0026gt;; } if (error) { content = \u0026lt;p\u0026gt;{error}\u0026lt;/p\u0026gt;; } if (isLoading) { content = \u0026lt;p\u0026gt;Loading...\u0026lt;/p\u0026gt;; } return ( \u0026lt;React.Fragment\u0026gt; \u0026lt;section\u0026gt; \u0026lt;button onClick={fetchMoviesHandler}\u0026gt;Fetch Movies\u0026lt;/button\u0026gt; \u0026lt;/section\u0026gt; \u0026lt;section\u0026gt;{content}\u0026lt;/section\u0026gt; \u0026lt;/React.Fragment\u0026gt; ); } export default App;   ä½¿ç”¨ firebase ä½œç‚º backend APP  æ‰èƒ½å¤ çœ‹åˆ°å¯¦éš›ä¾†å›å‚³éè³‡æ–™äº’å‹• ç™¼é€è«‹æ±‚ä½¿ç”¨ addMovieHandler(movie) æ¥æ”¶è«‹æ±‚ä½¿ç”¨ fetchMoviesHandler  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91  function App() { const [movies, setMovies] = useState([]); const [isLoading, setIsLoading] = useState(false); const [error, setError] = useState(null); const fetchMoviesHandler = useCallback(async () =\u0026gt; { setIsLoading(true); setError(null); try { // fetchæ¥æ”¶è³‡æ–™çš„ç¶²å€ä¹Ÿæ”¹ç‚ºfirebaseï¼Œä½†æ”¶åˆ°çš„è³‡æ–™çµæ§‹æœƒæœ‰è®Š  const response = await fetch( \u0026#34;https://react-http-6b4a6.firebaseio.com/movies.json\u0026#34; ); if (!response.ok) { throw new Error(\u0026#34;Something went wrong!\u0026#34;); } const data = await response.json(); // æ–°çš„è³‡æ–™çµæ§‹uid{å±¬æ€§1:å€¼, å±¬æ€§2:å€¼...}  console.log(data); const loadedMovies = []; // loopæ‰€æœ‰uid(key)  for (const key in data) { loadedMovies.push({ id: key, title: data[key].title, openingText: data[key].openingText, releaseDate: data[key].releaseDate, }); } setMovies(loadedMovies); } catch (error) { setError(error.message); } setIsLoading(false); }, []); useEffect(() =\u0026gt; { fetchMoviesHandler(); }, [fetchMoviesHandler]); async function addMovieHandler(movie) { // firebase ç™¼é€è«‹æ±‚ç¶²å€æœ€å¾Œéœ€è¦åŠ ä¸Š.json ä¸ç„¶æœƒå¤±æ•—  // moviesç‚ºå„²å­˜çš„è³‡æ–™è¡¨  const response = await fetch( \u0026#34;https://react-http-6b4a6.firebaseio.com/movies.json\u0026#34;, { method: \u0026#34;POST\u0026#34;, // è¡¨å–®ç‰©ä»¶è½‰JSONè³‡æ–™æ ¼å¼  body: JSON.stringify(movie), // éå¿…è¦ï¼Œä½†å°æŸäº›restAPIå¯èƒ½éœ€è¦é€™å€‹æ¬„ä½  headers: { \u0026#34;Content-Type\u0026#34;: \u0026#34;application/json\u0026#34;, }, } ); const data = await response.json(); console.log(data); // é€™é‚Šå…ˆä¸è™•ç†éŒ¯èª¤ å°ˆæ³¨æ–¼postç¨‹å¼ç¢¼  } let content = \u0026lt;p\u0026gt;Found no movies.\u0026lt;/p\u0026gt;; if (movies.length \u0026gt; 0) { content = \u0026lt;MoviesList movies={movies} /\u0026gt;; } if (error) { content = \u0026lt;p\u0026gt;{error}\u0026lt;/p\u0026gt;; } if (isLoading) { content = \u0026lt;p\u0026gt;Loading...\u0026lt;/p\u0026gt;; } return ( \u0026lt;React.Fragment\u0026gt; \u0026lt;section\u0026gt; \u0026lt;AddMovie onAddMovie={addMovieHandler} /\u0026gt; \u0026lt;/section\u0026gt; \u0026lt;section\u0026gt; \u0026lt;button onClick={fetchMoviesHandler}\u0026gt;Fetch Movies\u0026lt;/button\u0026gt; \u0026lt;/section\u0026gt; \u0026lt;section\u0026gt;{content}\u0026lt;/section\u0026gt; \u0026lt;/React.Fragment\u0026gt; ); } export default App;   ä¼ºæœå™¨å›å‚³ç‹€æ…‹ç¢¼ â€‹â€‹- ç€è¦½å™¨æœƒæ ¹æ“š HTTP Status code åˆ¤æ–·ç›®å‰è·Ÿä¼ºæœå™¨æºé€šç‹€æ…‹ç‚ºä½•\n 2xx æˆåŠŸ 3xx é‡æ–°å°å‘ 4xx å®¢æˆ¶ç«¯éŒ¯èª¤ 5xx ä¼ºæœå™¨éŒ¯èª¤ è©³ç´°å¯ä»¥çœ‹ POY å¤§æ•´ç†çš„HTTP ç‹€æ…‹ç¢¼ä¸€è¦½è¡¨  è£œå……ï¼šREST APIs vs GraphQL APIs ç›¸åŒè™•  å‚³è¼¸ json æ ¼å¼è³‡æ–™æˆ–å…¶ä»–æ ¼å¼è³‡æ–™ æ²’æœ‰é™åˆ¶å‰å¾Œç«¯çš„èªè¨€æˆ–æ¡†æ¶ éƒ½æ˜¯ç„¡ç‹€æ…‹  å·®ç•°  å¤šå€‹ Endpoint v.s. å–®å€‹ Endpoint å¤šå€‹æ–¹æ³• Get/Post/Patch/Put/Delete v.s. å–®å€‹æ–¹æ³• Post Post/user{name: \u0026lsquo;Max\u0026rsquo;} v.s. Post/graphql{query: \u0026lsquo;query\u0026rsquo;} (Http Verb/Path{Body}) (Http Verb/Path{Body}) è³‡æ–™ç¯„åœé™åˆ¶è¼ƒå°‘ v.s. å®¹æ˜“é™åˆ¶è³‡æ–™ç¯„åœ  ","date":"2022-02-07T00:00:00+08:00","image":"https://bacnotes.github.io/p/react-with-database/pexels-panumas-nikhomkhai-1148820_hu3d03a01dcc18bc5be0e67db3d8d209a6_2340096_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/react-with-database/","title":"React å¦‚ä½•èˆ‡é ç«¯è³‡æ–™åº«äº’å‹•ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"Class Component æ˜¯ä»€éº¼  16.8 ç‰ˆæœ¬ä»¥å‰è™•ç† State è·Ÿ Side Effect æœƒéœ€è¦ä½¿ç”¨ Class Componentï¼Œå¾Œä¾†æœ‰ Hook å°±å¯ä»¥åªå¯« Function Componentï¼ˆå¯«èµ·ä¾†ç›¸å°å–®ç´”) ä½¿ç”¨ JavaScript çš„ Classï¼Œå®šç¾©è¦ render çš„ JSXï¼ŒReact æœƒåœ¨é©ç•¶æ™‚æ©Ÿé»æ¸²æŸ“ å¯ä»¥è·Ÿ Function Component ä¸€èµ·ä½¿ç”¨ render æ–¹æ³•ä¸æœƒè®€å– propsï¼Œè€Œæ˜¯é€éå¼•å…¥ react çš„ Component æ‹¿åˆ° Props  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  // class component import { Component } from \u0026#34;react\u0026#34;; // ç¹¼æ‰¿Componentçš„æ–¹æ³•ï¼Œæ‹¿åˆ°æœ¬èº«å…ƒä»¶propså±¬æ€§çš„è³‡æ–™ class User extends Component { // ä½¿ç”¨this.propsæ‹¿åˆ°æ‰€æœ‰propsçš„è³‡æ–™  render() { return \u0026lt;li className={classes.user}\u0026gt;{this.props.name}\u0026lt;/li\u0026gt;; } } // function component // propsåšç‚ºåƒæ•¸å‚³å…¥ const User = (props) =\u0026gt; { return \u0026lt;li className={classes.user}\u0026gt;{props.name}\u0026lt;/li\u0026gt;; };   ä½¿ç”¨ class Component ç®¡ç†ç‹€æ…‹  ä¸€æ¨£éœ€è¦å®šç¾©ç‹€æ…‹è·Ÿåˆå§‹åŒ– state ä½¿ç”¨ constructor å®šç¾© this.stateï¼Œ= å¾Œé¢è¦æ˜¯ä¸€å€‹ç‰©ä»¶ functional component çš„ state å®šç¾©å‰‡æ˜¯ä»»æ„è³‡æ–™ï¼ŒuseState(null) ä¸€æ¨£ä¸èƒ½ç”¨ this.state. è®Šæ•¸ = å€¼ç›´æ¥ä¿®æ”¹è³‡æ–™ï¼Œå¿…é ˆç”¨ setState(ç‰©ä»¶) æ”¹å¯«ä¸€æ®µ Function Component Code  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75  import { Component } from \u0026#34;react\u0026#34;; import User from \u0026#34;./User\u0026#34;; const DUMMY_USERS = [ { id: \u0026#34;u1\u0026#34;, name: \u0026#34;Max\u0026#34; }, { id: \u0026#34;u2\u0026#34;, name: \u0026#34;Manuel\u0026#34; }, { id: \u0026#34;u3\u0026#34;, name: \u0026#34;Julie\u0026#34; }, ]; class Users extends Component { // super æ˜¯çˆ¶å±¤çš„å»ºæ§‹å‡½å¼ï¼Œç”¨ä¾†èª¿ç”¨çˆ¶å±¤  // å¿…é ˆå‡ºç¾åœ¨this é—œéµå­—ä¹‹å‰ä½¿ç”¨  constructor() { super(); this.state = { showUsers: true, more: \u0026#34;Test\u0026#34;, }; } // ä½¿ç”¨this.setStateæ›´æ–°ç‹€æ…‹ï¼Œæ²’æœ‰å¯«åˆ°stateå…¶ä»–çš„å±¬æ€§æ²’é—œä¿‚ï¼ŒåŒæ¨£ç‹€æ³åœ¨useStateå°±æœƒæœ‰å•é¡Œ  toggleUsersHandler() { // this.state.showUsers = false;  this.setState((curState) =\u0026gt; { // class Componentåªæœƒæ›´æ–°ä¸‹æ–¹æåˆ°çš„çš„å±¬æ€§ï¼ŒuseStateå‰‡æœƒå…¨éƒ¨å±¬æ€§éƒ½è¦†å¯«  return { showUsers: !curState.showUsers }; }); } render() { const usersList = ( \u0026lt;ul\u0026gt; {DUMMY_USERS.map((user) =\u0026gt; ( \u0026lt;User key={user.id} name={user.name} /\u0026gt; ))} \u0026lt;/ul\u0026gt; ); return ( \u0026lt;div className={classes.users}\u0026gt; \u0026lt;button onClick={this.toggleUsersHandler}\u0026gt; {this.state.showUsers ? \u0026#34;Hide\u0026#34; : \u0026#34;Show\u0026#34;} Users \u0026lt;/button\u0026gt; {this.state.showUsers \u0026amp;\u0026amp; usersList} \u0026lt;/div\u0026gt; ); } } // Function Component Code // const Users = () =\u0026gt; { // const [showUsers, setShowUsers] = useState(true);  // const toggleUsersHandler = () =\u0026gt; { // setShowUsers((curState) =\u0026gt; !curState); // };  // const usersList = ( // \u0026lt;ul\u0026gt; // {DUMMY_USERS.map((user) =\u0026gt; ( // \u0026lt;User key={user.id} name={user.name} /\u0026gt; // ))} // \u0026lt;/ul\u0026gt; // );  // return ( // \u0026lt;div className={classes.users}\u0026gt; // \u0026lt;button onClick={toggleUsersHandler}\u0026gt; // {showUsers ? \u0026#39;Hide\u0026#39; : \u0026#39;Show\u0026#39;} Users // \u0026lt;/button\u0026gt; // {showUsers \u0026amp;\u0026amp; usersList} // \u0026lt;/div\u0026gt; // ); // };  export default Users;   ä½¿ç”¨ class Component è™•ç† side Effect å…ˆäº†è§£ React é‡è¦çš„ç”Ÿå‘½é€±æœŸ componentDidMount()\n åœ¨ evaluate ä¸”æ¸²æŸ“å®Œå¾Œï¼Œåªæœƒåœ¨ mount å…ƒä»¶æ™‚å‘¼å«ä¸€æ¬¡ï¼Œæ›´æ–°è³‡æ–™ re-render ä¸æœƒï¼Œé¡ä¼¼ useEffect(()=\u0026gt;{}, [])  componentDidUpdate()\n ç•¶å…ƒä»¶æ›´æ–°ç‹€æ…‹æˆ– Props æœƒå‘¼å«ï¼Œé¡ä¼¼ useEffect(()=\u0026gt;{}, [åƒæ•¸])  componentWillUnmount()\n ç•¶å…ƒä»¶è¢«éŠ·æ¯€ï¼Œå¾çœŸå¯¦ DOM æ‹¿æ‰ï¼Œé¡ä¼¼ cleanup useEffect(()=\u0026gt;{}, [])  ä»¥ä¸€å€‹æœå°‹å…ƒä»¶ä¾†ç•¶ç¯„ä¾‹ï¼Œæœƒä¾ç…§ä¸åŒå­—è©å‡ºç¾ä¸åŒä½¿ç”¨è€…æ¸…å–®  ä¸€æ¨£éœ€è¦ import Componentï¼Œåˆå§‹åŒ– state æœ‰å…©å€‹ç‹€æ…‹éœ€è¦ç®¡ç†ï¼Œæœå°‹å­—è©è·Ÿä½¿ç”¨è€…æ¸…å–®  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78  import { Fragment, useState, useEffect, Component } from \u0026#34;react\u0026#34;; import Users from \u0026#34;./Users\u0026#34;; const DUMMY_USERS = [ { id: \u0026#34;u1\u0026#34;, name: \u0026#34;Max\u0026#34; }, { id: \u0026#34;u2\u0026#34;, name: \u0026#34;Manuel\u0026#34; }, { id: \u0026#34;u3\u0026#34;, name: \u0026#34;Julie\u0026#34; }, ]; class UserFinder extends Component { constructor() { super(); this.state = { filteredUsers: [], searchTerm: \u0026#34;\u0026#34;, }; } // åªæœƒåŸ·è¡Œä¸€æ¬¡  componentDidMount() { // Send http request...å‡æƒ³æ˜¯å¾è³‡æ–™åº«ç²å–DUMMY_USERS  this.setState({ filteredUsers: DUMMY_USERS }); } // æ›´æ–°ç‹€æ…‹  componentDidUpdate(prevProps, prevState) { // éœ€è¦åŠ ä¸Šåˆ¤æ–·æ˜¯å¦æœ‰è®Šé¡ä¼¼ä¹‹å‰çš„callback  // ä¸ç„¶ä¸€æ¨£å› ç‚ºè³‡æ–™æ›´æ–°ï¼Œé‡æ–°æ¸²æŸ“ï¼Œå†æ¬¡è§¸ç™¼è³‡æ–™æ›´æ–°æœƒé‡è¤‡å¾ªç’°  if (prevState.searchTerm !== this.state.searchTerm) { this.setState({ filteredUsers: DUMMY_USERS.filter((user) =\u0026gt; user.name.includes(this.state.searchTerm) ), }); } } // æœå°‹å­—è©  searchChangeHandler(event) { this.setState({ searchTerm: event.target.value }); } render() { return ( \u0026lt;Fragment\u0026gt; \u0026lt;div className={classes.finder}\u0026gt; // å…ƒä»¶ç¶å®šä¸Šé¢æ–¹æ³•  \u0026lt;input type=\u0026#39;search\u0026#39; onChange={this.searchChangeHandler.bind(this)} /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;Users users={this.state.filteredUsers} /\u0026gt; \u0026lt;/Fragment\u0026gt; ); } } // const UserFinder = () =\u0026gt; { // const [filteredUsers, setFilteredUsers] = useState(DUMMY_USERS); // const [searchTerm, setSearchTerm] = useState(\u0026#39;\u0026#39;);  // useEffect(() =\u0026gt; { // setFilteredUsers( // DUMMY_USERS.filter((user) =\u0026gt; user.name.includes(searchTerm)) // ); // }, [searchTerm]);  // const searchChangeHandler = (event) =\u0026gt; { // setSearchTerm(event.target.value); // };  // return ( // \u0026lt;Fragment\u0026gt; // \u0026lt;div className={classes.finder}\u0026gt; // \u0026lt;input type=\u0026#39;search\u0026#39; onChange={searchChangeHandler} /\u0026gt; // \u0026lt;/div\u0026gt; // \u0026lt;Users users={filteredUsers} /\u0026gt; // \u0026lt;/Fragment\u0026gt; // ); // };  export default UserFinder;    é»æŒ‰éˆ•éš±è— Userï¼Œå‘ˆç¾éŠ·æ¯€å…ƒä»¶çš„ç”Ÿå‘½é€±æœŸ console.log  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  import { Component } from \u0026#34;react\u0026#34;; class User extends Component { componentWillUnmount() { console.log(\u0026#34;User will unmount!\u0026#34;); } render() { return \u0026lt;li className={classes.user}\u0026gt;{this.props.name}\u0026lt;/li\u0026gt;; } } // const User = (props) =\u0026gt; { // return \u0026lt;li className={classes.user}\u0026gt;{props.name}\u0026lt;/li\u0026gt;; // };  export default User;   ä½¿ç”¨ class Component è™•ç† context  ä¸€æ¨£åœ¨ store å…ˆå»ºç«‹åˆå§‹å€¼ï¼Œç”¨ Provider åŒ…èµ·ä¾†ç›£è½  1 2 3 4 5 6 7 8  // src/store import React from \u0026#34;react\u0026#34;; const UsersContext = React.createContext({ users: [], }); export default UsersContext;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  // App.js import UserFinder from \u0026#34;./components/UserFinder\u0026#34;; import UsersContext from \u0026#34;./store/users-context\u0026#34;; const DUMMY_USERS = [ { id: \u0026#34;u1\u0026#34;, name: \u0026#34;Max\u0026#34; }, { id: \u0026#34;u2\u0026#34;, name: \u0026#34;Manuel\u0026#34; }, { id: \u0026#34;u3\u0026#34;, name: \u0026#34;Julie\u0026#34; }, ]; function App() { const usersContext = { users: DUMMY_USERS, }; return ( \u0026lt;UsersContext.Provider value={usersContext}\u0026gt; \u0026lt;UserFinder /\u0026gt; \u0026lt;/UsersContext.Provider\u0026gt; ); } export default App;    DUMMY_USER æ”¹å¾ store å–å¾—  useContext æ”¹æˆä½¿ç”¨ context consumer  é€™å€‹æ–¹æ³•åœ¨ Class Component è·Ÿ Function Component éƒ½å¯ä»¥ä½¿ç”¨  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  import { Fragment, useState, useEffect, Component } from \u0026#39;react\u0026#39;; import Users from \u0026#39;./Users\u0026#39;; import classes from \u0026#39;./UserFinder.module.css\u0026#39;; import UsersContext from \u0026#39;../store/users-context\u0026#39;; class UserFinder extends Component { static contextType = UsersContext; ... render() { return ( \u0026lt;Fragment\u0026gt; \u0026lt;UsersContext.Consuer\u0026gt; \u0026lt;div className={classes.finder}\u0026gt; \u0026lt;input type=\u0026#39;search\u0026#39; onChange={this.searchChangeHandler.bind(this)} /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;Users users={this.context.filteredUsers} /\u0026gt; \u0026lt;/UsersContext.Consuer\u0026gt; \u0026lt;/Fragment\u0026gt; ); } } export default UserFinder;    åœ¨ class Component ä¸€å€‹å…ƒä»¶åªèƒ½å°æ‡‰ä¸€å€‹ contextï¼Œä¸åŒæ–¼ useContext å¯ä»¥ä¸€å€‹å…ƒä»¶å°æ‡‰å¤šå€‹ä¸åŒ context ä½¿ç”¨ static å®šç¾©ä¸€å€‹éœæ…‹çš„æ–¹æ³• åŸæœ¬ this.state çš„è³‡æ–™æ”¹æˆ this.context  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74  import { Fragment, useState, useEffect, Component } from \u0026#34;react\u0026#34;; import Users from \u0026#34;./Users\u0026#34;; import classes from \u0026#34;./UserFinder.module.css\u0026#34;; import UsersContext from \u0026#34;../store/users-context\u0026#34;; class UserFinder extends Component { // å®šç¾©é€™å€‹å…ƒä»¶å¯ä»¥ç²å–UsersContext  static contextType = UsersContext; constructor() { super(); this.state = { filteredUsers: [], searchTerm: \u0026#34;\u0026#34;, }; } componentDidMount() { // Send http request...  this.setState({ filteredUsers: this.context.users }); } componentDidUpdate(prevProps, prevState) { if (prevState.searchTerm !== this.state.searchTerm) { this.setState({ filteredUsers: this.context.users.filter((user) =\u0026gt; user.name.includes(this.state.searchTerm) ), }); } } searchChangeHandler(event) { this.setState({ searchTerm: event.target.value }); } render() { return ( \u0026lt;Fragment\u0026gt; \u0026lt;div className={classes.finder}\u0026gt; \u0026lt;input type=\u0026#39;search\u0026#39; onChange={this.searchChangeHandler.bind(this)} /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;Users users={this.state.filteredUsers} /\u0026gt; \u0026lt;/Fragment\u0026gt; ); } } // const UserFinder = () =\u0026gt; { // const [filteredUsers, setFilteredUsers] = useState(DUMMY_USERS); // const [searchTerm, setSearchTerm] = useState(\u0026#39;\u0026#39;);  // useEffect(() =\u0026gt; { // setFilteredUsers( // DUMMY_USERS.filter((user) =\u0026gt; user.name.includes(searchTerm)) // ); // }, [searchTerm]);  // const searchChangeHandler = (event) =\u0026gt; { // setSearchTerm(event.target.value); // };  // return ( // \u0026lt;Fragment\u0026gt; // \u0026lt;div className={classes.finder}\u0026gt; // \u0026lt;input type=\u0026#39;search\u0026#39; onChange={searchChangeHandler} /\u0026gt; // \u0026lt;/div\u0026gt; // \u0026lt;Users users={filteredUsers} /\u0026gt; // \u0026lt;/Fragment\u0026gt; // ); // };  export default UserFinder;   ä»€éº¼æ˜¯éŒ¯èª¤é‚Šç•Œ Error Boundaries  éŒ¯èª¤é‚Šç•Œæ˜¯ä¸€å€‹ React componentï¼Œæ•æ‰äº†ä»»ä½•åœ¨å®ƒçš„ child component tree è£¡ç™¼ç”Ÿçš„ JavaScript çš„éŒ¯èª¤ï¼Œè¨˜éŒ„é‚£äº›éŒ¯èª¤ï¼Œç„¶å¾Œé¡¯ç¤ºåœ¨ä¸€å€‹ fallback çš„ä½¿ç”¨ä»‹é¢ï¼Œè€Œéè®“æ•´å€‹ component tree å´©å£ éŒ¯èª¤é‚Šç•Œæœƒåœ¨ render çš„æ™‚å€™ã€åœ¨ç”Ÿå‘½é€±æœŸå‡½å¼å…§ã€ä»¥åŠåº•ä¸‹ä¸€æ•´å€‹ component tree è£¡çš„ constructor å…§æ•æ‰éŒ¯èª¤ ç•¶å­å±¤ Component å‡ºç¾éŒ¯èª¤ï¼Œe.g. server æŠ“ä¸åˆ°è³‡æ–™ï¼Œç„¡æ³•è·Ÿ JavaScript ä¸€æ¨£ç›´æ¥ try catch æ•æ‰ é€™å€‹å…ƒä»¶ç„¡æ³•è¢«ä½¿ç”¨åœ¨ Function Component  å»ºç«‹ä¸€å€‹ Error Boundary  æ”¾åœ¨ src/components ä¸‹ é€é componentDidCatch æ–¹æ³•ï¼Œè®“é€™å€‹ Component æˆç‚ºä¸€å€‹ Error Boundary ç•¶å­å±¤ Component å‡ºç¾éŒ¯èª¤å°±æœƒè§¸ç™¼ componentDidCatchï¼Œé¿å…æ•´å€‹ APP crash  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  import { Component } from \u0026#34;react\u0026#34;; class ErrorBoundary extends Component { // å¯ä»¥ç”¨stateç®¡ç†error (option)  constructor() { super(); this.state = { hasError: false }; } // error  componentDidCatch(error) { console.log(error); // è¨­å®šéŒ¯èª¤ç‹€æ…‹  this.setState({ hasError: true }); } render() { // ç•¶ç‹€æ…‹å‡ºéŒ¯å°±å›å‚³ä¸€æ®µJSXï¼Œæç¤ºä½¿ç”¨è€…  if (this.state.hasError) { return \u0026lt;p\u0026gt;Something went wrong!\u0026lt;/p\u0026gt;; } // render è¢«åŒ…è£¹çš„å…ƒä»¶  return this.props.children; } } export default ErrorBoundary;   æŠŠé‚Šç•Œå»ºç«‹åœ¨å¯èƒ½å‡ºéŒ¯çš„å…ƒä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49  import { Fragment, useState, useEffect, Component } from \u0026#39;react\u0026#39;; import Users from \u0026#39;./Users\u0026#39;; import classes from \u0026#39;./UserFinder.module.css\u0026#39;; import UsersContext from \u0026#39;../store/users-context\u0026#39;; import ErrorBoundary from \u0026#39;./ErrorBoundary\u0026#39;; class UserFinder extends Component { static contextType = UsersContext; constructor() { super(); this.state = { filteredUsers: [], searchTerm: \u0026#39;\u0026#39;, }; } componentDidMount() { // Send http request...  this.setState({ filteredUsers: this.context.users }); } componentDidUpdate(prevProps, prevState) { if (prevState.searchTerm !== this.state.searchTerm) { this.setState({ filteredUsers: this.context.users.filter((user) =\u0026gt; user.name.includes(this.state.searchTerm) ), }); } } searchChangeHandler(event) { this.setState({ searchTerm: event.target.value }); } render() { return ( \u0026lt;Fragment\u0026gt; \u0026lt;div className={classes.finder}\u0026gt; \u0026lt;input type=\u0026#39;search\u0026#39; onChange={this.searchChangeHandler.bind(this)} /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;ErrorBoundary\u0026gt; \u0026lt;Users users={this.state.filteredUsers} /\u0026gt; \u0026lt;/ErrorBoundary\u0026gt; \u0026lt;/Fragment\u0026gt; ); }   ","date":"2022-02-06T00:00:00+08:00","image":"https://bacnotes.github.io/p/react-class-component/pexels-max-fischer-5212336_hu3d03a01dcc18bc5be0e67db3d8d209a6_3974315_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/react-class-component/","title":"é—œæ–¼React Class Componentï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"React æ˜¯æ€éº¼é‹ä½œçš„  React æ˜¯ä¸€å€‹æ‰“é€ ä½¿ç”¨è€…ä»‹é¢çš„ JavaScript å‡½å¼åº« React è² è²¬ç®¡ç†å…ƒä»¶è³‡æ–™ç‹€æ…‹(props, state, context)é€é Virtual DOM è©•ä¼°å“ªäº›å…ƒä»¶éœ€è¦è¢«æ›´æ–° React Dom æ˜¯æ“ä½œ Web çš„ä»‹é¢ï¼Œè·Ÿç€è¦½å™¨çš„ çœŸå¯¦ DOM äº’å‹• React Dom æ”¶åˆ° React çš„æ›´æ–°è³‡è¨Š(æ¯”è¼ƒå·®ç•°)ï¼Œæ“ä½œç€è¦½å™¨ DOM ä¾†æ”¹è®Šç•«é¢ æ¯”èµ·ç›´æ¥æ“ä½œçœŸå¯¦ DOMï¼Œå…ˆå¾ Virtual DOM è©•ä¼°å·®ç•°å†æ“ä½œçœŸå¯¦ DOM è£¡å¿…è¦ä¿®æ”¹çš„éƒ¨åˆ†ï¼Œè¼ƒä¸è€—è³‡æº  ç•¶ props, context, state æ›´æ–°æ™‚æœƒç™¼ç”Ÿä»€éº¼äº‹  props, context æ›´æ–°å…¶å¯¦èƒŒå¾Œéƒ½æ˜¯ä»£è¡¨ state æ›´æ–°ï¼Œè€Œ props è·Ÿ context åªæ˜¯å‚³è¼¸è³‡æ–™ç®¡é“ä¸åŒ React æœƒé‡æ–°è©•ä¼°(re-evaluate)ï¼Œå³åŸ·è¡Œå…ƒä»¶è£¡çš„å‡½å¼ï¼ˆåŒ…å«å­å±¤å…ƒä»¶)ï¼Œä¸¦æ›´æ–°è³‡è¨Šçµ¦ React DOM ä¸‹æ–¹ç¯„ä¾‹ï¼Œæ¯æ¬¡ props è®ŠåŒ–ï¼ˆtrue false)ï¼Œçˆ¶å­å…ƒä»¶éƒ½æœƒé‡æ–° re-evaluateï¼Œtrue æ™‚æ¸²æŸ“ This is newï¼Œfalse å‰‡æ²’æœ‰å…§å®¹  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34  // çˆ¶å±¤å…ƒä»¶ import React, { useState } from \u0026#39;react\u0026#39;; import Button from \u0026#39;./components/UI/Button/Button\u0026#39;; import DemoOutput from \u0026#39;./components/Demo/DemoOutput\u0026#39;; function App() { const [showParagraph, setShowParagraph] = useState(false); console.log(\u0026#39;APP RUNNING\u0026#39;); const toggleParagraphHandler = () =\u0026gt; { setShowParagraph((prevShowParagraph) =\u0026gt; !prevShowParagraph); }; return ( \u0026lt;div className=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;Hi there!\u0026lt;/h1\u0026gt; // propså‚³å…¥showParagraphçš„ç‹€æ…‹  \u0026lt;DemoOutput show={showParagraph} /\u0026gt; \u0026lt;Button onClick={toggleParagraphHandler}\u0026gt;Toggle Paragraph!\u0026lt;/Button\u0026gt; \u0026lt;/div\u0026gt; ); } export default App; // å­å±¤å…ƒä»¶ const DemoOutput = (props) =\u0026gt; { console.log(\u0026#39;DemoOutput RUNNING\u0026#39;); return \u0026lt;p\u0026gt;{props.show ? \u0026#39;This is new!\u0026#39; : \u0026#39;\u0026#39;}\u0026lt;/p\u0026gt;; }; export default DemoOutput;   çˆ¶å±¤é‡æ–°æ¸²æŸ“æ™‚ï¼Œå­å±¤ä¹Ÿæœƒé‡æ–°è©•ä¼°æ˜¯å¦æ¸²æŸ“  çˆ¶å±¤ç‹€æ…‹æœ‰è®Šä½†æ²’æœ‰å‚³å…¥å­å±¤ï¼Œçˆ¶å±¤æ¸²æŸ“æ™‚å­å±¤ä¹Ÿæœƒé‡æ–°è©•ä¼°ï¼Œå› ç‚ºå­å±¤å…ƒä»¶ä¹Ÿæ˜¯çˆ¶å±¤çš„ç¨‹å¼ç¢¼ä¸€éƒ¨åˆ†ï¼Œä½†å—å½±éŸ¿çš„å­å±¤ä¸ä¸€å®šæœƒé‡æ–°æ¸²æŸ“ ä¸‹æ–¹ç¯„ä¾‹åœ¨çœŸå¯¦ DOM æ²’æœ‰è®ŠåŒ–ï¼ˆä¹Ÿæ²’æœ‰ä»»ä½• flash)ï¼Œè¡¨ç¤ºæ²’æœ‰é‡æ–°æ¸²æŸ“ï¼Œä½†æœƒçœ‹åˆ° console.log æœ‰è·³å‡ºï¼Œè¡¨ç¤ºæœ‰é‡æ–°è©•ä¼°  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34  // çˆ¶å±¤å…ƒä»¶ import React, { useState } from \u0026#39;react\u0026#39;; import Button from \u0026#39;./components/UI/Button/Button\u0026#39;; import DemoOutput from \u0026#39;./components/Demo/DemoOutput\u0026#39;; function App() { const [showParagraph, setShowParagraph] = useState(false); console.log(\u0026#39;APP RUNNING\u0026#39;); const toggleParagraphHandler = () =\u0026gt; { setShowParagraph((prevShowParagraph) =\u0026gt; !prevShowParagraph); }; return ( \u0026lt;div className=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;Hi there!\u0026lt;/h1\u0026gt; // å›ºå®šå¯«falseï¼Œæ²’æœ‰å‚³å…¥ä»»ä½•æ›´æ–°  \u0026lt;DemoOutput show={false}} /\u0026gt; \u0026lt;Button onClick={toggleParagraphHandler}\u0026gt;Toggle Paragraph!\u0026lt;/Button\u0026gt; \u0026lt;/div\u0026gt; ) } export default App; // å­å±¤å…ƒä»¶ const DemoOutput = (props) =\u0026gt; { console.log(\u0026#39;DemoOutput RUNNING\u0026#39;); return \u0026lt;p\u0026gt;{props.show ? \u0026#39;This is new!\u0026#39; : \u0026#39;\u0026#39;}\u0026lt;/p\u0026gt;; }; export default DemoOutput;   React.memo å„ªåŒ– Functional Component æ•ˆèƒ½  åªæœ‰çˆ¶å±¤å‚³ä¸‹ä¾†çš„ props å€¼æœ‰æ”¹è®Šï¼Œæ‰æœƒé‡æ–°æ¸²æŸ“å­å±¤è·Ÿå­å±¤ä¸‹çš„å…ƒä»¶ ä¸‹æ–¹ç¯„ä¾‹è‹¥ props æ²’æ”¹è®Šï¼Œä¸æœƒé‡æ–°æ¸²æŸ“ DemoOutput è·Ÿ MyParagraph ä½¿ç”¨ React.memo ä¹Ÿæœƒè€—è²»æ•ˆèƒ½ï¼Œé©åˆä¸å¸¸æ›´æ–°çš„è¼ƒé«˜å±¤ç´šçˆ¶å±¤å…ƒä»¶ä½¿ç”¨  1 2 3 4 5 6 7 8 9 10  import React from \u0026#34;react\u0026#34;; import MyParagraph from \u0026#34;./MyParagraph\u0026#34;; const DemoOutput = (props) =\u0026gt; { console.log(\u0026#34;DemoOutput RUNNING\u0026#34;); return \u0026lt;MyParagraph\u0026gt;{props.show ? \u0026#34;This is new!\u0026#34; : \u0026#34;\u0026#34;}\u0026lt;/MyParagraph\u0026gt;; }; export default React.memo(DemoOutput);    Button ä¸é©åˆä½¿ç”¨ React.memoï¼Œé™¤äº†æ˜¯æ¯”è¼ƒä½éšå…ƒä»¶ä¹‹å¤– onClick æŒ‡å‘åŒä¸€å€‹ functionï¼Œé›–ç„¶å…§å®¹æ²’æœ‰è®Šæ›´ï¼Œä½†å‡½å¼æ˜¯ç‰©ä»¶ï¼Œæ‰€ä»¥æ¯æ¬¡ render éƒ½æœƒæ˜¯æ–°çš„åœ°å€ï¼Œæ¯æ¬¡éƒ½æœƒç•¶ä½œ props æœ‰æ›´æ–°å€¼ å¯ä»¥ç”¨ useCallback ä¾†è§£æ±ºé€™å€‹å•é¡Œ  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  import React, { useState } from \u0026#34;react\u0026#34;; import Button from \u0026#34;./components/UI/Button/Button\u0026#34;; import DemoOutput from \u0026#34;./components/Demo/DemoOutput\u0026#34;; function App() { const [showParagraph, setShowParagraph] = useState(false); console.log(\u0026#34;APP RUNNING\u0026#34;); const toggleParagraphHandler = () =\u0026gt; { setShowParagraph((prevShowParagraph) =\u0026gt; !prevShowParagraph); }; return ( \u0026lt;div className=\u0026#39;app\u0026#39;\u0026gt; \u0026lt;h1\u0026gt;Hi there!\u0026lt;/h1\u0026gt; \u0026lt;DemoOutput show={false} /\u0026gt; \u0026lt;Button onClick={toggleParagraphHandler}\u0026gt;Toggle Paragraph!\u0026lt;/Button\u0026gt; \u0026lt;/div\u0026gt; ); } export default App;   useCallback å„ªåŒ– Functional Component æ•ˆèƒ½  ç”¨ useCallback åŒ…è£¹å‡½å¼ï¼Œç¬¬äºŒå€‹åƒæ•¸ä¹Ÿæ˜¯ä¸€å€‹é™£åˆ— ç›¸ä¾[]ç©ºé™£åˆ—è¡¨ç¤ºæ°¸é ä¸æœƒæ”¹è®Šï¼Œåªæœƒè·‘ä¸€æ¬¡ï¼Œè‹¥è£¡é¢æœ‰è®Šæ•¸åšæ¢ä»¶åˆ¤æ–·è§¸ç™¼ï¼Œæœƒå› ç‚º closureï¼Œè®Šæ•¸ä¸æœƒæ›´æ–°  1 2 3  const memoizedCallback = useCallback(() =\u0026gt; { doSomething(a, b); }, [a, b]);    å›åˆ°å‰›å‰› button çš„ç¯„ä¾‹ï¼Œè¨˜ä½æŒ‰éˆ•è£¡é¢çš„onClickåƒæ•¸é¿å…å› ç‚ºå‡½å¼åœ°å€æ”¹è®Šé‡æ–°æ¸²æŸ“æŒ‰éˆ•  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  import React, { useState, useCallback } from \u0026#34;react\u0026#34;; import Button from \u0026#34;./components/UI/Button/Button\u0026#34;; import DemoOutput from \u0026#34;./components/Demo/DemoOutput\u0026#34;; function App() { const [showParagraph, setShowParagraph] = useState(false); console.log(\u0026#34;APP RUNNING\u0026#34;); const toggleParagraphHandler = useCallback(() =\u0026gt; { setShowParagraph((prevShowParagraph) =\u0026gt; !prevShowParagraph); }, []); return ( \u0026lt;div className=\u0026#39;app\u0026#39;\u0026gt; \u0026lt;h1\u0026gt;Hi there!\u0026lt;/h1\u0026gt; \u0026lt;DemoOutput show={false} /\u0026gt; \u0026lt;Button onClick={toggleParagraphHandler}\u0026gt;Toggle Paragraph!\u0026lt;/Button\u0026gt; \u0026lt;/div\u0026gt; ); } export default App;    è‹¥ toggle å¤–é¢æœ‰ä¸€å±¤åˆ¤æ–·ï¼Œç›¸ä¾åƒæ•¸éœ€è¦åŠ ä¸Š allowToggle è‹¥ç‚ºç©ºé™£åˆ—å‰‡å‡½å¼æœ¬èº«æ°¸é ä¸æœƒæ”¹è®Šè€Œç„¡æ³•è§¸ç™¼  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31  import React, { useState, useCallback } from \u0026#39;react\u0026#39;; import Button from \u0026#39;./components/UI/Button/Button\u0026#39;; import DemoOutput from \u0026#39;./components/Demo/DemoOutput\u0026#39;; function App() { const [showParagraph, setShowParagraph] = useState(false); console.log(\u0026#39;APP RUNNING\u0026#39;); const toggleParagraphHandler = useCallback(() =\u0026gt; { if(allowToggle){ setShowParagraph((prevShowParagraph) =\u0026gt; !prevShowParagraph); } }, [allowToggle]); const allowToggleHandler = () = { setAllowToggle(true) } return ( \u0026lt;div className=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;Hi there!\u0026lt;/h1\u0026gt; \u0026lt;DemoOutput show={false} /\u0026gt; \u0026lt;Button onClick={allowToggleHandler}\u0026gt;Allow Toggle\u0026lt;/Button\u0026gt; \u0026lt;Button onClick={toggleParagraphHandler}\u0026gt;Toggle Paragraph!\u0026lt;/Button\u0026gt; \u0026lt;/div\u0026gt; ); } export default App;   æ¯æ¬¡çš„ state update å…¶å¯¦æ˜¯éåŒæ­¥çš„æ’ç¨‹  ä¿è­‰é †åºä½†ä¸ä¿è­‰ç«‹å³åŸ·è¡Œ æœƒæœ‰ state batching ä¾†å„ªåŒ–æ¸²æŸ“æµç¨‹ï¼ŒåŒä¸€å€‹å‡½å¼å…§ç¨‹å¼åŸ·è¡Œå®Œå¾Œå†çµ±ä¸€æ›´æ–° state ï¼Œä¸¦åˆ¤æ–·å“ªäº›å…ƒä»¶éœ€è¦é‡æ–°æ¸²æŸ“  1 2 3 4 5 6 7 8  const someComponent = () =\u0026gt; { ... const navHandler = (navPath) =\u0026gt; { // æœƒæŠŠåŒä¸€å€‹å‡½å¼çš„çµ±åˆä¸€èµ·æ›´æ–°ï¼Œone schedule  setCurrentPath(navPath) setDrawerIsOpen(false) } }   1 2 3 4 5 6 7 8 9  const someComponent = () =\u0026gt; { const [value, setValue] = useState(0); // çµ±ä¸€æ›´æ–°ï¼Œå› ç‚ºbatchingæ‰€ä»¥æ›´æ–°å¾Œæœƒæ˜¯1  const eventHandler = () =\u0026gt; { setValue(value + 1); setValue(value + 1); setValue(value + 1); }; };   useMemo å„ªåŒ– Functional Component æ•ˆèƒ½  ä½¿ç”¨æ™‚æ©Ÿï¼šé‡åˆ°åƒæ•ˆèƒ½çš„é‹ç®—ä¾‹å¦‚ sortï¼Œæœƒå¸Œæœ›é¿å…ä¸å¿…è¦çš„é‡æ–°é‹ç®— useMemo åŒ…è£¹è€—èƒ½çš„é‹ç®—å‡½å¼ï¼ŒæŠŠé‹ç®—çµæœæ”¾åœ¨returnå¾Œ ç›¸ä¾åƒæ•¸æ”¾é™£åˆ—è£¡é¢ï¼Œå¯ä»¥ç”¨è§£æ§‹è³¦å€¼æŠŠè¦ç›¸ä¾çš„çµæœæ”¾å…¥[]  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  import React, { useMemo } from \u0026#39;react\u0026#39;; const DemoList = (props) =\u0026gt; { // åªå–å‡ºpropsè£¡é¢çš„itemsï¼Œä½†å› ç‚ºå‚³å…¥æ˜¯ç‰©ä»¶æ‰€ä»¥åœ°å€æœƒè®Š  const { items } = props; const sortedList = useMemo(() =\u0026gt; { console.log(\u0026#39;Items sorted\u0026#39;); return items.sort((a, b) =\u0026gt; a - b); }, [items]); console.log(\u0026#39;DemoList RUNNING\u0026#39;); return ( \u0026lt;div className={classes.list}\u0026gt; \u0026lt;h2\u0026gt;{props.title}\u0026lt;/h2\u0026gt; \u0026lt;ul\u0026gt; {sortedList.map((item) =\u0026gt; ( \u0026lt;li key={item}\u0026gt;{item}\u0026lt;/li\u0026gt; ))} \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; ); }; export default React.memo(DemoList);    éœ€è¦åœ¨App.jså‚³å…¥æ™‚å°±åšuseMemoå›ºå®šä½è¨˜æ†¶é«”åœ°å€æ‰æœ‰æ„ç¾©  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  function App() { const [listTitle, setListTitle] = useState(\u0026#39;My List\u0026#39;); const changeTitleHandler = useCallback(() =\u0026gt; { setListTitle(\u0026#39;New Title\u0026#39;); }, []); // useMemoè¨˜ä½åœ°å€ï¼Œå‚³ä¸‹å»çš„listItemsæ‰æœƒæ˜¯åŒä¸€å€‹ç‰©ä»¶  const listItems = useMemo(() =\u0026gt; [5, 3, 1, 10, 9], []); return ( \u0026lt;div className=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;DemoList title={listTitle} items={listItems} /\u0026gt; \u0026lt;Button onClick={changeTitleHandler}\u0026gt;Change List Title\u0026lt;/Button\u0026gt; \u0026lt;/div\u0026gt; ); } export default App;    ä¸æ˜¯æ¯å€‹éƒ½éœ€è¦åšuseMemoï¼Œå› ç‚ºä¹Ÿæœƒä½”æ“šè¨˜æ†¶é«”ï¼Œæ ¹æ“šç¶“é©—è·Ÿç‹€æ³åˆ¤æ–·æ˜¯å¦éœ€è¦ä½¿ç”¨  ","date":"2022-02-04T00:00:00+08:00","image":"https://bacnotes.github.io/p/react-behind-the-scene/pexels-eren-li-7188802_hu7e143e4af08149adffe8eb27c78594aa_1745854_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/react-behind-the-scene/","title":"React èƒŒå¾Œé‹ä½œåŸç†ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"ä»€éº¼æ˜¯ Hook?  Hook æ˜¯ JavaScript å‡½å¼ï¼Œreact æä¾›çš„å…§å»º Hook ç‚º use é–‹é ­çš„å‡½å¼(e.g. useEffectã€useReducerã€useContext) åªèƒ½ç”¨åœ¨ React çš„ Function Component è·Ÿ custom Hookï¼Œclass Component ç„¡æ³•ï¼Œç•¶ç„¶è‡ªå·±å¯«çš„ function ä¹Ÿç„¡æ³• ä½¿ç”¨æ™‚éœ€è¦å¯«åœ¨å…ƒä»¶å…§ç¬¬ä¸€å±¤ï¼Œä¸èƒ½å·¢ç‹€åˆ°ï¼Œä¹Ÿä¸è¦åœ¨è¿´åœˆã€æ¢ä»¶åˆ¤æ–·ä¸‹ä½¿ç”¨  ä»€éº¼æ˜¯ Effect(Side Effect)? React ä¸»è¦å·¥ä½œæ˜¯\n è©•ä¼°æ˜¯å¦æ¸²æŸ“å…ƒä»¶åœ¨ç•«é¢ä¸Š ç®¡ç†ç‹€æ…‹è·Ÿ props è¡¨å–®èˆ‡äº‹ä»¶è™•ç†(ä½¿ç”¨è€…äº’å‹•) æ ¹æ“šç‹€æ…‹å’Œ props çš„æ›´æ–°è©•ä¼°æ˜¯å¦é‡æ–°æ¸²æŸ“éƒ¨åˆ†ç•«é¢  Side Effect: é React çš„å·¥ä½œï¼Œè·Ÿæ¸²æŸ“ç•«é¢ç„¡ç›´æ¥ç›¸é—œï¼ŒåŒ…å«å„²å­˜è³‡æ–™ç™¼é€ http è«‹æ±‚è·Ÿè¨­å®š timerï¼Œé©—è­‰é‚è¼¯ï¼Œæ‰‹å‹•æ“ä½œ DOM éƒ½æ˜¯ Side Effect\nSide Effect å¯èƒ½é€ æˆçš„çµæœ\n éåŒæ­¥æ“ä½œå¯èƒ½æœƒé˜»å¡æ¸²æŸ“å·¥ä½œ è·Ÿä¼ºæœå™¨è«‹æ±‚è³‡æ–™å¯èƒ½æœƒé€ æˆç„¡é™å¾ªç’°ï¼šç™¼é€è«‹æ±‚-\u0026gt;è«‹æ±‚çµæœè¿”å›-\u0026gt;set æ–°ç‹€æ…‹-\u0026gt;ç‹€æ…‹æ”¹è®Š-\u0026gt;é‡æ–°æ¸²æŸ“å…ƒä»¶-\u0026gt;è§¸ç™¼ç™¼é€è«‹æ±‚\u0026hellip;  ä½¿ç”¨ useEffect ä¾†ç®¡ç† Effect(Side Effect)  useEffect(()=\u0026gt; {\u0026hellip;}, [dependencies]) ç”¨ä¾†é™åˆ¶å…ƒä»¶ re-render åŸ·è¡Œçš„ç¨‹å¼ç¢¼ è‹¥æ²’æœ‰ç›¸ä¾æŸå€‹åƒæ•¸ï¼Œæ›è¼‰å…ƒä»¶è·Ÿæ›´æ–°è³‡æ–™éƒ½æœƒåŸ·è¡Œï¼Œå¯«è·Ÿæ²’å¯«ä¸€æ¨£ è‹¥æœ‰ç›¸ä¾æŸå€‹åƒæ•¸ï¼Œre-render æ™‚åƒæ•¸æœ‰æ”¹è®Šçš„è©±å¯ä»¥é‡æ–°è§¸ç™¼ useEffect è£¡é¢çš„å‡½å¼ []ç›¸ä¾ç©ºé™£åˆ—ï¼Œç¬¬ä¸€æ¬¡æ¸²æŸ“å®Œæœƒè§¸ç™¼ï¼Œå› ç©ºé™£åˆ—è³‡æ–™ä¸è®Šï¼Œæ‰€ä»¥å¾ŒçºŒéƒ½ä¸æœƒè§¸ç™¼ [state]ç›¸ä¾ç‹€æ…‹ï¼Œç¬¬ä¸€æ¬¡æ¸²æŸ“å®Œæœƒè§¸ç™¼ï¼Œä¸”æ¯æ¬¡ç‹€æ…‹æ”¹è®Šéƒ½æœƒè·‘ä¸€æ¬¡ [props]ç›¸ä¾ propsï¼Œç¬¬ä¸€æ¬¡æ¸²æŸ“å®Œæœƒè§¸ç™¼ï¼Œprops æ›´æ–°éƒ½æœƒè·‘ä¸€æ¬¡ ç™¼ç”Ÿæ™‚é–“é»ç‚ºç•«é¢æ¸²æŸ“å®Œï¼Œæ§åˆ¶å¥½è§¸ç™¼æ™‚æ©Ÿé»ï¼Œé¿å…ä¸å¿…è¦çš„è§¸ç™¼ ç›¸ä¾ç©ºé™£åˆ—ç¯„ä¾‹  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  // æ¸²æŸ“ç™»å…¥é é¢æ™‚ï¼Œç¢ºèªlocalStorageç™»å…¥é©—è­‰è³‡è¨Šï¼ŒåªåŸ·è¡Œä¸€æ¬¡ function App() { const [isLoggedIn, setIsLoggedIn] = useState(false); // ç¬¬ä¸€æ¬¡æ¸²æŸ“å®Œæœƒè§¸ç™¼ï¼Œå¾ŒçºŒç‹€æ…‹/propsæ›´æ–°ä¸æœƒrun  useEffect(() =\u0026gt; { const storedUserLoggedInInformation = localStorage.getItem(\u0026#34;isLoggedIn\u0026#34;); if (storedUserLoggedInInformation === \u0026#34;1\u0026#34;) { setIsLoggedIn(true); } }, []); const loginHandler = (email, password) =\u0026gt; { // We should of course check email and password  // But it\u0026#39;s just a dummy/ demo anyways  localStorage.setItem(\u0026#34;isLoggedIn\u0026#34;, \u0026#34;1\u0026#34;); setIsLoggedIn(true); }; const logoutHandler = () =\u0026gt; { // ç™»å‡ºæ™‚ç§»é™¤ç™»å…¥é©—è­‰  localStorage.removeItem(\u0026#34;isLoggedIn\u0026#34;); setIsLoggedIn(false); }; // è‹¥æœ‰ç™»å…¥é©—è­‰è³‡è¨Š æ¸²æŸ“Homeé é¢ æ²’æœ‰å‰‡æ¸²æŸ“Loginé é¢  return ( \u0026lt;React.Fragment\u0026gt; \u0026lt;MainHeader isAuthenticated={isLoggedIn} onLogout={logoutHandler} /\u0026gt; \u0026lt;main\u0026gt; {!isLoggedIn \u0026amp;\u0026amp; \u0026lt;Login onLogin={loginHandler} /\u0026gt;} {isLoggedIn \u0026amp;\u0026amp; \u0026lt;Home onLogout={logoutHandler} /\u0026gt;} \u0026lt;/main\u0026gt; \u0026lt;/React.Fragment\u0026gt; ); }    ç›¸ä¾ enteredEmailã€enteredPassword è¡¨å–®ç‹€æ…‹  1 2 3 4 5 6 7 8 9 10 11 12 13 14  const Login = (props) =\u0026gt; { const [enteredEmail, setEnteredEmail] = useState(\u0026#39;\u0026#39;); const [emailIsValid, setEmailIsValid] = useState(); const [enteredPassword, setEnteredPassword] = useState(\u0026#39;\u0026#39;); const [passwordIsValid, setPasswordIsValid] = useState(); const [formIsValid, setFormIsValid] = useState(false); // ç¬¬ä¸€æ¬¡æœƒåŸ·è¡Œï¼Œå¾ŒçºŒè¡¨å–®ç‹€æ…‹æ›´æ–°ä¹ŸæœƒåŸ·è¡Œï¼ˆé©—è­‰ç¨‹å¼ç¢¼ï¼‰  useEffect(() =\u0026gt; { setFormIsValid( enteredEmail.includes(\u0026#39;@\u0026#39;) \u0026amp;\u0026amp; enteredPassword.trim().length \u0026gt; 6 ); }, [enteredEmail, enteredPassword]); ... }   ä¸éœ€åŠ å…¥ç›¸ä¾çš„åƒæ•¸  æ›´æ–°ç‹€æ…‹çš„å‡½å¼ setXXX å…ƒä»¶å¤–çš„è®Šæ•¸æˆ–å‡½å¼  æ‡‰è©²åŠ å…¥çš„ç›¸ä¾åƒæ•¸  \u0026ldquo;things\u0026rdquo; could change because your component (or some parent component) re-rendered  ç”¨ setTimeout å„ªåŒ–è§¸ç™¼æ™‚é–“é»ï¼Œæ­é… cleanup æ¸…é™¤åŠŸèƒ½  è‹¥ä¸è¦æ¯å€‹ key ä¸‹å»çš„å‹•ä½œéƒ½è§¸ç™¼é©—è­‰åŠŸèƒ½ï¼Œå¯ä»¥ç”¨ setTimeout ä¸€æ®µæ™‚é–“å†è§¸ç™¼ effect(éæœ€ä½³è§£ï¼Œå¾Œé¢é‚„æœ‰å…¶ä»–åšæ³•) useEffect è£¡é¢çš„ return å‡½å¼ï¼Œåªæœƒåœ¨ unmountï¼Œå…ƒä»¶è¦è¢«å¾ DOM å¸è¼‰æ™‚è§¸ç™¼  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  const Login = (props) =\u0026gt; { const [enteredEmail, setEnteredEmail] = useState(\u0026#39;\u0026#39;); const [emailIsValid, setEmailIsValid] = useState(); const [enteredPassword, setEnteredPassword] = useState(\u0026#39;\u0026#39;); const [passwordIsValid, setPasswordIsValid] = useState(); const [formIsValid, setFormIsValid] = useState(false); useEffect(() =\u0026gt; { const identifier = setTimeout(() =\u0026gt; { // ç¬¬ä¸€æ¬¡è§¸ç™¼ï¼Œå¾ŒçºŒper 0.5ç§’è§¸ç™¼  console.log(\u0026#39;Checking form validity!\u0026#39;); setFormIsValid( enteredEmail.includes(\u0026#39;@\u0026#39;) \u0026amp;\u0026amp; enteredPassword.trim().length \u0026gt; 6 ); }, 500); // returnå…§å®¹éœ€è¦æ˜¯ä¸€å€‹function  // ä¸‹æ–¹ç¨‹å¼ç¢¼ä¸æœƒåœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“è§¸ç™¼ï¼Œå…ƒä»¶æ›´æ–°æ‰æœƒè§¸ç™¼(when unmounts from the DOM, the component is reused)  return () =\u0026gt; { console.log(\u0026#39;CLEANUP\u0026#39;); //åœ¨æ–°çš„Timerè¨­ç½®å‰å…ˆæŠŠèˆŠçš„Timeråˆªé™¤  clearTimeout(identifier); }; }, [enteredEmail, enteredPassword]); const emailChangeHandler = (event) =\u0026gt; { setEnteredEmail(event.target.value); }; ... }   å®˜æ–¹èªªæ˜ä¸éœ€è¦æ­é… cleanup çš„ Effect  fetch dataã€æ‰‹å‹•æ“ä½œ DOMã€è¼¸å‡º log ç´€éŒ„ï¼ˆä¸ç”¨è¿½è¹¤å¾ŒçºŒï¼‰ get æ–¹æ³•è®“å€‹åˆ¥é é¢ç²å–ä¸åŒè³‡æ–™(æŠŠ dummyData æ›æˆå¯¦éš› server è³‡æ–™)  éœ€æ­é… cleanup çš„ Effect  è¨‚é–±ç›£è½äº‹ä»¶ï¼Œç›£è½äº‹ä»¶ é¿å… memory leak  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  import React, { useState, useEffect } from \u0026#34;react\u0026#34;; function FriendStatus(props) { const [isOnline, setIsOnline] = useState(null); useEffect(() =\u0026gt; { function handleStatusChange(status) { setIsOnline(status.isOnline); } ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange); // Specify how to clean up after this effect:  return function cleanup() { ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange); }; }); if (isOnline === null) { return \u0026#34;Loading...\u0026#34;; } return isOnline ? \u0026#34;Online\u0026#34; : \u0026#34;Offline\u0026#34;; }   useReducer ç®¡ç†è¤‡é›œç‹€æ…‹é‚è¼¯   ç•¶å¯« useState é–‹å§‹è¦ºå¾—ä¸å¥½ç®¡ç†ç‹€æ…‹ï¼Œæˆ–éœ€è¦è™•ç†è¤‡é›œé‚è¼¯çš„æ™‚å€™å¯ä»¥è€ƒæ…®ä½¿ç”¨ useReducer\n  const [state, dispatchFn] = useReducer(reducerFn, initState, initFn)\n  dispatchFn è§¸ç™¼ actionï¼Œaction è§¸ç™¼ reducerFn\n  reducer æœƒæ”¶åˆ°ä¸Šä¸€å€‹ç‹€æ…‹è·Ÿ action åƒæ•¸ï¼Œä¸¦ä¸”å›å‚³æ–°çš„ state\n  reducerFn (prevState, action) =\u0026gt; newState\n  initFn å¯ä»¥ç”¨ä¾†è¨­å®š initStateï¼Œå¦‚æœæ¯”è¼ƒè¤‡é›œçš„è©±ï¼Œéœ€è¦å¤–éƒ¨è³‡æ–™ç­‰ç­‰\n  ä½¿ç”¨ useReducer ç®¡ç† email è·Ÿ password input ç‹€æ…‹(effect ç›¸ä¾åƒæ•¸æ”¹æˆé©—è­‰ç‹€æ…‹ï¼Œæ¸›å°‘ä¸å¿…è¦è§¸ç™¼)\n  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102  // reducerFnå¯«åœ¨å…ƒä»¶å¤–é¢ï¼Œç›¸é—œåƒæ•¸æœƒé€édispatchå‚³å…¥ const emailReducer = (state, action) =\u0026gt; { // æ”¶åˆ°dispatchäº‹ä»¶åŒæ™‚æ›´æ–°inputå€¼è·ŸisValidç‹€æ…‹  if (action.type === \u0026#39;USER_INPUT\u0026#39;) { return { value: action.value, isValid: action.value.includes(\u0026#39;@\u0026#39;) }; } // é»å…¶ä»–InputæœƒBlur  if (action.type === \u0026#39;INPUT_BLUR\u0026#39;) { // é€™é‚ŠBluräº‹ä»¶ä¸æœƒå‚³éå€¼ï¼Œä½†éœ€è¦æœ‰ä¸€å€‹å€¼ç¶­æŒç‹€æ…‹  // state.valueå¯ä»¥æ‹¿åˆ°æœ€æ–°çš„state  return { value: state.value, isValid: state.value.includes(\u0026#39;@\u0026#39;) }; // includesé©—è­‰æœƒå›å‚³true false  } return { value: \u0026#39;\u0026#39;, isValid: false }; }; const passwordReducer = (state, action) =\u0026gt; { if (action.type === \u0026#39;USER_INPUT\u0026#39;) { return { value: action.value, isValid: action.value.trim().length \u0026gt; 6 }; } // é»å…¶ä»–InputæœƒBlur  if (action.type === \u0026#39;INPUT_BLUR\u0026#39;) { // é€™é‚ŠBluräº‹ä»¶ä¸æœƒå‚³éå€¼ï¼Œä½†éœ€è¦æœ‰ä¸€å€‹å€¼ç¶­æŒç‹€æ…‹  // state.valueå¯ä»¥æ‹¿åˆ°æœ€æ–°çš„state  return { value: state.value, isValid: state.value.trim().length \u0026gt; 6 }; // includesé©—è­‰æœƒå›å‚³true false  } return {value:\u0026#39;\u0026#39;, isValid: false} } const Login = (props) =\u0026gt; { // const [enteredEmail, setEnteredEmail] = useState(\u0026#39;\u0026#39;);  // const [emailIsValid, setEmailIsValid] = useState();  // const [enteredPassword, setEnteredPassword] = useState(\u0026#39;\u0026#39;);  // const [passwordIsValid, setPasswordIsValid] = useState();  const [formIsValid, setFormIsValid] = useState(false); const [emailState, dispatchEmail] = useReducer(emailReducer, { value: \u0026#39;\u0026#39;, isValid: null, }); // ä¸Šé¢æ˜¯initState  const [passwordState, dispatchPassword] = useReducer(passwordReducer, { value:\u0026#39;\u0026#39;, isValid: null }) useEffect(() =\u0026gt; { console.log(\u0026#39;EFFECT RUNNING\u0026#39;); return () =\u0026gt; { console.log(\u0026#39;EFFECT CLEANUP\u0026#39;); }; }, []); // è§£æ§‹è³¦å€¼ï¼Œæ”¹æ›å¦ä¸€å€‹è®Šæ•¸å  const { isValid: emailIsValid } = emailState; const { isValid: passwordIsValid } = passwordState; useEffect(() =\u0026gt; { const identifier = setTimeout(() =\u0026gt; { console.log(\u0026#39;Checking form validity!\u0026#39;); setFormIsValid(emailIsValid \u0026amp;\u0026amp; passwordIsValid); }, 500); return () =\u0026gt; { console.log(\u0026#39;CLEANUP\u0026#39;); clearTimeout(identifier); }; // æ”¹ç”±é©—è­‰æœ‰æ›´æ–°å†re-run effectä¾†å„ªåŒ–æ•ˆèƒ½  }, [emailIsValid, passwordIsValid]); const emailChangeHandler = (event) =\u0026gt; { // é€šå¸¸æ˜¯ä¸€å€‹ç‰©ä»¶ {type:\u0026#39;\u0026#39;, ä¹Ÿå¯ä»¥å¯«payloadè¦è·Ÿä¸Šé¢reducer actionå…§keyå€¼ä¸€æ¨£: å‚³éä¸‹å»çš„å€¼}  dispatchEmail({type: \u0026#39;USER_INPUT\u0026#39;, value: event.target.value}); setFormIsValid( event.target.value.includes(\u0026#39;@\u0026#39;) \u0026amp;\u0026amp; enteredPassword.trim().length \u0026gt; 6 ); }; const passwordChangeHandler = (event) =\u0026gt; { dispatchPassWord({type:\u0026#39;USER_INPUT\u0026#39;, value:event.target.value}) setFormIsValid( emailState.isValid \u0026amp;\u0026amp; event.target.value.trim().length \u0026gt; 6 ); }; const validateEmailHandler = () =\u0026gt; { dispatchEmail({type: \u0026#39;INPUT_BLUR\u0026#39;}); }; const validatePasswordHandler = () =\u0026gt; { dispatchPassword({type: \u0026#39;INPUT_BLUR\u0026#39;}); }; const submitHandler = (event) =\u0026gt; { event.preventDefault(); // stateå–å€¼ç”¨state.value  props.onLogin(emailState.value, passwordState.value); };    ä¸Šè¿°çš„è§£æ§‹è³¦å€¼å¾ˆå¸¸ç”¨åœ¨å–ç›¸ä¾åƒæ•¸ï¼Œä¹Ÿå¯ä»¥ç”¨å–å±¬æ€§çš„æ–¹å¼  1 2 3 4 5 6 7 8  const { someProperty } = someObject; useEffect(() =\u0026gt; { // code that only uses someProperty ... }, [someProperty]); useEffect(() =\u0026gt; { // code that only uses someProperty ... }, [someObject.someProperty]);    è¨˜å¾—é¿å…ç›´æ¥å¯«æ•´å€‹ç‰©ä»¶ï¼Œå› ç‚ºç‰©ä»¶å‚³å€¼ï¼Œå½¼æ­¤å°±ç®—é•·ä¸€æ¨£åœ°å€ä¹Ÿä¸æœƒç›¸åŒ  useContext ç®¡ç†å…¨åŸŸ State  å¥½è™•ï¼šä¸ç”¨é€éé•·é•·çš„ prop chain ç›´æ¥å‚³éè³‡æ–™ æµç¨‹ï¼šå…ˆé€é React.createContext å‰µé€ ä¸€å€‹è®Šæ•¸ï¼Œé€é AuthContext è¼¸å‡ºï¼Œå…¶ä»–å…ƒä»¶ç”¨ useContext å¼•ç”¨ç›¸å°æ‡‰çš„ context æª”æ¡ˆç²å–ç‰©ä»¶å€¼  1 2 3 4 5 6 7 8  // src/store import { createContext } from \u0026#34;react\u0026#34;; // å»ºç«‹ä¸€å€‹contextç‰©ä»¶ è£¡é¢æ”¾åˆå§‹å€¼ const AuthContext = createContext({ isLoggedIn: false, }); export default AuthContext;    \u0026lt;AuthContext.Provider\u0026gt;...\u0026lt;/AuthContext.Provider\u0026gt;é€é Provider å±¬æ€§å¯ä»¥ç²å– AuthContext è€ŒåŒ…è£¹åœ¨\u0026lt;AuthContext.Provider\u0026gt;ä¹‹é–“çš„å…ƒä»¶éƒ½å¯ä»¥ç²å–é€™å€‹ AuthContext  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  // App.js // import contextè®Šæ•¸ import AuthContext from \u0026#39;./store/auth-context\u0026#39;; function App() { const [isLoggedIn, setIsLoggedIn] = useState(false); ... return ( // å¦‚æœæœ‰é è¨­å€¼åŸºæœ¬ä¸Šä¸éœ€è¦å¯«valueï¼Œä½†è‹¥æœ‰æœƒè®Šå‹•çš„å€¼ï¼Œè¦é€évalueå‚³å…¥æ›´æ–°ç‹€æ…‹ï¼Œåªèƒ½é€éProviderä¾†åš  \u0026lt;AuthContext.Provider value={{ isLoggedIn: isLoggedIn, // contextç‰©ä»¶è£¡é¢çš„value ä¹Ÿå¯ä»¥æ”¾å‡½å¼  onLoggedOut: () =\u0026gt; {}, }} \u0026gt; \u0026lt;MainHeader onLogout={logoutHandler} /\u0026gt; \u0026lt;main\u0026gt; {!isLoggedIn \u0026amp;\u0026amp; \u0026lt;Login onLogin={loginHandler} /\u0026gt;} {isLoggedIn \u0026amp;\u0026amp; \u0026lt;Home onLogout={logoutHandler} /\u0026gt;} \u0026lt;/main\u0026gt; \u0026lt;/AuthContext.Provider\u0026gt; ); export default App;    åœ¨ Navbar ä¾†ç²å–è®Šæ•¸  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  import React, { useContext } from \u0026#34;react\u0026#34;; import AuthContext from \u0026#34;../../store/auth-context\u0026#34;; const Navigation = () =\u0026gt; { // ä½¿ç”¨useContext æŒ‡å‘ç‰¹å®šcontextç²å–value(ç‰©ä»¶)  const ctx = useContext(AuthContext); return ( \u0026lt;nav className={classes.nav}\u0026gt; \u0026lt;ul\u0026gt; {ctx.isLoggedIn \u0026amp;\u0026amp; ( \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#39;/\u0026#39;\u0026gt;Users\u0026lt;/a\u0026gt; \u0026lt;/li\u0026gt; )} {ctx.isLoggedIn \u0026amp;\u0026amp; ( \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#39;/\u0026#39;\u0026gt;Admin\u0026lt;/a\u0026gt; \u0026lt;/li\u0026gt; )} {ctx.isLoggedIn \u0026amp;\u0026amp; ( \u0026lt;li\u0026gt; \u0026lt;button onClick={ctx.onLogout}\u0026gt;Logout\u0026lt;/button\u0026gt; \u0026lt;/li\u0026gt; )} \u0026lt;/ul\u0026gt; \u0026lt;/nav\u0026gt; ); }; export default Navigation;    é‡æ§‹ï¼šæŠŠç™»å…¥ç™»å‡º Auth ç›¸é—œçš„å‡½å¼éƒ½æ”¾åœ¨ context ç®¡ç†  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43  import React, { useState, useEffect } from \u0026#34;react\u0026#34;; const AuthContext = React.createContext({ isLoggedIn: false, onLogout: () =\u0026gt; {}, onLogin: (email, password) =\u0026gt; {}, }); // æ–°å¢ export const AuthContextProvider = (props) =\u0026gt; { const [isLoggedIn, setIsLoggedIn] = useState(false); useEffect(() =\u0026gt; { const storedUserLoggedInInformation = localStorage.getItem(\u0026#34;isLoggedIn\u0026#34;); if (storedUserLoggedInInformation === \u0026#34;1\u0026#34;) { setIsLoggedIn(true); } }, []); const logoutHandler = () =\u0026gt; { localStorage.removeItem(\u0026#34;isLoggedIn\u0026#34;); setIsLoggedIn(false); }; const loginHandler = () =\u0026gt; { localStorage.setItem(\u0026#34;isLoggedIn\u0026#34;, \u0026#34;1\u0026#34;); setIsLoggedIn(true); }; return ( \u0026lt;AuthContext.Provider value={{ isLoggedIn: isLoggedIn, onLogout: logoutHandler, onLogin: loginHandler, }}\u0026gt; {props.children} \u0026lt;/AuthContext.Provider\u0026gt; ); }; export default AuthContext;    æŠŠ\u0026lt;AuthContextProvider\u0026gt;åŒ…è£¹å…¨åŸŸç›£è½æ”¾åˆ° index.js  1 2 3 4 5 6 7 8 9 10 11 12 13  import React from \u0026#34;react\u0026#34;; import ReactDOM from \u0026#34;react-dom\u0026#34;; import \u0026#34;./index.css\u0026#34;; import App from \u0026#34;./App\u0026#34;; import { AuthContextProvider } from \u0026#34;./store/auth-context\u0026#34;; ReactDOM.render( \u0026lt;AuthContextProvider\u0026gt; \u0026lt;App /\u0026gt; \u0026lt;/AuthContextProvider\u0026gt;, document.getElementById(\u0026#34;root\u0026#34;) );    App.js è·Ÿ Navbar åªè¦å¼•ç”¨ Context çš„è³‡æ–™  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  //App.js import AuthContext from \u0026#34;./store/auth-context\u0026#34;; function App() { const ctx = useContext(AuthContext); return ( \u0026lt;React.Fragment\u0026gt; \u0026lt;MainHeader /\u0026gt; \u0026lt;main\u0026gt; {!ctx.isLoggedIn \u0026amp;\u0026amp; \u0026lt;Login /\u0026gt;} {ctx.isLoggedIn \u0026amp;\u0026amp; \u0026lt;Home /\u0026gt;} \u0026lt;/main\u0026gt; \u0026lt;/React.Fragment\u0026gt; ); } export default App;   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  // Navbar import AuthContext from \u0026#34;../../store/auth-context\u0026#34;; const Navigation = () =\u0026gt; { const ctx = useContext(AuthContext); return ( \u0026lt;nav className={classes.nav}\u0026gt; \u0026lt;ul\u0026gt; {ctx.isLoggedIn \u0026amp;\u0026amp; ( \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#39;/\u0026#39;\u0026gt;Users\u0026lt;/a\u0026gt; \u0026lt;/li\u0026gt; )} {ctx.isLoggedIn \u0026amp;\u0026amp; ( \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#39;/\u0026#39;\u0026gt;Admin\u0026lt;/a\u0026gt; \u0026lt;/li\u0026gt; )} {ctx.isLoggedIn \u0026amp;\u0026amp; ( \u0026lt;li\u0026gt; \u0026lt;button onClick={ctx.onLogout}\u0026gt;Logout\u0026lt;/button\u0026gt; \u0026lt;/li\u0026gt; )} \u0026lt;/ul\u0026gt; \u0026lt;/nav\u0026gt; ); }; export default Navigation;   useContext çš„é™åˆ¶  ä¸é©åˆé »ç¹æ›´å‹•çš„è³‡æ–™ï¼ˆæ¯ç§’å¥½å¹¾æ¬¡)ï¼Œä½¿ç”¨ redux é„°è¿‘çˆ¶å­å…ƒä»¶é‚„æ˜¯å»ºè­°é€é props å‚³éè³‡æ–™ï¼Œè€Œéç”¨ useContext å–ä»£  å»¶ä¼¸é–±è®€ï¼šè‡ªå­¸ React çš„ä½ éœ€è¦çŸ¥é“çš„ä¸€äº›çŸ¥è­˜ï½œ React - The Complete Guide\n","date":"2022-02-03T00:00:00+08:00","image":"https://bacnotes.github.io/p/react-effect-reducer-context/pexels-rodolpho-zanardo-1309095_hu3d03a01dcc18bc5be0e67db3d8d209a6_4924053_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/react-effect-reducer-context/","title":"React å¿…é ˆäº†è§£çš„3å¤§Hooksï¼šuseEffectã€useReducerã€useContextï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"å…ƒä»¶è©²æ€éº¼æ·»åŠ  CSS æ¨£å¼? ä¸»è¦æ–¹æ³•æœ‰å››ç¨®ï¼š\n Inline style ç›´æ¥çµ¦ä»–å¯«ä¸Šå»(æœ€é›£ç¶­è­·) CSS(å…¨åŸŸå¥—ç”¨å®¹æ˜“æ’å) Styled Component(CSS in JS) CSS modules(CSS JS åˆ†é›¢)  inline style æ’°å¯«å‹•æ…‹æ¨£å¼  useState ä¾†æ›´æ–°æœ‰æ•ˆç„¡æ•ˆç‹€æ…‹ æ²’æ•ˆå¥—ç”¨ç´…è‰²ï¼Œæœ‰æ•ˆå¥—ç”¨é»‘è‰²  1 2 3 4 5 6 7 8 9 10 11 12 13 14  const Input = props =\u0026gt; { const [ enteredValue, setEnteredValue ] = useState(\u0026#39;\u0026#39;) const [ isValid, setIsValid ] = useState(true) const goalInputChangeHandler = event =\u0026gt; { setEnteredValue(event.target.value); }; if(enteredValue.trim().length === 0){ setIsValid(false) return } return( \u0026lt;input style ={{ borderColor: !isValid ? \u0026#39;red\u0026#39; : \u0026#39;Black\u0026#39;, background: !isValid ? \u0026#39;red\u0026#39; : \u0026#39;Black\u0026#39;}} onChange={goalInputChangeHandler}\u0026gt; ) }   ç‚ºä»€éº¼ä¸ç”¨ inline style æ’°å¯«å‹•æ…‹æ¨£å¼?  åˆ†æ•£åœ¨ html ç¨‹å¼çš„æ¨£å¼ä¸å¥½ç®¡ç† inline style æœƒè¦†è“‹æ‰å…¶ä»– CSS æ¨£å¼(æ¬Šé‡åƒ…æ¬¡!important)ï¼Œæ‰¾æ”¹å‹•é»æ›´è²»æ™‚  CSS æ’°å¯«å‹•æ…‹æ¨£å¼  æŠŠå‰›å‰›çš„æ¨£å¼è²¼åˆ° CSS file  1 2 3 4 5 6 7 8 9 10 11  .form-control { outline: none; background: pink; border-corlor: red; ...ç­‰ç­‰å…¶ä»–å›ºå®šçš„æ¨£å¼; } .invalid { border-color: red; background: red; }    æ‹¿æ‰ inline style ï¼Œå‹•æ…‹æ·»åŠ  className ä¸Šä¸€ç¯‡\u0026quot;æœ‰æåˆ° class æ˜¯ JavaScript çš„ä¿ç•™å­—ï¼Œæ‰€ä»¥ä¸ä½¿ç”¨ class  1 2  // å›ºå®šæ¨£å¼form-controlæ­é…å‹•æ…‹æ¨£å¼isValid  \u0026lt;input className={`form-control ${!isValid ? \u0026#39;invalid\u0026#39; : \u0026#39;\u0026#39; }`} onChange={goalInputChangeHandler}\u0026gt;   ç‚ºä»€éº¼ä¸ç”¨ CSS æ’°å¯«å‹•æ…‹æ¨£å¼  å› ç‚ºæ¨£å¼æœƒå¥—ç”¨åœ¨å…¨åŸŸç’°å¢ƒï¼Œå³ç”Ÿæ•ˆåœ¨æ‰€æœ‰å…ƒä»¶ä¸Šï¼Œè€Œå¤§å‹å°ˆæ¡ˆä¸Šåœ¨ className å‘½åçš„æ™‚å€™å¾ˆé›£é¿å…æ’åï¼Œæ¨£å¼å®¹æ˜“ç™¼ç”Ÿè¡çª ä½¿ç”¨ Styled Component å¥—ä»¶ä¾†å‰µé€  scoped CSS  Styled Component æ’°å¯«å‹•æ…‹æ¨£å¼ å®‰è£å¥—ä»¶è·Ÿæ’°å¯«æ–¹å¼  cd åˆ°å°ˆæ¡ˆè³‡æ–™å¤¾ npm install --save styled-components const Input = styled.html å…ƒç´ CSSæ¨£å¼ (attacked template literal) styled package æœ‰æ‰€æœ‰ html å…ƒç´ çš„æ–¹æ³•ï¼Œé€éåå¼•è™Ÿ``å¯ä»¥æ’°å¯«å¤šè¡Œ CSS æ¨£å¼ï¼ŒæŒ‡å®šåˆ°å°æ‡‰ html å…ƒç´ ç•¶ä¸­ å‹•æ…‹ç”¢ç”Ÿç¨ç‰¹ hash  1 2 3 4 5 6 7 8 9 10 11 12 13 14  import styled from \u0026#34;styled-components\u0026#34;; const Input = styled.input` font: inherit; padding: 0.5rem 1.5rem; // å½å…ƒç´ é¸æ“‡å™¨ \u0026amp;:focus { outline: none; } \u0026amp;:hover, \u0026amp;:active { background: #ac2342; } `;   ä½¿ç”¨ props å‹•æ…‹ç®¡ç†æ¨£å¼  å¯ä»¥æ‹¿æ‰ä¸€äº›ä¸å¿…è¦çš„ CSS æ¨£å¼(form-control.invalid input è¯é›†çš„é¸æ“‡å™¨)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40  import styled from \u0026#39;styled-components\u0026#39;; const FormControl = styled.div` margin: 0.5rem 0; \u0026amp;:label { font-weight: bold; display: block; margin-bottom: 0.5rem; color: ${props =\u0026gt; (props.invalid ? \u0026#39;red\u0026#39; : \u0026#39;black\u0026#39;)}; } \u0026amp;:input { display: block; width: 100%; border: 1px solid ${props =\u0026gt; (props.invalid ? \u0026#39;red\u0026#39; : \u0026#39;#ccc\u0026#39;)}; background: ${props =\u0026gt; (props.invalid ? \u0026#39;#ffd7d7\u0026#39; : \u0026#39;transparent\u0026#39;)}; font: inherit; line-height: 1.5rem; padding: 0 0.25rem; } \u0026amp;:input:focus { outline: none; background: #fad0ec; border-color: #8b005d; } `; ... return ( \u0026lt;form onSubmit={formSubmitHandler}\u0026gt; // åŸæœ¬CSS\u0026lt;div className={`form-control ${!isValid ? \u0026#39;invalid\u0026#39;:\u0026#39;\u0026#39;}`}\u0026gt;  // æ”¹æˆFormControlæ˜¯ä¸€å€‹å¸¶æœ‰æ¨£å¼çš„ div  // å‹•æ…‹classNameæ”¹æˆinvalidæˆ–validé€éprops å¸ƒæ—å€¼æ±ºå®š  \u0026lt;FormControl invalid={!isValid}\u0026gt; \u0026lt;label\u0026gt;Course Goal\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; onChange={goalInputChangeHandler} /\u0026gt; \u0026lt;/FormControl\u0026gt; \u0026lt;Button type=\u0026#34;submit\u0026#34;\u0026gt;Add Goal\u0026lt;/Button\u0026gt; \u0026lt;/form\u0026gt; );   style component ä½¿ç”¨ media queries 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  const Button = styled.button` // æ‰‹æ©Ÿç‰ˆå±•é–‹ width: 100%; font: inherit; padding: 0.5rem 1.5rem; border: 1px solid #8b005d; color: white; background: #8b005d; box-shadow: 0 0 4px rgba(0, 0, 0, 0.26); cursor: pointer; // å¹³æ¿è®Šå° @media (min-width: 768px) { width: auto; } \u0026amp;:focus { outline: none; } \u0026amp;:hover, \u0026amp;:active { background: #ac0e77; border-color: #ac0e77; box-shadow: 0 0 8px rgba(0, 0, 0, 0.26); } `;   style component çš„å„ªç¼ºé»  å„ªé»ï¼šä¸ç”¨æƒ³ className åå­—äº† ç¼ºé»ï¼šéš¨æ©Ÿçš„ hash ä¸å®¹æ˜“ debugï¼Œä½†é€éå®‰è£ babel-plugin-styled-components å¯ä»¥åœ¨ç€è¦½å™¨çœ‹åˆ°å…ƒä»¶åç¨± é©åˆå–œæ­¡ CSS è·Ÿ JS é‚è¼¯å¯«åœ¨ä¸€èµ·çš„äºº  CSS modules  ä¸ç”¨å®‰è£å¥—ä»¶ï¼ŒCRA æœ¬èº«æ”¯æ´ CSS modules æŠŠå‰¯æª”å.css æª”æ¡ˆæ”¹æˆ.module.cssï¼Œå¼•ç”¨è·¯å¾‘ä¹Ÿè¦æ”¹ className = {styles. æ¨£å¼é¸æ“‡å™¨å} ç€è¦½å™¨çœ‹åˆ° class åç‚ºï¼šå…ƒä»¶å_class å__hashï¼Œå› æ­¤ä¸æœƒæ’å class åè‹¥æœ‰æ©«ç·š-é€£æ¥ï¼Œå¯«æ³•éœ€è¦æ”¹æˆ${style['form-control']}  1 2 3 4 5 6 7 8 9 10 11 12  // importå¾Œé¢çš„è®Šæ•¸åè‡ªç”±å‘½åï¼Œæœƒç•¶ä½œç‰©ä»¶(æ•´åŒ…æ¨£å¼å±¬æ€§)å‚³å…¥ï¼Œé€™é‚Šä»¥stylesç‚ºç¯„ä¾‹ import styles from \u0026#34;./Button.module.css\u0026#34;; const Button = (props) =\u0026gt; { return ( // é€™é‚Š  \u0026lt;button type={props.type} className={styles.button} onClick={props.onClick}\u0026gt; {props.children} \u0026lt;/button\u0026gt; ); }; export default Button;   CSS modules ä½¿ç”¨ media queries  ä¸€æ¨£å¯«åœ¨ CSS æª”æ¡ˆå°±å¥½  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  .button { width: 100%; font: inherit; padding: 0.5rem 1.5rem; border: 1px solid #8b005d; color: white; background: #8b005d; box-shadow: 0 0 4px rgba(0, 0, 0, 0.26); cursor: pointer; } .button:focus { outline: none; } .button:hover, .button:active { background: #ac0e77; border-color: #ac0e77; box-shadow: 0 0 8px rgba(0, 0, 0, 0.26); } @media (min-width: 768px) { .button { width: auto; } }   CSS modules çš„å„ªç¼ºé»  å„ªé»ï¼šå‘½åæ™‚ä¸ç”¨æ“”å¿ƒæ’åï¼Œhash ç¶­æŒç¨ç‰¹æ€§ ç¼ºé»ï¼šéœ€è¦æ”¹å‰¯æª”åï¼Œä¸€é–‹å§‹æ²’å°å…¥å¾Œé¢æ‰‹å‹•è¦æ”¹æ¯”è¼ƒç´¯ä¸€é» é©åˆå–œæ­¡ CSS è·Ÿ JS åˆ†é›¢çš„äºº  ","date":"2022-02-02T00:00:00+08:00","image":"https://bacnotes.github.io/p/react-styling/pexels-vlada-karpovich-7025515_hu3d03a01dcc18bc5be0e67db3d8d209a6_3812665_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/react-styling/","title":"Reactçš„CSSæ¨£å¼ç®¡ç†æ–¹æ³•ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"é€™æ˜¯ä¸€å€‹æ‡¶äººåŒ…æ•´ç†ï½ï¼ç¥å¤§å®¶æ–°å¹´å¿«æ¨‚ï¼\nå­—ä¸²å¯ä»¥ä½¿ç”¨éƒ¨åˆ†é™£åˆ—çš„æ–¹æ³• æ ¹æ“šç´¢å¼•å–å€¼ 1 2 3 4 5  const airline = \u0026#34;TAP Air Portugal\u0026#34;; const plane = \u0026#34;A320\u0026#34;; console.log(plane[0]); // A console.log(\u0026#34;B35\u0026#34;[0]); // B console.log(plane.length); // 4   indexOf()ã€lastIndexOf() æ‰¾ç´¢å¼•ä½ç½®  indexOf(searchElement, fromIndex) ç”±å‰å¾€å¾Œæ‰¾å€¼çš„ç´¢å¼•ï¼Œç¬¬ 2 å€‹åƒæ•¸æ˜¯ option lastIndexOf(searchElement, fromIndex) ç”±å¾Œå¾€å‰æ‰¾å€¼çš„ç´¢å¼•ï¼Œç¬¬ 2 å€‹åƒæ•¸æ˜¯ option è‹¥ä¸å­˜åœ¨å‰‡å›å‚³ -1  1 2 3 4  const airline = \u0026#34;TAP Air Portugal\u0026#34;; const plane = \u0026#34;A320\u0026#34;; console.log(airline.indexOf(\u0026#34;r\u0026#34;)); // 6 console.log(airline.lastIndexOf(\u0026#34;r\u0026#34;)); // 10 å¾Œå¾€å‰æ‰¾    æœƒåˆ¤åˆ¥å­—æ¯å¤§å°å¯«(case-sensitive)  1 2  console.log(airline.indexOf(\u0026#34;portugal\u0026#34;)); // -1 console.log(airline.indexOf(\u0026#34;Portugal\u0026#34;)); // 8    æ·ºæ‹·è² slice(start, end)ï¼Œé è¨­ slice(0, arr.length)ï¼Œå›å‚³é¸å–ç¯„åœä¹‹é™£åˆ— è‹¥æœ‰æŒ‡å®š endï¼Œæ‰€åœ¨çš„å…ƒç´ ä¸æœƒè¢«ç´å…¥ ç„¡æ³•ä½¿ç”¨ splice å› ç‚ºå­—ä¸²æ˜¯ immutable  1  console.log(airline.slice(4)); // Air Portugal    åˆ‡å‡ºç¬¬ä¸€å€‹å­—(ä¸åŒ…å«ç©ºç™½)  1  console.log(airline.slice(0, airline.indexOf(\u0026#34; \u0026#34;))); // TAP    å¯«ä¸€å€‹åˆ¤æ–·å­—ä¸²å°¾ç«¯æœ‰ç„¡ B æˆ– E çš„ functionï¼Œä¾†åˆ¤æ®µæ©Ÿä½ä½ç½® e.g. 11B 23C  1 2 3 4 5 6 7  const checkMiddleSeat = function (seat) { const position = seat.slice(-1); if (position === \u0026#34;B\u0026#34; || position === \u0026#34;E\u0026#34;) console.log(\u0026#34;middle seat\u0026#34;); else console.log(\u0026#34;not middle seat\u0026#34;); }; checkMiddleSeat(\u0026#34;11B\u0026#34;); // middle seat checkMiddleSeat(\u0026#34;11C\u0026#34;); // not middle seat   toUpperCase()ã€toLowerCase()è½‰å¤§å°å¯« 1 2 3 4 5 6 7 8 9 10  const airline = \u0026#34;TAP Air Portugal\u0026#34;; console.log(airline.toLowerCase()); // tap air portugal console.log(airline.toUpperCase()); // TAP AIR PORTUGAL  // æŠŠå¤§å°å¯«æ··äº‚çš„å­—è½‰é–‹é ­å¤§å¯«ï¼Œå¾Œé¢å°å¯« const name = \u0026#34;jOnAs\u0026#34;; const nameLower = name.toLowerCase(); const nameCorrect = nameLower[0].toUpperCase() + nameLower.slice(1); console.log(nameCorrect); // Jonas   trim()ã€trimStart()ã€trimEnd() ç§»é™¤æ³›ç©ºç™½å­—å…ƒ(å¾Œå…©å€‹ IE æ²’æœ‰æ”¯æ´)  trim() åˆªé™¤å…©ç«¯æ‰€æœ‰ç©ºç™½ trimStart() å°‡åˆªé™¤å­—ä¸²é–‹é ­çš„æ‰€æœ‰ç©ºç™½ trimEnd() å°‡åˆªé™¤å­—ä¸²æœ«å°¾çš„æ‰€æœ‰ç©ºç™½  1 2 3 4 5 6  // emailè¼¸å…¥å‰ªæ‰ç©ºç™½è·Ÿè½‰æ›æˆå°å¯« const email = \u0026#34;hello@jonas.io\u0026#34;; // æ­£ç¢ºemailè³‡æ–™ const loginEmail = \u0026#34; Hello@jonas.Io\\n\u0026#34;; // è¼¸å…¥æ™‚å¤§å°å¯«æ··ç”¨+ç©ºç™½+enter  const normalizedEmail = loginEmail.toLowerCase().trim(); console.log(normalizedEmail); // hello@jonas.io   replace()ã€replaceAll() å­—ä¸²å–ä»£ï¼Œæœƒå›å‚³ä¸€å€‹æ–°å­—ä¸²(å¾Œè€… IE æ²’æœ‰æ”¯æ´)  replace(regexp|substr, newSubstr|function)ç¬¬äºŒå€‹åƒæ•¸æœƒå–ä»£ç¬¬ä¸€å€‹åƒæ•¸  1 2 3  const priceGB = \u0026#34;288,97Â£\u0026#34;; const priceUS = priceGB.replace(\u0026#34;Â£\u0026#34;, \u0026#34;$\u0026#34;).replace(\u0026#34;,\u0026#34;, \u0026#34;.\u0026#34;); console.log(priceUS); // 288.97$    ç•¶è¼¸å…¥å°è±¡æ˜¯å­—ä¸²ï¼Œreplace åªæœƒå–ä»£ç¬¬ä¸€å€‹åŒ¹é…çš„ï¼ŒreplaceAll æœƒå–ä»£æ‰€æœ‰åŒ¹é…çš„  1 2 3  const p = \u0026#34;abab\u0026#34;; console.log(p.replace(\u0026#34;a\u0026#34;, \u0026#34;A\u0026#34;)); // \u0026#34;Abab\u0026#34; console.log(p.replaceAll(\u0026#34;a\u0026#34;, \u0026#34;A\u0026#34;)); // \u0026#34;AbAb\u0026#34;    ç•¶ç¬¬ä¸€å€‹åƒæ•¸ç‚ºæ˜¯æ­£å‰‡è¡¨é”å¼ï¼Œå…©è€…éƒ½æœƒå–ä»£æ‰€æœ‰åŒ¹é…çš„  1 2 3  const p = \u0026#34;abab\u0026#34;; console.log(p.replace(/a/g, \u0026#34;A\u0026#34;)); // \u0026#34;AbAb\u0026#34; console.log(p.replaceAll(/a/g, \u0026#34;A\u0026#34;)); // \u0026#34;AbAb\u0026#34;   includes() æª¢æŸ¥æ˜¯å¦åŒ…å«ç‰¹å®šå­—ä¸²ï¼Œå›å‚³ true false  arr.includes(valueToFind, fromIndex)ï¼Œç¬¬ 2 å€‹åƒæ•¸ option å€åˆ†å¤§å°å¯«ï¼Œä½¿ç”¨é›¶å€¼ç›¸ç­‰ç¢ºèªå…ƒç´ æ˜¯å¦ä¸€æ¨£ è‹¥ fromIndex å¤§æ–¼é™£åˆ—é•·åº¦ï¼Œç›´æ¥å›å‚³ false è‹¥ fromIndex å°æ–¼ 0ï¼Œæœƒæœå°‹æ•´å€‹é™£åˆ—  1 2 3 4  const plane = \u0026#34;Airbus A320neo\u0026#34;; console.log(plane.includes(\u0026#34;A320\u0026#34;)); // true console.log(plane.includes(\u0026#34;Boeing\u0026#34;)); //false console.log(plane.startsWith(\u0026#34;Airb\u0026#34;)); // true    å¯«ä¸€å€‹æª¢æŸ¥å­—ä¸²æ˜¯å¦æœ‰åˆ€æ§å­—ä¸²çš„ function  1 2 3 4 5 6 7 8 9 10 11 12  const checkBaggage = function (items) { const baggage = items.toLowerCase(); // è¼¸å…¥çµ±ä¸€è½‰å°å¯«ï¼Œæ¯”è¼ƒå¥½è™•ç†æª¢æŸ¥  if (baggage.includes(\u0026#34;knife\u0026#34;) || baggage.includes(\u0026#34;gun\u0026#34;)) { console.log(\u0026#34;You are NOT allowed on board\u0026#34;); } else { console.log(\u0026#34;Welcome aboard!\u0026#34;); } }; checkBaggage(\u0026#34;I have a laptop, some Food and a pocket Knife\u0026#34;); // You are NOT allowed on board checkBaggage(\u0026#34;Socks and camera\u0026#34;); // Welcome aboard!   split() ä½¿ç”¨æŒ‡å®šå­—ä¸²åˆ‡å‰²å­—ä¸²ï¼Œåˆ‡å‰²çš„çµæœå›å‚³æˆä¸€å€‹é™£åˆ—  split(separator, limit)ï¼Œç¬¬ 2 å€‹åƒæ•¸æ˜¯ option  1 2 3 4 5 6 7 8  console.log(\u0026#34;string\u0026#34;.split(\u0026#34;\u0026#34;)); // [ \u0026#39;s\u0026#39;, \u0026#39;t\u0026#39;, \u0026#39;r\u0026#39;, \u0026#39;i\u0026#39;, \u0026#39;n\u0026#39;, \u0026#39;g\u0026#39; ] æ²’æœ‰å¯«æ¢ä»¶ï¼Œæœƒä»¥å­—å…ƒç‚ºå–®ä½åˆ‡ console.log(\u0026#34;a+very+nice+string\u0026#34;.split(\u0026#34;+\u0026#34;)); // ä»¥+åˆ‡å‰² // [ \u0026#39;a\u0026#39;, \u0026#39;very\u0026#39;, \u0026#39;nice\u0026#39;, \u0026#39;string\u0026#39; ] console.log(\u0026#34;Jonas Schmedtmann\u0026#34;.split(\u0026#34; \u0026#34;)); // ä»¥ç©ºç™½åˆ‡å‰² // [ \u0026#39;Jonas\u0026#39;, \u0026#39;Schmedtmann\u0026#39; ] const [firstName, lastName] = \u0026#34;Jonas Schmedtmann\u0026#34;.split(\u0026#34; \u0026#34;); // åˆ‡å‰²å¾Œè§£æ§‹è³¦å€¼   join() ä½¿ç”¨æŒ‡å®šå­—ä¸²å°‡é™£åˆ—å…ƒç´ åˆä½µç‚ºä¸€å€‹å­—ä¸²  join([separator]) join() // a, b, c join(\u0026rsquo;\u0026rsquo;) // abc join(\u0026rsquo;-\u0026rsquo;) // a-b-c è‹¥é™£åˆ—åªæœ‰ä¸€å€‹å°±ä¸ä½¿ç”¨ join ä¸­çš„å­—ä¸² åœ¨é™£åˆ—é•·åº¦ç‚ºé›¶ã€å…ƒç´ ç‚º undefined æˆ– null ç‹€æ³ä¸‹ï¼Œå›å‚³ç©ºå­—ä¸²  1 2  const newName = [\u0026#34;Mr.\u0026#34;, firstName, lastName.toUpperCase()].join(\u0026#34; \u0026#34;); console.log(newName);    ä½¿ç”¨ split()è·Ÿ join()æŠŠåå­—æ•´ç†æˆåªæœ‰ç¬¬ä¸€å€‹å¤§å¯«é–‹é ­  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  // æ–¹æ³•ä¸€ const capitalizeName = function (name) { const names = name.split(\u0026#34; \u0026#34;); const nameUpper = []; for (const char of names) { nameUpper.push(char[0].toUpperCase() + char.slice(1)); } console.log(nameUpper.join(\u0026#34; \u0026#34;)); }; capitalizeName(\u0026#34;jessica ann smith davis\u0026#34;); // Jessica Ann Smith Davis  // æ–¹æ³•äºŒ æ”¹ç”¨replace const capitalizeName = function (name) { const names = name.split(\u0026#34; \u0026#34;); const nameUpper = []; for (const char of names) { nameUpper.push(char.replace(char[0], char[0].toUpperCase())); } console.log(nameUpper.join(\u0026#34; \u0026#34;)); // Jessica Ann Smith Davis };   ï¼Šå­—ä¸²æ‹¼æ¥é‚„æœ‰ä¸€ç¨® concat æ–¹æ³•ï¼Œä½† MDN å¼·çƒˆå»ºè­°ç›´æ¥ä½¿ç”¨é‹ç®—å­ assignment operators (en-US) ä¾†é”æˆï¼Œ åƒæ˜¯ + åŠ += è‹¥æƒ³äº†è§£ concat æ–¹æ³•ï¼Œå¯ä»¥åƒè€ƒé™£åˆ—çš„è™•ç†æ–¹æ³•\npadStart()ã€padEnd()å¡«å……å­—ä¸² (IE æ²’æœ‰æ”¯æ´)  padStart(targetLength, padString)ï¼Œå¾é–‹é ­å¡«å……å­—ä¸²åˆ°æŒ‡å®šé•·åº¦ padEnd(targetLength, padString)ï¼Œå¾çµå°¾å¡«å……å­—ä¸²åˆ°æŒ‡å®šé•·åº¦ ç¬¬ 2 å€‹åƒæ•¸æ²’å¯«æœƒå¡«å……ç©ºç™½  1 2 3  const message = \u0026#34;Go to gate 23!\u0026#34;; console.log(message.padStart(20, \u0026#34;+\u0026#34;).padEnd(26, \u0026#34;+\u0026#34;)); //++++++Go to gate 23!++++++    ä¿¡ç”¨å¡åŠ å¯†  1 2 3 4 5 6 7  const maskCreditCard = function (number) { const str = number + \u0026#34;\u0026#34;; const last = str.slice(-4); return last.padStart(str.length, \u0026#34;*\u0026#34;); }; console.log(maskCreditCard(\u0026#34;334859493847755774747\u0026#34;)); // *****************4747   repeat() å›å‚³æŒ‡å®šæ•¸é‡ copy å­—ä¸²  repeat(count)  1 2 3 4 5  const planesInLine = function (num) { console.log(`There are ${num}planes in line ${\u0026#34;ğŸ›©\u0026#34;.repeat(num)}`); }; planesInLine(5); // There are 5 planes in line ğŸ›©ğŸ›©ğŸ›©ğŸ›©ğŸ›©   search()  å›å‚³æ­£è¦è¡¨é”å¼çš„ç¬¬ä¸€å€‹åŒ¹é…çš„ indexï¼Œè‹¥æ‰¾ä¸åˆ°ï¼Œå›å‚³ -1ã€‚  1 2 3 4 5 6 7 8 9 10 11  const paragraph = \u0026#34;The quick brown fox jumps over the lazy dog. If the dog barked, was it really lazy?\u0026#34;; // any character that is not a word character or whitespace const regex = /[^\\w\\s]/g; console.log(paragraph.search(regex)); // expected output: 43  console.log(paragraph[paragraph.search(regex)]); // expected output: \u0026#34;.\u0026#34;   match()  å›å‚³ä¸€å€‹å­—ä¸²åŒ¹é…æ­£è¦è¡¨é”å¼çš„ç»“æœ ä½¿ç”¨ g å…¨å±€æ¯”å°ï¼Œå›å‚³æ‰€æœ‰çµæœåœ¨ä¸€å€‹é™£åˆ— æ²’æœ‰ä½¿ç”¨ gï¼Œå›å‚³ç¬¬ä¸€å€‹åŒ¹é…çš„çµæœï¼ŒåŒ¹é…çš„èµ·å§‹é»ï¼Œè¼¸å…¥å­—ä¸²æœ¬èº«ï¼Œæ•ç²é™£åˆ—æˆ– undefined  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  const paragraph = \u0026#34;The quick brown fox jumps over the lazy dog. It barked.\u0026#34;; const regex = /[A-Z]/g; const regexNotGlobal = /[A-Z]/; const found = paragraph.match(regex); const foundNotGlobal = paragraph.match(regexNotGlobal); console.log(found); // expected output: Array [\u0026#34;T\u0026#34;, \u0026#34;I\u0026#34;]  console.log(foundNotGlobal); // [ // \u0026#39;T\u0026#39;, // index: 0, // input: \u0026#39;The quick brown fox jumps over the lazy dog. It barked.\u0026#39;, // groups: undefined // ]   ç¶œåˆç·´ç¿’ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52  // Q1 //TEST DATA (pasted to textarea) //underscore_case // first_name //Some_Variable // calculate_AGE //delayed_departure  //SHOULD PRODUCE THIS OUTPUT (5 separate console.log outputs) //underscoreCase âœ… //firstName âœ…âœ… //someVariable âœ…âœ…âœ… //calculateAge âœ…âœ…âœ…âœ… //delayedDeparture âœ…âœ…âœ…âœ…âœ…  document.body.append(document.createElement(\u0026#34;textarea\u0026#34;)); document.body.append(document.createElement(\u0026#34;button\u0026#34;)); const text = document.querySelector(\u0026#34;textarea\u0026#34;).value; document.querySelector(\u0026#34;button\u0026#34;).addEventListener(\u0026#34;click\u0026#34;, function () { const text = document.querySelector(\u0026#34;textarea\u0026#34;).value; const rows = text.split(\u0026#34;\\n\u0026#34;); for (const [i, row] of rows.entries()) { const [first, second] = row.toLowerCase().trim().split(\u0026#34;_\u0026#34;); const output = `${first}${second.replace( second[0], second[0].toUpperCase() )}`.padEnd(20); const check = \u0026#34;âœ…\u0026#34;.repeat(i + 1); console.log(output + check); } }); // Q2 // const flights = \u0026#39;_Delayed_Departure;fao93766109;txl2133758440;11:25+_Arrival;bru0943384722;fao93766109;11:45+_Delayed_Arrival;hel7439299980;fao93766109;12:05+_Departure;fao93766109;lis2323639855;12:30\u0026#39;;  // ğŸ”´ Delayed Departure from FAO to TXL (11h25) // Arrival from BRU to FAO (11h45) // ğŸ”´ Delayed Arrival from HEL to FAO (12h05) // Departure from FAO to LIS (12h30)  // æŠ½å‡ºå…±ç”¨æ–¹æ³•ï¼šåˆ‡å‡ºå‰ä¸‰å€‹å­—è½‰å¤§å¯« const getCode = (str) =\u0026gt; str.slice(0, 3).toUpperCase(); for (const item of flights.split(\u0026#34;+\u0026#34;)) { const [status, from, to, time] = item.split(\u0026#34;;\u0026#34;); const signal = status.slice(1).includes(\u0026#34;_\u0026#34;) ? \u0026#34;ğŸ”´\u0026#34; : \u0026#34;\u0026#34;; console.log( `${signal}${status.replaceAll(\u0026#34;_\u0026#34;, \u0026#34; \u0026#34;)}${getCode(from)}${getCode( to )}${time.replace(\u0026#34;:\u0026#34;, \u0026#34;h\u0026#34;)}`.padStart(35) ); }   è£œå……ï¼šç‚ºä»€éº¼å­—ä¸²æ˜¯ Primitives (ä¸æ˜¯ç‰©ä»¶)ï¼Œå»å¯ä»¥å‘¼å«æ–¹æ³•  JavaScript åœ¨å­—ä¸²å‘¼å«æ–¹æ³•æ™‚æœƒæŠŠå­—ä¸²è½‰æˆç‰©ä»¶ï¼Œé€™å€‹éç¨‹å« boxing  1 2  console.log(new String(\u0026#34;jonas\u0026#34;)); // String{\u0026#39;jonas\u0026#39;} console.log(typeof new String(\u0026#34;jonas\u0026#34;)); //object    ç•¶è½‰æ›çµæŸå¾Œæœƒå†æŠŠç‰©ä»¶è½‰å›å­—ä¸²  1  console.log(typeof new String(\u0026#34;jonas\u0026#34;).slice(1)); // string   ä»¥ä¸Šç‚ºThe Complete JavaScript Course - From Zero to Expertçš„å°ç­†è¨˜ï¼Œé™„ä¸Šé€£çµæ¨æ¨é€™å ‚èª²\n","date":"2022-01-30T00:00:00+08:00","image":"https://bacnotes.github.io/p/string-methods/pexels-pixabay-278887_hu3d03a01dcc18bc5be0e67db3d8d209a6_1794718_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/string-methods/","title":"å­—ä¸²çš„è™•ç†æ–¹æ³•ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"ç”¢å‡ºå¥½ç¶­è­·å¥½ç®¡ç†çš„ç¨‹å¼ç¢¼æ˜¯é‡è¦çš„ï¼Œæƒ³åƒä»Šå¤©ä½ çš„ä»»å‹™æ˜¯è¦å¾é€™å€‹æˆ¿é–“è£¡æ‰¾å‡ºæŸä¸€æœ¬æ›¸ï¼Œä½ è¦ºå¾—ä½ éœ€è¦å¤šå°‘æ™‚é–“ï¼Ÿ\nå¦‚æœå°ˆæ¡ˆç¨‹å¼ç¢¼é•·é€™æ¨£çš„è©±ï¼Œé‚„æ²’é–‹å§‹ debug è…¦è¢‹å°±å·²ç¶“å…ˆç•¶æ©Ÿäº†\u0026hellip; è€Œç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆå°±æ˜¯ç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œè€Œèª•ç”Ÿçš„ä¸€ç¨®æ–¹ä¾¿ç®¡ç†ç¨‹å¼ç¢¼çš„æ–¹å¼\nä»€éº¼æ˜¯ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ(Object-Oriented Programming)  åŸºæ–¼ç‰©ä»¶æ¦‚å¿µçš„ç¨‹å¼è¨­è¨ˆæ–¹æ³• ä½¿ç”¨ç‰©ä»¶å½¢å®¹(model)å…·é«”æˆ–æŠ½è±¡çš„ feature(e.g. user, todo-item, å…ƒä»¶æˆ–è³‡æ–™çµæ§‹) æˆ‘å€‘æŠŠç›¸é—œå±¬æ€§è·Ÿæ–¹æ³•éƒ½åŒ…åœ¨ä¸€å€‹ç‰©ä»¶ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿å–å¾—å…§éƒ¨è³‡æ–™ ç‰©ä»¶æ˜¯ç¨ç«‹çš„(self-contained)çš„ç¨‹å¼ç¢¼ç‰‡æ®µï¼Œé€éå½¼æ­¤äº’å‹•æ§‹ç¯‰æˆä¸€å€‹æ‡‰ç”¨ç¨‹å¼ å…¬é–‹çš„ API å³æ˜¯é€éç‰©ä»¶å…§æ–¹æ³•è·Ÿæ‡‰ç”¨ç¨‹å¼äº’å‹•  ç‰©ä»¶å°å‘ç¨‹å¼èªè¨€å››å¤§åŸå‰‡ æŠ½è±¡åŒ–  éš±è—å¯¦ä½œç´°ç¯€çš„æ©Ÿåˆ¶  å°è£  æŠŠå±¬æ€§è·Ÿæ–¹æ³•å°è£åœ¨ class ä¸è®“å¤–éƒ¨è®€å–ä¿®æ”¹ï¼Œä½† class å…§éƒ¨å¯ä»¥è®€å– å°è£å¥½(è®“å±¬æ€§è·Ÿæ–¹æ³•ä¿æŒ private)å¯é¿å…ç”¢ç”Ÿéé æœŸ bug ç•¶å¤–åœ¨ç¨‹å¼ç¢¼èƒ½å¤ æ›´å‹•åˆ° class å…§éƒ¨è³‡æ–™ï¼Œæœƒé€£å‹•å½±éŸ¿åˆ°èª¿ç”¨é€™å€‹ class çš„ç›¸é—œç¨‹å¼ç¢¼ éœ€è¦å…¬é–‹å­˜å– API å¯è¨­è¨ˆæˆé–‹æ”¾å­˜å–  ç¹¼æ‰¿  ç•¶æœ‰å…©å€‹ç›¸ä¼¼çš„ classï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨ç¹¼æ‰¿ç‰¹æ€§é¿å…æ’°å¯«é‡è¤‡ç¨‹å¼ç¢¼(parent class â†’ child class)  å¤šå‹  child class å¯ä»¥è¦†å¯« parent class çš„æ–¹æ³•  class è·Ÿ instance å¯¦ä¾‹æ˜¯ä»€éº¼ï¼Ÿ  class æ˜¯ä¸€å€‹è—åœ–(éç‰©ä»¶)ï¼Œé€é class å»ºæ§‹å‡ºä¾†çš„æ±è¥¿æ˜¯ instance å¯¦ä¾‹ ä½† JavaScript å…¶å¯¦æ²’æœ‰çœŸæ­£çš„ class é€™å€‹é¡åˆ¥å¯¦ä¾‹(è€Œ Javaï¼ŒC++æœ‰) JavaScript çš„ class æ¯”è¼ƒåƒæ˜¯èªæ³•ç³–ï¼Œé€éå»ºæ§‹å‡½å¼ä¾†æ¨¡æ“¬ classï¼Œå¯ä»¥èª¿ç”¨åŸå‹(prototype-based)æ–¹æ³•  prototype åŸå‹æ˜¯ä»€éº¼ï¼Ÿ  åœ¨ JavaScript ç‰©ä»¶éƒ½æœƒé€£çµåˆ°åŸå‹ï¼ŒåŸå‹ç¹¼æ‰¿(prototypal inheritance)è¡¨ç¤ºæ‰€æœ‰è¢«é€£çµåˆ°çš„å¯¦ä¾‹éƒ½å¯ä»¥ä½¿ç”¨åŸå‹çš„æ–¹æ³• èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘åœ¨ä½¿ç”¨é™£åˆ—çš„ map æ–¹æ³•ï¼Œä¹Ÿæ˜¯å¾é™£åˆ—çš„ prototype å–ç”¨é€™å€‹æ–¹æ³•ï¼Œè€Œä¸æ˜¯ num æœ¬èº«æœ‰çš„æ–¹æ³•()  å»ºç«‹åŸå‹çš„ 3 ç¨®æ–¹æ³•  å»ºç«‹åŸå‹æ˜¯ç‚ºäº†å¯ä»¥ä½¿ç”¨åŸå‹ç¹¼æ‰¿   ä½¿ç”¨å»ºæ§‹å‡½å¼(Constructor functions)è·Ÿ new é‹ç®—å­ç”¢ç”Ÿæ–°çš„å¯¦ä¾‹ ES6 çš„ class èªæ³•ç³– Object.createï¼ˆæœ€ç°¡å–®å‰µé€ å‡ºä¸€å€‹ç‰©ä»¶é€£çµ prototype çš„æ–¹æ³•)  1 2  const num = [1, 2, 3] console.log(num.map((el) =\u0026gt; el + 2)) //[ 3, 4, 5 ]   ä½¿ç”¨å»ºæ§‹å‡½å¼è·Ÿ new é‹ç®—å­å»ºç«‹åŸå‹é€£çµ  å¯«ä¸€å€‹å»ºæ§‹å‡½å¼ï¼Œä½¿ç”¨ new é‹ç®—å­ç”¢ç”Ÿæ–°çš„ç‰©ä»¶å¯¦ä¾‹{} ç•¶å‡½å¼è¢«å‘¼å«ï¼Œç‰©ä»¶å¯¦ä¾‹çš„ this æœƒæŒ‡å‘é€™å€‹å¯¦ä¾‹æœ¬èº«{} (å› ç‚ºä½¿ç”¨ new é‹ç®—å­æ‰æœ‰é€™å€‹ç‰¹æ€§ï¼Œè·Ÿä¸€èˆ¬å‡½å¼ this ä¸åŒ) å¯¦ä¾‹æœƒé€£çµåˆ°å»ºæ§‹å‡½å¼ï¼Œè®“å¯¦ä¾‹å¯ä»¥ä½¿ç”¨å»ºæ§‹å‡½å¼çš„æ–¹æ³•ï¼Œå› æ­¤æ¯å€‹ç‰©ä»¶ä¸‹æœƒæœ‰.__proto__å±¬æ€§ å»ºæ§‹å‡½å¼æœ¬èº«æœƒ return{}  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  // ä½¿ç”¨åŒåŸå‹å‰µé€ ä¸åŒå¯¦ä¾‹ const Person = function (firstName, birthYear) { // this æŒ‡å‘å¯¦ä¾‹æœ¬èº«  console.log(this) // Person {}  // è¨­å®šå¯¦ä¾‹å±¬æ€§ç‚ºå¤–éƒ¨å‚³é€²ä¾†çš„åƒæ•¸  this.firstName = firstName this.birthYear = birthYear // æ–¹æ³•ä¸æœƒå¯«åœ¨åŸå‹è£¡é¢ï¼Œæœƒé€ æˆå¤šé¤˜çš„ç¨‹å¼ç¢¼ï¼Œè‹¥æœ‰ä¸€åƒå€‹ç‰©ä»¶å°±æœ‰ä¸€åƒå€‹æ–¹æ³•ç¨‹å¼ç¢¼ } // å‰µé€ ä¸€å€‹firstNameç‚ºJonas birthYearç‚º1991çš„Personå¯¦ä¾‹ const jonas = new Person(\u0026#39;Jonas\u0026#39;, 1991) console.log(jonas) // Person { firstName: \u0026#39;Jonas\u0026#39;, birthYear: 1991 }  // å‰µé€ ä¸€å€‹firstNameç‚ºmirenda birthYearç‚º2003çš„Personå¯¦ä¾‹ const mirenda = new Person(\u0026#39;mirenda\u0026#39;, 2003) console.log(mirenda) // Person { firstName: \u0026#39;mirenda\u0026#39;, birthYear: 2003 }  // ä½¿ç”¨.prototype.æ–¹æ³•å æ–°å¢åŸå‹å…±ç”¨æ–¹æ³• // ä¸€æ¨£æ‰€æœ‰ç‰©ä»¶å¯ä»¥é€éprototype inheritanceå…±ç”¨ï¼Œä½†åªéœ€è¦ç®¡ç†é€™æ®µç¨‹å¼ç¢¼ï¼Œä¸æœƒæœ‰å¤šé¤˜çš„copy Person.prototype.calcAge = function () { console.log(2037 - this.birthYear) } // å¯ä»¥å…±ç”¨åŸå‹æ–¹æ³• jonas.calcAge() // 46 mirenda.calcAge() // 34  // ä½¿ç”¨.prototype æ–°å¢åŸå‹å±¬æ€§ Person.prototype.species = \u0026#39;Homo Sapiens\u0026#39; console.log(jonas.species) // å¯ä»¥å–å¾—å…±ç”¨å±¬æ€§ Homo Sapiens console.log(jonas) // Person { firstName: \u0026#39;Jonas\u0026#39;, birthYear: 1991 } ä½†ä¸æœƒå‡ºç¾åœ¨jonaså¯¦ä¾‹è£¡é¢ï¼Œé™¤éæœ‰å¯«å…¥   æª¢æŸ¥å¯¦ä¾‹æ‰€å±¬åŸå‹æ–¹æ³• 1 2 3  console.log(jonas instanceof Person) // true console.log(jonas.__proto__ === Person.prototype) // è‹¥æ˜¯åŸå‹é€£çµçš„å¯¦ä¾‹ç‚º true console.log(Person.prototype.isPrototypeOf(jonas)) // è‹¥æ˜¯åŸå‹é€£çµçš„å¯¦ä¾‹ç‚º true   æª¢æŸ¥å¯¦ä¾‹æ˜¯å¦å«æœ‰æŸå±¬æ€§ hasOwnProperty 1 2 3  console.log(jonas.hasOwnProperty(\u0026#39;firstName\u0026#39;)) // true console.log(jonas.species) // Homo Sapiens console.log(jonas.hasOwnProperty(\u0026#39;species\u0026#39;)) // false å› ç‚ºä¸æ˜¯jonasæ“æœ‰å±¬æ€§ è€Œæ˜¯åŸå‹   prototype chain åŸå‹éˆ å»ºæ§‹å‡½å¼ v.s. åŸå‹ v.s. å¯¦ä¾‹ é—œä¿‚åœ– 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40  // å»ºæ§‹å‡½å¼.prototype = åŸå‹ // åŸå‹.constructor = å»ºæ§‹å‡½å¼  // å»ºæ§‹å‡½å¼ const Person = function (firstName, birthYear) { // Instance properties  this.firstName = firstName this.birthYear = birthYear } // new å»ºæ§‹å‡½å¼ = å¯¦ä¾‹ const jonas = new Person(\u0026#39;Jonas\u0026#39;, 1991) console.log(jonas) // Person { firstName: \u0026#39;Jonas\u0026#39;, birthYear: 1991 }  // å¯¦ä¾‹.__proto__ = ç‰©ä»¶åŸå‹ // jonasçš„åŸå‹æ˜¯Personï¼Œæ•…å¯ä»¥ç²å–Personçš„æ–¹æ³•æˆ–å±¬æ€§ console.log(jonas.__proto__) //{species: \u0026#39;Homo Sapiens\u0026#39;, calcAge: Æ’ (), constructor: Æ’(firstName, birthYear), [[Prototype]]: Object}  // Personçš„åŸå‹æ˜¯ç‰©ä»¶åŸå‹ (Object.prototype) console.log(jonas.__proto__.__proto__) // {constructor: Æ’, __defineGetter__: Æ’, __defineSetter__: Æ’, hasOwnProperty: Æ’, __lookupGetter__: Æ’,Â â€¦} åˆ—å‡ºç‰©ä»¶æ–¹æ³•  // ç‰©ä»¶åŸå‹çš„prototypeæ˜¯null(åŸå‹éˆchainæœ€ä¸Šå±¤) console.log(jonas.__proto__.__proto__.__proto__) // null  // ä»¥é™£åˆ—å¯¦ä¾‹ä¾†çœ‹åŸå‹éˆ const arr = [1, 2, 3] // å¯¦ä¾‹çš„åŸå‹æ˜¯é™£åˆ—åŸå‹Array.prototypeï¼Œå¯ç²å–é™£åˆ—çš„æ–¹æ³• console.log(arr.__proto__) // [constructor: Æ’, concat: Æ’, copyWithin: Æ’, fill: Æ’, find: Æ’,Â â€¦]  // é™£åˆ—åŸå‹çš„åŸå‹æ˜¯ç‰©ä»¶ï¼Œå¯ç²å–ç‰©ä»¶çš„æ–¹æ³• console.log(arr.__proto__.__proto__) // {constructor: Æ’, __defineGetter__: Æ’, __defineSetter__: Æ’, hasOwnProperty: Æ’, __lookupGetter__: Æ’,Â â€¦}  // ç‰©ä»¶åŸå‹(Object.prototype)çš„prototypeæ˜¯null(åŸå‹éˆchainæœ€ä¸Šå±¤) console.log(arr.__proto__.__proto__.__proto__) // null   ES6 çš„ class å»ºç«‹åŸå‹é€£çµ è·Ÿ function ä¸€æ¨£æœ‰ expression å’Œ declaration å…©ç¨®å¯«æ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  // class expression const Person = class { constructor(firstName, birthYear) { this.firstName = firstName this.birthYear = birthYear } } // class declarationï¼ˆå¯«èµ·ä¾†æ¯”ä¸Šæ–¹ç¨‹å¼ç¢¼å·¥æ•´ï¼Œéƒ½å¯«åœ¨ä¸€å€‹ç‰©ä»¶ä¸­ï¼Œæ–¹æ³•ä¸ç”¨å¯«åœ¨å¤–é¢ç®¡ç†) class Person { constructor(firstName, birthYear) { this.firstName = firstName this.birthYear = birthYear } // å¯«åœ¨é€™é‚Šçš„æ–¹æ³•éƒ½æœƒé€²åˆ°prototype  calcAge() { console.log(2037 - this.birthYear) } greet() { console.log(`Hey ${this.fullName}`) } } const jessica = new Person(\u0026#39;Jessica Davis\u0026#39;, 1996) console.log(jessica) // PersonÂ {firstName: \u0026#39;Jessica Davis\u0026#39;, birthYear: 1996} jessica.calcAge() // 41 console.log(jessica.__proto__ === PersonCl.prototype) // true   é—œæ–¼ class çš„å¹¾å€‹é‡é»  class ä¸æœƒè¢«æå‡ hoisting(å³ä¾¿å¯« class declaration) class å…·å‚™ä¸€ç´šå‡½å¼ç‰¹æ€§(å¯ä½œç‚ºåƒæ•¸å‚³å…¥ï¼Œä¹Ÿå¯è¢«å›å‚³) class é ˆåœ¨åš´æ ¼æ¨¡å¼ä¸‹åŸ·è¡Œ class å¯«æ³•æ¯”ç¬¬ä¸€ç¨®(å»ºæ§‹å‡½å¼/const å¯¦ä¾‹ = new å‡½å¼/Person.prototype.æ–¹æ³•)æ›´å¥½é–±è®€èˆ‡ç¶­è­·ï¼Œconstructor/å±¬æ€§/æ–¹æ³•éƒ½å¯«åœ¨ class è£¡ï¼Œæ–¹æ³•ä¸éœ€è¦å¯«åœ¨å¤–é¢ä¹Ÿå¯ä»¥ä½¿ç”¨ prototype inheritance  getters \u0026amp; setter  æ‰€æœ‰ç‰©ä»¶éƒ½æœ‰çš„å±¬æ€§(assessor properties)ï¼Œç›¸å°æ–¼ä¸€èˆ¬å±¬æ€§ç¨±ç‚º data properties æ˜¯ç²å–å€¼æˆ–è¨­å®šå€¼çš„ function é©åˆç”¨åœ¨ validation  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  const account = { owner: \u0026#39;Jonas\u0026#39;, movements: [200, 530, 120, 300], get latest() { // this.movements.slice(-1)æ˜¯ä¸€å€‹é™£åˆ—ï¼Œç‚ºäº†å–å€¼ç”¨pop  return this.movements.slice(-1).pop() }, // éœ€è¦è‡³å°‘ä¸€å€‹åƒæ•¸  set latest(mov) { this.movements.push(mov) }, } // åƒæ˜¯ç²å–å±¬æ€§ä¸€æ¨£ä¾†ä½¿ç”¨é€™å€‹æ–¹æ³• console.log(account.latest) // 300 // åƒæ˜¯æ›´æ”¹å±¬æ€§ä¸€æ¨£ä¾†ä½¿ç”¨é€™å€‹æ–¹æ³• è€Œéaccount.latest(50) account.latest = 50 console.log(account.movements) // [200, 530, 120, 300, 50]    å¯ä»¥ä½¿ç”¨å‰›å‰›çš„ Person ä¾†å¯«å€‹ get è·Ÿ set function  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  class Person { constructor(fullName, birthYear) { // å»ºæ§‹æ™‚æœƒä½¿ç”¨åƒæ•¸fullName å‘¼å«set fullNameæ–¹æ³•  this.fullName = fullName this.birthYear = birthYear } calcAge() { console.log(2037 - this.birthYear) } greet() { console.log(`Hey ${this.fullName}`) } get age() { return 2037 - this.birthYear } // set a property that already exists  // ç•¶ä½¿ç”¨.fullNameå°±æœƒå‘¼å«é€™å€‹æ–¹æ³•ï¼ŒåŒ…å«ä¸€é–‹å§‹å»ºæ§‹å¯¦ä¾‹æ™‚  set fullName(name) { console.log(name) if (name.includes(\u0026#39; \u0026#39;)) // setè·Ÿ constructoréƒ½ä½¿ç”¨firstNameæœƒæœ‰è¡çª ä½¿ç”¨å¦ä¸€å€‹è®Šæ•¸å­˜  this._fullName = name else alert(`${name}is not a full name`) } // jessica.fullNameæ‰ä¸æœƒundefined  get fullName() { return this._fullName } } const jessica = new Person(\u0026#39;Jessica Davis\u0026#39;, 1996) console.log(jessica.age) // 41  const walter = new Person(\u0026#39;Walter\u0026#39;, 1996) // Walter is not a full name   static methods  ä½¿ç”¨é—œéµå­— static ä¾†å®šç¾©ä¸€å€‹éœæ…‹çš„æ–¹æ³•ï¼ˆmethodï¼‰çµ¦é¡åˆ¥ï¼ˆclassï¼‰ï¼Œéœæ…‹æ–¹æ³•åœ¨ç”±é¡åˆ¥æ‰€å»ºç«‹çš„ç‰©ä»¶å¯¦é«”ï¼ˆinstanceï¼‰ä¸Šä¸èƒ½è¢«å‘¼å«ï¼Œéœæ…‹æ–¹æ³•åªèƒ½ç”±é¡åˆ¥æœ¬èº«å‘¼å« ä¾‹å¦‚ Array.from() å¯ä»¥æŠŠé¡é™£åˆ—è½‰æˆé™£åˆ—ï¼Œä½†é™£åˆ—æœ¬èº«ä¸èƒ½å‘¼å«é€™å€‹æ–¹æ³• å› ç‚ºé€™å€‹æ–¹æ³•æ˜¯æ”¾åœ¨ Array constructor èº«ä¸Šï¼Œè€Œéé™£åˆ—çš„åŸå‹ï¼Œæ‰€ä»¥é™£åˆ—ç„¡æ³•ç²å–  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69  class Person { constructor(fullName, birthYear) { this.fullName = fullName this.birthYear = birthYear } calcAge() { console.log(2037 - this.birthYear) } greet() { console.log(`Hey ${this.fullName}`) } get age() { return 2037 - this.birthYear } set fullName(name) { console.log(name) if (name.includes(\u0026#39; \u0026#39;)) this._fullName = name else alert(`${name}is not a full name`) } get fullName() { return this._fullName } } // é€™ç¨®å¯«æ³•æ–¹æ³•ä¸æœƒæ›´æ–°åœ¨åŸå‹ï¼Œjonasç„¡æ³•ç¹¼æ‰¿ Person.hey = function () { console.log(\u0026#39;hey\u0026#39;, this) } Person.hey() // hey class Person {...çœç•¥} (thisæœƒæ˜¯å»ºæ§‹å‡½å¼æœ¬èº«) jonas.hey() // Uncaught TypeError: jonas.hey is not a function  // ä½¿ç”¨staticé—œéµå­—ï¼Œå¯å‡ºç¾è·Ÿä¸Šæ–¹ä¸€æ¨£çš„çµæœ class Person { constructor(fullName, birthYear) { this.fullName = fullName this.birthYear = birthYear } // å¯¦ä¾‹å¯ä»¥ç²å–çš„æ–¹æ³• æœƒè¢«åŠ å…¥åŸå‹.prototype property  calcAge() { console.log(2037 - this.birthYear) } greet() { console.log(`Hey ${this.fullName}`) } get age() { return 2037 - this.birthYear } set fullName(name) { console.log(name) if (name.includes(\u0026#39; \u0026#39;)) this._fullName = name else alert(`${name}is not a full name`) } get fullName() { return this._fullName } // å»ºæ§‹æ™‚æ‰èƒ½ç²å–çš„æ–¹æ³•ï¼Œå¯¦ä¾‹ç„¡æ³•ç²å–  static hey() { console.log(\u0026#39;hey\u0026#39;, this) } }    å¦ä¸€å€‹å°ç·´ç¿’ï¼Œget set æ™‚ä½¿ç”¨å¦ä¸€å€‹è®Šæ•¸å(speedUS è€Œé speed)å°±ä¸ç”¨æ“”å¿ƒæ’è®Šæ•¸åçš„å•é¡Œ  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  class CarCl { constructor(make, speed) { this.make = make this.speed = speed } accelerate() { this.speed += 10 console.log(`${this.make}is going at ${this.speed}km/h`) } brake() { this.speed -= 5 console.log(`${this.make}is going at ${this.speed}km/h`) } get speedUS() { return this.speed / 1.6 } set speedUS(speed) { this.speed = speed * 1.6 } } const ford = new CarCl(\u0026#39;Ford\u0026#39;, 120) console.log(ford.speedUS) // 75 ford.accelerate() // Ford is going at 130km/h ford.accelerate() // Ford is going at 140km/h ford.brake() // // Ford is going at 135km/h ford.speedUS = 50 // 50 console.log(ford) //Car{make:\u0026#34;Ford\u0026#34;, speed: 80}   Object.create() å»ºç«‹åŸå‹é€£çµ  ä¸éœ€è¦å¯«å»ºæ§‹å‡½å¼ constructor newï¼Œæˆ–æ˜¯.prototype ä¸‹æ–¹ç¯„ä¾‹ä¸€èˆ¬ä¸æœƒé€™æ¨£åšï¼Œé¡¯ç¤ºæ©Ÿåˆ¶ç”¨  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  const PersonProto = { // å¯ä»¥ä¸éœ€è¦å¯«constructor  calcAge() { console.log(2037 - this.birthYear) }, } // å»ºç«‹åŸå‹é€£çµåˆ°steven const steven = Object.create(PersonProto) console.log(steven) // æ‰‹å‹•å¢åŠ åŸå‹å…§å®¹ steven.name = \u0026#39;Steven\u0026#39; steven.birthYear = 2002 steven.calcAge() //35 // {} \u0026gt; __proto__: calcAge: f calcAge()  console.log(steven.__proto__ === PersonProto) //true  // å»ºç«‹åŸå‹é€£çµåˆ°sarah const sarah = Object.create(PersonProto) const PersonProto = { // ä¸éœ€è¦å¯«constructor  // å»ºç«‹ä¸€å€‹æ–¹æ³•ä¾†æ–°å¢å±¬æ€§ï¼Œç›¸è¼ƒä¸Šé¢ä¸€å€‹å€‹æ–°å¢  init(firstName, birthYear) { this.firstName = firstName this.birthYear = birthYear }, calcAge() { console.log(2037 - this.birthYear) }, } // èª°å‘¼å«thiså°±æ˜¯èª° sarah.init(\u0026#39;Sarah\u0026#39;, 1979) sarah.calcAge() // 58   class é–“çš„ç¹¼æ‰¿: çˆ¶é¡åˆ¥ parent class \u0026amp; å­é¡åˆ¥ child class  äº†è§£å¦‚ä½•ç”¨ Object.create()åœ¨ class é–“è¨­ç½®åŸå‹éˆï¼Œè®“çˆ¶é¡åˆ¥åŸå‹æ–¹æ³•è·Ÿå±¬æ€§å¯ä»¥è¢«å­é¡åˆ¥ç¹¼æ‰¿ å­é¡åˆ¥ç¹¼æ‰¿çˆ¶é¡åˆ¥çš„æ–¹æ³•è·Ÿå±¬æ€§ï¼Œä¹Ÿå¯ä»¥æœ‰è‡ªå·±çš„æ–¹æ³•è·Ÿå±¬æ€§ ç•¶å­å±¤çˆ¶å±¤æœ‰ä¸€æ¨£åç¨±çš„æ–¹æ³•ï¼Œæœƒç”¨å­å±¤çš„  ä½¿ç”¨å»ºæ§‹å‡½å¼è·Ÿ new é‹ç®—å­å»ºç«‹çˆ¶å­é¡åˆ¥ç¹¼æ‰¿ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37  // äººé¡åŸå‹ const Person = function (firstName, birthYear) { this.firstName = firstName this.birthYear = birthYear } // äººé¡åŸå‹å»ºç«‹æ–¹æ³• Person.prototype.calcAge = function () { console.log(2037 - this.birthYear) } // å­¸ç”ŸåŸå‹ const Student = function (firstName, birthYear, course) { // å‘¼å«äººé¡å±¬æ€§  // å¦‚æœç”¨ä¸€èˆ¬å‡½å¼å‘¼å«(æ²’æœ‰ç”¨new) Person(firstName, birthYear) æœƒUncaught Error: cannot set firstName of undefined  // a regular function call, the this keyword is set to undefined  // å¦‚æœéœ€è¦å‘¼å«å‡½å¼ä¸¦è¨­ç½®thisåœ¨é€™å€‹å‡½å¼ï¼Œä½¿ç”¨call  Person.call(this, firstName, birthYear) this.course = course } // ä½¿ç”¨Object.createå»ºç«‹åŸå‹é€£çµ // æ–°å¢ä»»ä½•å­é¡åˆ¥åŸå‹çš„æ–¹æ³•å‰ï¼Œéœ€è¦å…ˆå»ºç«‹é€£çµï¼Œä¸‹æ–¹æœƒå›å‚³ç©ºç‰©ä»¶ï¼Œè‹¥é †åºéŒ¯èª¤ç©ºç‰©ä»¶æœƒè¦†è“‹æ‰æ–°å¢çš„æ–¹æ³• Student.prototype = Object.create(Person.prototype) // å­¸ç”ŸåŸå‹å»ºç«‹æ–¹æ³• Student.prototype.introduce = function () { console.log(`My name is ${this.firstName}and I study ${this.course}`) } // å»ºç«‹ä¸€å€‹å­¸ç”Ÿ const mike = new Student(\u0026#39;Mike\u0026#39;, 2020, \u0026#39;Computer Science\u0026#39;) mike.introduce() // æˆåŠŸå‘¼å«åˆ°çˆ¶é¡åˆ¥æ–¹æ³•ï¼Œè·Ÿscope chainä¸€æ¨£ç•¶å­å±¤æ‰¾ä¸åˆ°æœƒå¾€çˆ¶å±¤æ‰¾ // è‹¥å­å±¤æœ‰å®šç¾©è‡ªå·±çš„calcAge()ï¼Œæœƒå‘¼å«å­å±¤çš„æ–¹æ³• mike.calcAge() // 17    å­é¡åˆ¥å¯¦ä¾‹è·Ÿå­é¡åˆ¥è·Ÿçˆ¶é¡åˆ¥é—œä¿‚  1 2 3 4 5 6 7 8 9 10 11  // å­¸ç”ŸåŸå‹ å¯ä»¥çœ‹åˆ°introduceæ–¹æ³• console.log(mike.__proto__) // Person { introduce: [Function (anonymous)] } // äººé¡åŸå‹ å¯ä»¥çœ‹åˆ°calcAgeæ–¹æ³• console.log(mike.__proto__.__proto__) // { calcAge: [Function (anonymous)] }  console.log(mike instanceof Student) // true console.log(mike instanceof Person) // true è‹¥æ²’æœ‰ä¸Šé¢å»ºç«‹é€£çµæœƒæ˜¯false console.log(mike instanceof Object) // true  Student.prototype.constructor = Student // åŠ ä¸Šé€™è¡Œfix mikeçš„constructoræŒ‡å‘ console.dir(Student.prototype.constructor) // è‹¥æ²’æœ‰ä¸Šé¢é€™è¡ŒæœƒæŒ‡å‘Person   ä½¿ç”¨ ES6 class å»ºç«‹çˆ¶å­é¡åˆ¥ç¹¼æ‰¿  ä½¿ç”¨ extend çˆ¶é¡åˆ¥ æ­é… super çˆ¶é¡åˆ¥åƒæ•¸ super æ˜¯çˆ¶å±¤çš„å»ºæ§‹å‡½å¼ constructor  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38  // äººé¡åŸå‹ class Person { constructor(firstName, birthYear) { this.firstName = firstName this.birthYear = birthYear } // äººé¡åŸå‹å»ºç«‹æ–¹æ³•  calcAge = function () { console.log(2037 - this.birthYear) } } // å­¸ç”ŸåŸå‹ ä¸ç”¨å¯«çˆ¶å±¤.call ç”¨extendså°±æœƒæŒ‡å‘çˆ¶å±¤äº† class Student extends Person { constructor(firstName, birthYear, course) { // superæ°¸é å¯«åœ¨æœ€ä¸Šé¢ å­å±¤çš„this  super(firstName, birthYear) this.course = course } introduce() { console.log(`My name is ${this.firstName}and I study ${this.course}`) } // è¦†å¯«çˆ¶å±¤æ–¹æ³•  // calcAge() {  // console.log(`i am ${2037- this.birthYear}`)  // } } // ä½¿ç”¨Object.createå»ºç«‹åŸå‹é€£çµï¼Œè®“å…©å€‹classå»ºç«‹çˆ¶å­é—œä¿‚ // åœ¨æ·»åŠ ä»»ä½•å­¸ç”ŸåŸå‹çš„æ–¹æ³•å‰ï¼Œéœ€è¦å…ˆå»ºç«‹é€£çµï¼Œå› ç‚ºä¸‹æ–¹æœƒå…ˆå›å‚³ç©ºç‰©ä»¶ï¼Œè‹¥é †åºéŒ¯èª¤ç©ºç‰©ä»¶æœƒè¦†è“‹æ‰æ–°å¢çš„æ–¹æ³• Student.prototype = Object.create(Person.prototype) // å»ºç«‹ä¸€å€‹å­¸ç”Ÿ const mike = new Student(\u0026#39;Mike\u0026#39;, 2020, \u0026#39;Computer Science\u0026#39;) mike.introduce() // My name is Mike and I study Computer Science  // æˆåŠŸå‘¼å«åˆ°çˆ¶é¡åˆ¥æ–¹æ³•ï¼Œè‹¥å­å±¤æœ‰åŒæ¨£calcAge()å‰‡æœƒå‘¼å«å­å±¤æ–¹æ³• mike.calcAge() // 17   ä½¿ç”¨ Object.create å»ºç«‹çˆ¶å­é¡åˆ¥ç¹¼æ‰¿ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31  const PersonProto = { calcAge() { console.log(2037 - this.birthYear) }, init(firstName, birthYear) { this.firstName = firstName this.birthYear = birthYear }, } // ä½¿ç”¨Object.createå»ºç«‹åŸå‹é€£çµ const StudentProto = Object.create(PersonProto) // ä½¿ç”¨Object.createå»ºç«‹åŸå‹é€£çµ const jay = Object.create(StudentProto) // å­å±¤æ–°å¢ç›¸åŒåç¨±æ–¹æ³• StudentProto.init = function (firstName, birthYear, course) { // å‘¼å«å‡½å¼ä¸¦è¨­ç½®thisåœ¨é€™å€‹å‡½å¼ï¼Œä½¿ç”¨call ç²å–çˆ¶å±¤initæ–¹æ³•  PersonProto.init.call(this, firstName, birthYear) this.course = course } // å­å±¤æ–°å¢ä¸åŒæ–¹æ³• StudentProto.introduce = function () { console.log(`My name is ${this.firstName}and I study ${this.course}`) } jay.init(\u0026#39;Jay\u0026#39;, 2010, \u0026#39;computer science\u0026#39;) jay.introduce() // My name is Jay and I study computer science jay.calcAge() // 27   Encapsulation  ä¸‹åº•ç·šæ˜¯è®“å”ä½œè€…äº†è§£é€™å€‹æ˜¯ç§æœ‰çš„ä¸€ç¨®è¡¨ç¤ºæ–¹å¼  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81  /////////////////////////////////////// // Encapsulation: Protected Properties and Methods // Encapsulation: Private Class Fields and Methods  // 1) Public fields // 2) Private fields // 3) Public methods // 4) Private methods // (there is also the static version)  class Account { // 1) Public fields (instances)  locale = navigator.language // 2) Private fields (instances)  #movements = [] #pin constructor(owner, currency, pin) { this.owner = owner this.currency = currency this.#pin = pin // Protected property  // this._movements = [];  // this.locale = navigator.language;  console.log(`Thanks for opening an account, ${owner}`) } // 3) Public methods  // Public interface  getMovements() { return this.#movements } deposit(val) { this.#movements.push(val) return this } withdraw(val) { this.deposit(-val) return this } requestLoan(val) { if (this.#approveLoan(val)) { this.deposit(val) console.log(`Loan approved`) return this } } static helper() { console.log(\u0026#39;Helper\u0026#39;) } // 4) Private methods  #approveLoan(val) { return true } } const acc1 = new Account(\u0026#39;Jonas\u0026#39;, \u0026#39;EUR\u0026#39;, 1111) // acc1._movements.push(250); // acc1._movements.push(-140); // acc1.approveLoan(1000);  acc1.deposit(250) acc1.withdraw(140) acc1.requestLoan(1000) console.log(acc1.getMovements()) console.log(acc1) Account.helper() // console.log(acc1.#movements); private // console.log(acc1.#pin); // console.log(acc1.#approveLoan(100));    å¯ä»¥åœ¨æ–¹æ³•å¾Œé¢ return this è®“æ–¹æ³•å¯ä»¥ chain èµ·ä¾†  1 2 3 4 5  // Chaining acc1.deposit(300).deposit(500).withdraw(35).requestLoan(25000).withdraw(4000); console.log(acc1.getMovements()); */    ç¸½çµæ•´ç†  prototype æ”¹å¯«æˆ class ç·´ç¿’  charge æ”¹ç§æœ‰è®Šæ•¸ï¼Œè®“å¤–éƒ¨æ²’è¾¦æ³•å­˜å– chain `accelerate\u0026rsquo; and \u0026lsquo;chargeBattery\u0026rsquo; methods of this class update the \u0026lsquo;brake\u0026rsquo; method in the \u0026lsquo;CarCl\u0026rsquo;  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79  class CarCl { constructor(make, speed) { this.make = make; this.speed = speed; } accelerate() { this.speed += 10; console.log(`${this.make}is going at ${this.speed}km/h`); } brake() { this.speed -= 5; console.log(`${this.make}is going at ${this.speed}km/h`); // chain  return this; } get speedUS() { return this.speed / 1.6; } set speedUS(speed) { this.speed = speed * 1.6; } } // DATA CAR 1: \u0026#39;Rivian\u0026#39; going at 120 km/h, with a charge of 23%  // æ”¹å¯«ä¸‹æ–¹ç‚º child class // const EV = function (make, speed, charge) { // Car.call(this, make, speed); // this.charge = charge; // };  // const tesla = new EV(\u0026#39;Tesla\u0026#39;, 120, 23)  // // Link the prototypes // EV.prototype = Object.create(Car.prototype);  // EV.prototype.chargeBattery = function (chargeTo) { // this.charge = chargeTo; // };  // EV.prototype.accelerate = function () { // this.speed += 20; // this.charge--; // console.log( // `${this.make} is going at ${this.speed} km/h, with a charge of ${this.charge}` // ); // };  class EVCl extends CarCl = { #charge constructor(make, speed, charge) { super(make, speed) this.charge = charge } chargeBattery(chargeTo) { this.#charge = chargeTo; // chain  return this }; accelerate() { this.speed += 20; this.#charge--; console.log( `${this.make}is going at ${this.speed}km/h, with a charge of ${this.#charge}` ); // chain  return this } } const rivian = new EVCl(\u0026#39;Rivian\u0026#39;, 120, 23) rivian.accelerate().accelerate().brake().chargeBattery(50).accelerate() console.log(rivian.speedUS)   ä»¥ä¸Šç‚ºThe Complete JavaScript Course - From Zero to Expertçš„å°ç­†è¨˜ï¼Œé™„ä¸Šé€£çµæ¨æ¨é€™å ‚èª²\n","date":"2022-01-14T00:00:00+08:00","image":"https://bacnotes.github.io/p/object-oriented-programming/pexels-j%C3%A9shoots-271458_hu3d03a01dcc18bc5be0e67db3d8d209a6_2056159_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/object-oriented-programming/","title":"ä»Šæ™šï¼Œæˆ‘å€‘ä¾†èŠé»ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ(Object-Oriented Programming) ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"ä¹‹å‰åœ¨JavaScript åº•å±¤é‹ä½œåŸç† 101ï¼Œä»‹ç´¹é primitives è·Ÿ objects ä½¿ç”¨è¨˜æ†¶é«”çš„æ–¹å¼æœ‰æ‰€ä¸åŒï¼Œä¹Ÿåœ¨JavaScript åŸºç¤çŸ¥è­˜è¤‡ç¿’(2)ï¼Œè£œå……ä¸­æåˆ° primitives è³¦å€¼æ™‚æ˜¯ å‚³å€¼ ï¼Œè€Œé™£åˆ—ã€ç‰©ä»¶è³¦å€¼æ™‚æ˜¯ å‚³å€\nåœ¨é€™ç¯‡æ–‡ç« ï¼Œæˆ‘å€‘æœƒç¹¼çºŒä»‹ç´¹å‚³å€è·Ÿå‚³å€¼åœ¨å‡½å¼å‚³éåƒæ•¸(arguments)æ™‚ï¼Œprimitives è·Ÿ objects å…©è€…è¡¨ç¾æœƒæœ‰ä»€éº¼ä¸åŒ\n åƒæ•¸ç‚ºprimitivesï¼Œç›´æ¥å‚³å€¼(flightNum)ï¼Œè‹¥ç‚ºobjectså‰‡æœƒå‚³å€(passenger) ä¸‹æ–¹checkInå‡½å¼æœƒæŠŠpassengerè£¡é¢çš„å±¬æ€§nameåŠ ä¸Šä¸€å€‹ç¨±è¬‚  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  // æœ‰ä¸€å€‹å­—ä¸²è³‡æ–™è·Ÿä¸€å€‹ç‰©ä»¶è³‡æ–™ const flight = \u0026#39;LH234\u0026#39;; const jonas = { name: \u0026#39;Jonas Schmedtmann\u0026#39;, passport: 24739479284, }; const checkIn = function(flightNum, passenger) { // flightNum åªæ˜¯ä¸€å€‹flightå­—ä¸²å€¼çš„copy å…©è€…ä½¿ç”¨ä¸åŒè¨˜æ†¶é«”  flightNum = \u0026#39;LH999\u0026#39;; // passenger.name å‰‡æ˜¯ç›´æ¥æŠŠè¨˜æ†¶é«”å‚³éå» ä½¿ç”¨åŒä¸€ä»½è¨˜æ†¶é«”  passenger.name = \u0026#39;Mr. \u0026#39; + passenger.name; if (passenger.passport === 24739479284) { console.log(\u0026#39;Checked in\u0026#39;); } else { console.log(\u0026#39;Wrong passport!\u0026#39;); } }; // flightæ˜¯ä¸€å€‹primitives å‚³å€¼é€²function // jonasæ˜¯ä¸€å€‹object å‚³å€é€²function checkIn(flight, jonas); // Checked in  console.log(flight); // flightè®Šæ•¸(primitives): LH234 æ²’æœ‰è®Š console.log(jonas); // person.name(ç‰©ä»¶å±¬æ€§)ï¼šMr.Jonas Schmedtmann æ”¹è®Šåˆ°åŸè³‡æ–™    ç•¶å…©å€‹å‡½å¼ä¸åšæ·ºæ‹·è²ç›´æ¥æ“ä½œåŒä¸€å€‹ç‰©ä»¶ï¼Œå› ç‚ºå‚³å€ï¼Œç‰©ä»¶å…§å®¹è¢«ä¿®æ”¹  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  const flight = \u0026#39;LH234\u0026#39;; const jonas = { name: \u0026#39;Jonas Schmedtmann\u0026#39;, passport: 24739479284, }; const flightNum = flight; const passenger = jonas; const checkIn = function(flightNum, passenger) { flightNum = \u0026#39;LH999\u0026#39;; // ä¿®æ”¹è¨˜æ†¶é«”ä¸­çš„å€¼  passenger.name = \u0026#39;Mr. \u0026#39; + passenger.name; if (passenger.passport === 24739479284) { console.log(\u0026#39;Checked in\u0026#39;); } else { console.log(\u0026#39;Wrong passport!\u0026#39;); } }; const newPassport = function(person) { person.passport = Math.trunc(Math.random() * 100000000000); }; newPassport(jonas); // a random number checkIn(flight, jonas); // Wrong passport! (å› ç‚ºæ”¹åˆ°passportè™Ÿç¢¼)    å¤§å‹å°ˆæ¡ˆæœ‰æ™‚å€™å› ç‚ºä¸ç¶“æ„çš„ä¿®æ”¹åˆ°ç‰©ä»¶è³‡æ–™ï¼Œæœƒé€ æˆå¾ˆå¤§çš„å½±éŸ¿ï¼Œæ‰€ä»¥éœ€è¦å¤šæ³¨æ„å‚³å€å‚³å€¼çš„æ¦‚å¿µ  First-Class Function ä¸€ç´šå‡½å¼ ä¹‹å‰ä»‹ç´¹ JavaScript èªè¨€ç‰¹æ€§æ™‚ï¼Œæœ‰æåˆ° JavaScript æœ‰ä¸€ç´šå‡½å¼çš„ç‰¹æ€§ å› æ­¤æˆ‘å€‘å¯ä»¥ä½¿ç”¨ higher-order functionï¼š\n å¯ä»¥æŠŠ function ç•¶åƒæ•¸å‚³å…¥å¦ä¸€å€‹ function(åˆè¢«ç¨±ä½œå›å‘¼å‡½å¼) å¯ä»¥ function return function  callback function å›å‘¼å‡½å¼ å›å‘¼å‡½å¼ callback function æ˜¯æŠŠå‡½å¼ç•¶ä½œå¦ä¸€å€‹å‡½å¼çš„åƒæ•¸ï¼Œé€éå¦ä¸€å€‹å‡½å¼ä¾†å‘¼å«å®ƒ åªæ˜¯é€šå¸¸æåˆ°çš„å ´æ™¯æ˜¯åœ¨è™•ç†éåŒæ­¥çš„æ™‚å€™\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  // æŠŠæ‰€æœ‰è‹±æ–‡å­—ç©ºç™½å»æ‰ï¼ŒæŠŠå­—æ‹¼åœ¨ä¸€èµ·çš„å‡½å¼ const oneWord = function(str) { return str.replace(/ /g, \u0026#39;\u0026#39;).toLowerCase(); }; // æŠŠç¬¬ä¸€å€‹è‹±æ–‡å­—éƒ½è½‰å¤§å¯«å­—çš„å‡½å¼ const upperFirstWord = function(str) { const [first, ...others] = str.split(\u0026#39; \u0026#39;); return [first.toUpperCase(), ...others].join(\u0026#39; \u0026#39;); }; // Higher-order function å­—ä¸²è·Ÿå‡½å¼ç‚ºåƒæ•¸ const transformer = function(str, fn) { console.log(`Original string: ${str}`); console.log(`Transformed string: ${fn(str)}`); console.log(`Transformed by: ${fn.name}`); }; // å›å‘¼å‡½å¼ç¯„ä¾‹1 transformer(\u0026#39;JavaScript is the best!\u0026#39;, upperFirstWord); // Original string: JavaScript is the best! // Transformed string: JAVASCRIPT is the best! // Transformed by: upperFirstWord  // å›å‘¼å‡½å¼ç¯„ä¾‹2 transformer(\u0026#39;JavaScript is the best!\u0026#39;, oneWord); // Original string: JavaScript is the best! // Transformed string: javascriptisthebest! // Transformed by: oneWord   Function return function  å¯ä»¥æŠŠå‡½å¼ä¸€å±¤å±¤å°è£èµ·ä¾†ï¼Œè®“å¤–å±¤åªå‚³å…¥ä¸€å€‹åƒæ•¸ï¼Œfunction programming å¸¸ç”¨çš„ç¨‹å¼è¨­è¨ˆæŠ€å·§ï¼Œæœ‰åŠ©æ–¼é‡è¤‡åˆ©ç”¨ç¨‹å¼ç¢¼ ï¼ŠæŸ¯é‡ŒåŒ–ï¼šæŠŠæ¥å—å¤šå€‹åƒæ•¸çš„å‡½å¼è®Šæ›æˆæ¥å—ä¸€å€‹å–®ä¸€åƒæ•¸ï¼ˆæœ€åˆå‡½å¼çš„ç¬¬ä¸€å€‹åƒæ•¸ï¼‰çš„å‡½å¼ï¼Œä¸¦ä¸”è¿”å›æ¥å—é¤˜ä¸‹çš„åƒæ•¸è€Œä¸”è¿”å›çµæœçš„æ–°å‡½å¼çš„æŠ€è¡“ å› ç‚º Function return function æœƒå‰µé€ é–‰åŒ…ï¼Œé–‰åŒ…æ˜¯å‡½å¼æœ¬èº«åŠå‡½å¼è¢«å»ºç«‹æ™‚çš„åŸ·è¡Œæ–‡æœ¬(execution context)ï¼Œå› æ­¤ä¸‹æ–¹ greeting çš„åƒæ•¸ Hey æœƒè¢«è¨˜ä½  1 2 3 4 5 6 7 8 9 10 11 12 13 14  const greet = function(greeting) { return function(name) { console.log(`${greeting}${name}`); }; }; const greeterHey = greet(\u0026#39;Hey\u0026#39;); greeterHey(\u0026#39;Jonas\u0026#39;); // Hey Jonas greeterHey(\u0026#39;Steven\u0026#39;); // Hey Stevens  greet(\u0026#39;Hello\u0026#39;)(\u0026#39;Jonas\u0026#39;); // Hello Jonas  // ï¼Šè£œå……ä¸Šæ–¹çš„greetå‡½å¼ä¹Ÿå¯ä»¥å¯«æˆç®­é ­å‡½å¼ const greet = (greeting) =\u0026gt; (name) =\u0026gt; console.log(`${greeting}${name}`);   Call \u0026amp; Apply ç¶å®š this å°è±¡ ç•¶æˆ‘å€‘é–‹ç™¼ç¨‹å¼å¾Œå¯èƒ½æœƒè¤‡ç”¨ä¸åŒç‰©ä»¶å…§çš„æ–¹æ³•ï¼Œä½†å¦‚æœä½ åª copy æ–¹æ³•ï¼Œä½¿ç”¨ä¸€èˆ¬å‡½å¼å‘¼å«ï¼Œæœƒç™¼ç¾ this undefinedï¼Œç¬¦åˆæˆ‘å€‘ä¹‹å‰æåˆ°çš„ä¸€èˆ¬å‡½å¼å‘¼å«çš„ç‹€æ³ä¸‹ï¼Œåš´æ ¼æ¨¡å¼ä¸‹ this æ˜¯ undefinedï¼ˆéåš´æ ¼æ¨¡å¼ä¸‹ç‚ºå…¨åŸŸç‰©ä»¶ï¼‰ é€™å€‹æ™‚å€™ä½ å°±éœ€è¦ä½¿ç”¨ Call æˆ– Apply ä¾†å‘Šè¨´ç¨‹å¼ this è¦ç¶å®šçš„å°è±¡\nä½¿ç”¨ Call æ–¹æ³•  call(thisArg, arg1, \u0026hellip; , argN)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43  const lufthansa = { airline: \u0026#39;Lufthansa\u0026#39;, iataCode: \u0026#39;LH\u0026#39;, bookings: [], // book: function() {}  book(flightNum, name) { console.log( `${name}booked a seat on ${this.airline}flight ${this.iataCode}${flightNum}` ); this.bookings.push({ flight: `${this.iataCode}${flightNum}`, name }); }, }; lufthansa.book(239, \u0026#39;Jonas Schmedtmann\u0026#39;); lufthansa.book(635, \u0026#39;John Smith\u0026#39;); // ä¹Ÿæƒ³åœ¨é€™é‚Šä½¿ç”¨ä¸Šé¢bookçš„æ–¹æ³• const eurowings = { airline: \u0026#39;Eurowings\u0026#39;, iataCode: \u0026#39;EW\u0026#39;, bookings: [], }; // copyæ–¹æ³•ï¼Œå…§å®¹ç‚ºpushä¸€æ®µæ–‡å­—åˆ°bookings const book = lufthansa.book; // è‹¥ç›´æ¥ç”¨ä¸€èˆ¬å‡½å¼å‘¼å« not work book(23, \u0026#39;Sarah Williams\u0026#39;); // Uncaught TypeError: Cannot read property \u0026#39;airline\u0026#39; of undefined  // ä¸æ˜¯å»å‘¼å« bookå‡½å¼è€Œæ˜¯return æ–°çš„å‡½å¼ç¶å®šthiså°è±¡ç‚ºeurowings book.call(eurowings, 23, \u0026#39;Sarah Williams\u0026#39;); console.log(eurowings); // çš„ç¢ºæœ‰ä½¿ç”¨bookæ–¹æ³•æŠŠè³‡æ–™pushé€²ä¾†äº†  // { // airline: \u0026#39;Eurowings\u0026#39;, // iataCode: \u0026#39;EW\u0026#39;, // bookings: [ { flight: \u0026#39;EW23\u0026#39;, name: \u0026#39;Sarah Williams\u0026#39; } ] // }   ä½¿ç”¨ Apply æ–¹æ³•  apply(thisArg, argsArray) Call è·Ÿ Apply å·®åˆ¥åœ¨åƒæ•¸å‚³å…¥çš„è³‡æ–™çµæ§‹çš„ä¸åŒï¼Œä½¿ç”¨ Apply ç¶å®šæ™‚ï¼Œåƒæ•¸éœ€è¦æ”¾åœ¨é™£åˆ—ç•¶ä¸­ï¼ŒCall å‰‡æ˜¯ç›´æ¥å¯«åœ¨()ä¸­ã€‚  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  // å®šç¾©å¦ä¸€å€‹ç‰©ä»¶ const swiss = { airline: \u0026#39;Swiss Air Lines\u0026#39;, iataCode: \u0026#39;LX\u0026#39;, bookings: [], }; // åƒæ•¸æ”¾å…¥é™£åˆ— const flightData = [583, \u0026#39;George Cooper\u0026#39;]; book.apply(swiss, flightData); // å¯ä»¥çœ‹åˆ°çš„ç¢ºæœ‰ä½¿ç”¨åˆ°é€™å€‹æ–¹æ³•æ¨æ–°è³‡æ–™é€²å» console.log(swiss); // { // airline: \u0026#39;Swiss Air Lines\u0026#39;, // iataCode: \u0026#39;LX\u0026#39;, // bookings: [ { flight: \u0026#39;LX583\u0026#39;, name: \u0026#39;George Cooper\u0026#39; } ] // }  // è‹¥ä½¿ç”¨calléœ€è¦å±•é–‹é™£åˆ—ï¼Œç›´æ¥å‚³åƒæ•¸æœ¬èº« book.call(swiss, ...flightData);   ä¸æœƒé¦¬ä¸ŠåŸ·è¡Œå‡½å¼çš„ç¶å®šæ–¹æ³•ï¼šBind  bind(thisArg, arg1, \u0026hellip; , argN) bind æ˜¯å‰µé€ ä¸€å€‹å‡½å¼ç‰©ä»¶çš„æ‹·è²ï¼Œä¸æœƒåŸ·è¡Œå‡½å¼ å› æ­¤ bind ä¹‹å¾Œé‚„è¦å†å¦å¤–å¯«åŸ·è¡Œå‡½å¼çš„å‹•ä½œ()ï¼Œè€Œ call æ˜¯ç›´æ¥åŸ·è¡Œå‡½å¼  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40  // ä½¿ç”¨å‰›å‰›çš„ç‰©ä»¶è·ŸåŸå‹æ–¹æ³• const lufthansa = { airline: \u0026#39;Lufthansa\u0026#39;, iataCode: \u0026#39;LH\u0026#39;, bookings: [], // book: function() {}  book(flightNum, name) { console.log( `${name}booked a seat on ${this.airline}flight ${this.iataCode}${flightNum}` ); this.bookings.push({ flight: `${this.iataCode}${flightNum}`, name }); }, }; const book = lufthansa.book; const eurowings = { airline: \u0026#39;Eurowings\u0026#39;, iataCode: \u0026#39;EW\u0026#39;, bookings: [], }; // è¤‡ç¿’ä¸€ä¸‹ ä¸‹æ–¹æ˜¯returnæ–°çš„å‡½å¼ç¶å®šthiså°è±¡ç‚ºeurowings // book.call(eurowings, 23, \u0026#39;Sarah Williams\u0026#39;);  // ä½¿ç”¨é€™å€‹é‚è¼¯æŠŠæŒ‡å‘ä¸åŒå°è±¡çš„bookå‡½å¼å­˜åˆ°ä¸åŒè®Šæ•¸ const bookEW = book.bind(eurowings); const bookLH = book.bind(lufthansa); const bookLX = book.bind(swiss); bookEW(23, \u0026#39;Steven Williams\u0026#39;); // æ¸¬è©¦ä¸€ä¸‹æœ‰work! Steven Williams booked a seat on Eurowings flight EW23  // å±¤å±¤åƒæ•¸ç¶å®š const bookEW23 = book.bind(eurowings, 23); // åªéœ€è¦å‚³ä¸€å€‹åƒæ•¸é€²å»å°±å¯ä»¥å‘¼å«è£¡é¢çš„æ–¹æ³•ï¼ŒæŸ¯é‡ŒåŒ– bookEW23(\u0026#39;Jonas Schmedtmann\u0026#39;); bookEW23(\u0026#39;Martha Cooper\u0026#39;);    å¦ä¸€å€‹å¸¸ç”¨çš„å ´æ™¯æ˜¯ç›£è½äº‹ä»¶  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  // With Event Listeners lufthansa.planes = 300; // è¨ˆæ•¸å™¨ lufthansa.buyPlane = function() { console.log(this); // ä½¿ç”¨ç›£è½æ™‚ thisæŒ‡å‘è§¸ç™¼eventå…ƒç´   this.planes++; console.log(this.planes); }; lufthansa.buyPlane(); // çš„ç¢ºæœ‰+1 è®Šæˆ301  document .querySelector(\u0026#39;.buy\u0026#39;) // æˆ‘å€‘ä¸å¸Œæœ›ç«‹å³è§¸ç™¼æ‰€ä»¥ä½¿ç”¨bindç¶å®šthisæŒ‡å‘å°è±¡ï¼Œç­‰clickå†åŸ·è¡Œ  .addEventListener(\u0026#39;click\u0026#39;, lufthansa.buyPlane.bind(lufthansa));    ç•¶å‡½å¼åŸ·è¡Œå…§å®¹ä¸åŒ…å« thisï¼Œé‚„æ˜¯å¯ä»¥ä½¿ç”¨ Bind ç¶å®šé this éƒ¨åˆ†çš„åƒæ•¸ï¼Œè®“å‡½å¼æ›´æœ‰å½ˆæ€§çš„è¢«åŸ·è¡Œ ä¸éœ€è¦ this çš„ç‹€æ³ä¸‹å¯« null å³å¯  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  // ä¸åŒç¨…ç‡çš„è¨ˆç®—æ‡‰ç”¨ const addTax = (rate, value) =\u0026gt; value + value * rate; // ä¸€èˆ¬å‡½å¼ä¸‹æ“ä½œ console.log(addTax(0.1, 200)); // 220  // ç”¨bindç¶å®šç¨…ç‡23% const addVAT = addTax.bind(null, 0.23); // ç­‰æ–¼ addVAT = value =\u0026gt; value + value * 0.23;  console.log(addVAT(100)); // 123  // å˜—è©¦ç”¨function return function æ”¹å¯«ä¸Šé¢bindæ–¹æ³• const addTax = function(rate) { return function(value) { return value + value * rate; }; }; const addVAT = addTax(0.23);   Immediately Invoked Function Expressions (IIFE) ç«‹å³åŸ·è¡Œå‡½å¼  åªæœƒåŸ·è¡Œä¸€æ¬¡çš„å‡½å¼ï¼ŒåŸ·è¡Œå®Œå°±é¦¬ä¸Šæ¶ˆå¤± å‡½å¼æœƒå‰µé€ ä½œç”¨åŸŸï¼Œå¤–éƒ¨ç„¡æ³•ç²å–å…§éƒ¨çš„è®Šæ•¸ ä¸æœƒæ±¡æŸ“å¤–éƒ¨è®Šæ•¸ï¼Œé©åˆç”¨åœ¨ç¬¬ä¸‰æ–¹å‡½å¼åº«  1 2 3 4 5 6 7 8  (function() { statements; })(); // ä¹Ÿå¯ä»¥å¯«ç®­é ­å‡½å¼ (() =\u0026gt; statements)() // ä½†ä¸æœƒå­˜å–åœ¨ä¸€å€‹è®Šæ•¸è£¡const abc = function () {statements}    åœ¨ä¹‹å‰çš„æ–‡ç« æœ‰ä»‹ç´¹éï¼Œconst let ä¹Ÿæœƒå‰µé€ å‡º block ä½œç”¨åŸŸï¼Œå¤–éƒ¨ç„¡æ³•ç²å–å…§éƒ¨åƒæ•¸ ä½† var æœƒè¢«ç²å–åˆ°  1 2 3 4 5 6 7 8  // blockå€åŸŸ { const state = 123; var state2 = 123; } console.log(state); // Uncaught ReferenceError: state is not defined console.log(state2); // 123    å› ç‚ºæœ‰äº† let const é™åˆ¶ä½ä½œç”¨åŸŸï¼Œå› æ­¤åœ¨ ES6 å¾Œå°±æ¯”è¼ƒå°‘ä½¿ç”¨åˆ° IIFE  Closure é–‰åŒ…  é–‰åŒ…ï¼ˆClosureï¼‰æ˜¯å‡½å¼ä»¥åŠè©²å‡½å¼è¢«å®£å‘Šæ™‚æ‰€åœ¨çš„ä½œç”¨åŸŸç’°å¢ƒï¼ˆlexical environmentï¼‰çš„çµ„åˆ å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡æ¥è§¸é–‰åŒ…è§€å¿µæ‡‰è©²æœƒæœ‰ä¸‹æ–¹åæ‡‰   é€™éƒ¨åˆ†æœƒéœ€è¦çŸ¥é“ä»€éº¼æ˜¯ä½œç”¨åŸŸè·ŸåŸ·è¡Œæ–‡æœ¬ï¼Œä¸ç†Ÿçš„è©±å¯ä»¥çœ‹ä¸€ä¸‹é€™ç¯‡ JavaScript åº•å±¤é‹ä½œåŸç† 101å†å›ä¾† æˆ‘å€‘ä»¥ä¸‹æ–¹å‡½å¼ä¾†è¬›è§£é–‰åŒ…çš„é‹ä½œ step1. å‰µé€ å…¨åŸŸåŸ·è¡Œæ–‡æœ¬  å…¨åŸŸè®Šæ•¸ç’°å¢ƒï¼šsecureBooking=fn, booker=fn   step2. åŸ·è¡Œå…¨åŸŸåŸ·è¡Œæ–‡æœ¬ï¼Œå‰µé€ å‡ºå€‹åˆ¥åŸ·è¡Œæ–‡æœ¬  secureBooking()ä½œç”¨åŸŸï¼šå¯ä»¥ç²å–æœ¬åœ°ä½œç”¨åŸŸè·Ÿçˆ¶å±¤çš„ç’°å¢ƒè®Šæ•¸ è®Šæ•¸ç’°å¢ƒï¼špassengerCount=0, secureBooking=fn ç¨‹å¼è·‘åˆ° return function å¾Œï¼ŒsecureBooking()åŸ·è¡Œæ–‡æœ¬æ¶ˆå¤±ï¼Œå›å‚³çš„ function æŒ‡æ´¾çµ¦ booker è®Šæ•¸ç’°å¢ƒï¼špassengerCount=0, secureBooking=fn, booker=fn   step3. åŸ·è¡Œå€‹åˆ¥æ–‡æœ¬ åŸ·è¡Œ booker()  è®Šæ•¸ç’°å¢ƒï¼šempty, secureBooking=fn, booker=fn) ç”±æ–¼æ‰€æœ‰å‡½å¼éƒ½å¯ä»¥ç²å–è¢«å‰µé€ ç•¶ä¸‹çš„åŸ·è¡Œæ–‡æœ¬(execution context)çš„è®Šæ•¸ç’°å¢ƒ(variable environment) å› ç‚º booker æ˜¯å…¨åŸŸä¸‹çš„è®Šæ•¸ï¼Œæ‰€ä»¥å¯å–å¾—å…¨åŸŸçš„secureBooking=fn, booker=fnçš„è®Šæ•¸ç’°å¢ƒï¼Œè€ŒsecureBooking()çš„è®Šæ•¸ç’°å¢ƒè£¡é¢æœ‰passengerCount=0    1 2 3 4 5 6 7 8 9 10  const secureBooking = function() { let passengerCount = 0; return function() { passengerCount++; console.log(`${passengerCount}passenger`); }; }; const booker = secureBooking(); booker(); // 1 passenger   step 1 \u0026amp; 2 å‰µé€ ï¼†åŸ·è¡Œå…¨åŸŸåŸ·è¡Œæ–‡æœ¬ï¼Œå‰µé€ å‡ºå€‹åˆ¥åŸ·è¡Œæ–‡æœ¬\nstep 3 åŸ·è¡Œå€‹åˆ¥æ–‡æœ¬\nç¸½çµ  é–‰åŒ…çš„å­˜åœ¨å»ºç«‹åœ¨æ‰€æœ‰å‡½å¼éƒ½å¯ä»¥ç²å–è¢«å‰µé€ ç•¶ä¸‹çš„åŸ·è¡Œæ–‡æœ¬çš„è®Šæ•¸ç’°å¢ƒçš„æ©Ÿåˆ¶ä¸‹ å³ä¾¿åŸ·è¡Œæ–‡æœ¬å·²ç¶“è¢«éŠ·æ¯€ï¼Œå‡½å¼é‚„æ˜¯å¯ä»¥é€éæŸç¨® ref ç²å–åˆ°é€™å€‹è®Šæ•¸ç’°å¢ƒ æ‰€ä»¥å¯ä»¥å–å¾— passengerCount = 0 çš„å€¼ï¼Œä¸”å¯ä»¥æŒçºŒæ›´æ–°é€™å€‹è®Šæ•¸  1 2 3  booker(); // 1 passenger booker(); // 2 passenger booker(); // 3 passenger   è¨»ï¼šå¦‚æœæƒ³çŸ¥é“é€™å€‹ç¥ç§˜çš„Closureè®Šæ•¸å­˜åœ¨å“ªè£¡çš„è©±ï¼Œå¯ä»¥åœ¨devtoolsè£¡console.dirå·å·çœ‹ä¸€ä¸‹åŒ¿åå‡½å¼çš„[[Scopes]]ä¸‹Closureçš„passengerCountè®Šæ•¸ã€‚ä½†å› ç‚ºæ˜¯privateä½œç”¨åŸŸæ‰€ä»¥ç„¡æ³•å­˜å–æˆ–ä¿®æ”¹ã€‚\n1 2 3 4 5 6 7 8  console.dir(booker); // ...[ [Scopes] ]: Scopes[3] 0: Closure(secureBooking) { passengerCount: 0 }   ä»¥ä¸Šç‚ºThe Complete JavaScript Course - From Zero to Expertçš„å°ç­†è¨˜ï¼Œé™„ä¸Šé€£çµæ¨æ¨é€™å ‚èª²\n","date":"2022-01-12T00:00:00+08:00","image":"https://bacnotes.github.io/p/javascript-advanced-part1/javascript-removebg-preview_hu5afc4de35f8caf4a9ddf52b81b394066_38619_120x120_fill_box_smart1_3.png","permalink":"https://bacnotes.github.io/p/javascript-advanced-part1/","title":"JavaScript é€²éšå‡½å¼çŸ¥è­˜ ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"æ­¡è¿ä¾†åˆ° JavaScript åŸºç¤çŸ¥è­˜è¤‡ç¿’(3)ï¼Œé‚„è¨˜å¾— \u0026amp;\u0026amp; || ?? é€™ä¸‰å€‹é‚è¼¯é‹ç®—å­å—ï¼Ÿå…¶å¯¦ä»–å€‘å¯ä»¥è·ŸæŒ‡æ´¾é‹ç®—å­ä¸€èµ·ä½¿ç”¨ï¼Œå¦‚æœæ²’æœ‰æ¥è§¸éçš„å¯ä»¥å…ˆçœ‹çœ‹ç¬¬ä¸€ç¯‡JavaScript åŸºç¤çŸ¥è­˜è¤‡ç¿’(1)å†ä¾†å¾€ä¸‹çœ‹å”·\né‚è¼¯é‹ç®—å­ + æŒ‡æ´¾é‹ç®—å­ \u0026amp;\u0026amp;= ||= ??=  ä¸‹æ–¹æ˜¯å…©å€‹é¤å»³è³‡æ–™ç‰©ä»¶ï¼Œå½¼æ­¤çš„å±¬æ€§ç•¥æœ‰ä¸åŒ  1 2 3 4 5 6 7 8 9  const restaurant1 = { name: \u0026#34;Carpi\u0026#34;, numGuests: 20, }; const restaurant2 = { name: \u0026#34;La Piazza\u0026#34;, owner: \u0026#34;Giovanni Rossi\u0026#34;, };    ç•¶æƒ³å¢åŠ ç‰©ä»¶å…§çš„å±¬æ€§ï¼Œå¯ä»¥ç”¨é‚è¼¯é‹ç®—å­çš„æ–¹å¼æ·»åŠ   1 2 3 4  restaurant1.numGuests = restaurant1.numGuests || 10; // å±¬æ€§å­˜åœ¨ä¸æœƒæœ‰è®Šå‹• restaurant2.numGuests = restaurant2.numGuests || 10; // æ²’æœ‰é€™å€‹å±¬æ€§ï¼Œæ–°å¢ä¸€å€‹numGuests: 10 console.log(restaurant1); // { name: \u0026#39;Carpi\u0026#39;, numGuests: 20 } console.log(restaurant2); // { name: \u0026#39;La Piazza\u0026#39;, owner: \u0026#39;Giovanni Rossi\u0026#39;, numGuests: 10 }    ä½†é‚„å¯ä»¥å¯«å¾—æ›´ç²¾ç°¡ï¼Œä½¿ç”¨é‚è¼¯é‹ç®—å­ + æŒ‡æ´¾é‹ç®—å­ï¼Œè·Ÿä¸Šæ–¹çš„çµæœæ˜¯ä¸€æ¨£çš„  1 2 3 4  restaurant1.numGuests || = 10; // å±¬æ€§å­˜åœ¨ä¸æœƒæœ‰è®Šå‹• restaurant2.numGuests || = 10; // æ²’æœ‰é€™å€‹å±¬æ€§ï¼Œæ–°å¢ä¸€å€‹numGuests: 10 console.log(restaurant1); // { name: \u0026#39;Carpi\u0026#39;, numGuests: 20 } console.log(restaurant2); // { name: \u0026#39;La Piazza\u0026#39;, owner: \u0026#39;Giovanni Rossi\u0026#39;, numGuests: 10 }    é‡åˆ° numGuests æ•¸é‡ç‚º0ï¼Œæœƒå›  falsy æ›´æ–°æˆå¾Œé¢çš„å€¼ï¼Œé€™å€‹é‚è¼¯ä¸æ˜¯æˆ‘å€‘æœŸå¾…çš„çµæœå¯ä»¥ä½¿ç”¨??= çš„æ–¹å¼é¿å…é€™å€‹å•é¡Œ ç•¶å±¬æ€§ null ä¸å­˜åœ¨æˆ– undefinedï¼Œä½¿ç”¨å¾Œæ–¹çš„å€¼å¢åŠ é€™å€‹å±¬æ€§  1 2 3 4  restaurant1.numGuests ?? = 10; restaurant2.numGuests ?? = 10; console.log(restaurant1); // { name: \u0026#39;Carpi\u0026#39;, numGuests: 20 } console.log(restaurant2); // { name: \u0026#39;La Piazza\u0026#39;, owner: \u0026#39;Giovanni Rossi\u0026#39;, numGuests: 10 }    ç•¶æˆ‘å€‘æƒ³æ›´æ–°å±¬æ€§å€¼çš„æ™‚å€™å‰‡å¯ä»¥ä½¿ç”¨\u0026amp;\u0026amp;=ï¼Œå¦‚æœé€™å€‹å±¬æ€§ä¸å­˜åœ¨æœƒå›å‚³ undefined  1 2 3 4 5 6 7  // æ›´æ–°ç¬¬ä¸€å®¶é¤å»³çš„å®¢æˆ¶æ•¸é‡ restaurant1.numGuests \u0026amp;\u0026amp; = 300; console.log(restaurant1); // {name: \u0026#39;Carpi\u0026#39;, numGuests: 300}  // æ›´æ–°ç¬¬äºŒå®¶é¤å»³çš„owner restaurant2.owner \u0026amp;\u0026amp; = \u0026#34;Mars\u0026#34;; console.log(restaurant2); // {name: \u0026#39;La Piazza\u0026#39;, owner: \u0026#39;Mars\u0026#39;, numGuests: 10}   for è¿´åœˆèªæ³•ç³–ï¼šfor of è¿­ä»£å…ƒç´ ã€for in è¿­ä»£å±¬æ€§  æ¯æ¬¡å¯« for è¿´åœˆéƒ½è¦ºå¾—å¯«è¨ˆæ•¸å™¨è·Ÿè¿­ä»£æ¢ä»¶å¾ˆéº»ç…©å—ï¼Ÿå…¶å¯¦é‚„æœ‰æ›´ç°¡å–®çš„å¯«æ³• ä¸€æ¨£å¯ä»¥æ­é…ä½¿ç”¨ continue è·Ÿ break èªæ³•  for of è¿´åœˆè¿­ä»£é™£åˆ—è£¡çš„å…ƒç´   for (const é™£åˆ—å…ƒç´  of é™£åˆ—) è¿­ä»£å…ƒç´   1 2 3 4 5 6 7 8  const menu = [\u0026#34;Focaccia\u0026#34;, \u0026#34;Bruschetta\u0026#34;, \u0026#34;Garlic Bread\u0026#34;]; for (const item of menu) { console.log(item); } // Focaccia // Bruschetta // Garlic Bread   for in è¿´åœˆè¿­ä»£ç‰©ä»¶å±¬æ€§  for in è¿­ä»£å±¬æ€§  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  const openingHours = { mon: { open: 10, close: 16, }, tue: { open: 12, close: 18, }, }; for (const day in openingHours) { console.log(day); } // mon // tue    for in æ­é…å–å€¼çš„ bracket[]è¿­ä»£å€¼  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  const openingHours = { mon: { open: 10, close: 16, }, tue: { open: 12, close: 18, }, }; for (const day in openingHours) { console.log(openingHours[day]); } // mon // tue    for..in ä¸æ‡‰è©²ç”¨ä¾†è¿­ä»£ä¸€å€‹ç´¢å¼•é †åºå¾ˆé‡è¦çš„é™£åˆ—ã€‚é™£åˆ—ç´¢å¼•åªæ˜¯ä»¥æ•´æ•¸å‘½åçš„å¯åˆ—èˆ‰å±¬æ€§ï¼Œå…¶ä»–æ–¹é¢ç­‰åŒæ–¼ä¸€èˆ¬ç‰©ä»¶å±¬æ€§ã€‚ç„¡æ³•æ“”ä¿ for\u0026hellip;in ä»¥ç‰¹å®šé †åºå‚³å›ç´¢å¼•ï¼Œä¸¦ä¸”å®ƒå°‡å‚³å›å…¨éƒ¨å¯åˆ—èˆ‰å±¬æ€§ï¼ŒåŒ…æ‹¬éæ•´æ•¸åçš„ï¼Œä»¥åŠç¹¼æ‰¿è€Œä¾†çš„å¯åˆ—èˆ‰å±¬æ€§ã€‚  ä½¿ç”¨ Object.keys()ã€Object.values() è¿­ä»£ç‰©ä»¶å±¬æ€§åæˆ–å€¼ Object.keys è¿­ä»£ç‰©ä»¶å±¬æ€§åæˆä¸€å€‹é™£åˆ—  Object.keys(obj)  1 2 3 4 5 6 7 8 9 10 11 12  const openingHours = { mon: { open: 10, close: 16, }, tue: { open: 12, close: 18, }, }; console.log(Object.keys(openingHours)); // [\u0026#39;mon\u0026#39;, \u0026#39;tue\u0026#39;]   1 2 3 4 5 6 7  -Object.keys() å¯æ­é… for of è¿­ä»£å‡ºé™£åˆ—å…ƒç´ (å€¼) for (const day of Object.keys(openingHours)) { console.log(day) } // mon // tue    è·Ÿ for in è¿´åœˆè¿­ä»£é †åºç›¸åŒä½† for in é‚„æœƒåˆ—èˆ‰å‡º prototype çš„å±¬æ€§  Object.values è¿­ä»£ç‰©ä»¶å€¼æˆä¸€å€‹é™£åˆ—  Object.values(obj)  1 2 3 4 5 6 7 8 9 10 11 12  const openingHours = { mon: { open: 10, close: 16, }, tue: { open: 12, close: 18, }, }; console.log(Object.values(openingHours)); // [{open: 10, close: 16}, {open: 12, close: 18}]   åŒæ™‚è¿­ä»£é™£åˆ—æˆ–ç‰©ä»¶çš„å±¬æ€§è·Ÿå€¼ï¼šé™£åˆ—.entries() Object.entries(Obj) é™£åˆ— array.prototype.entries() 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  const menu = [\u0026#34;Focaccia\u0026#34;, \u0026#34;Bruschetta\u0026#34;, \u0026#34;Garlic Bread\u0026#34;]; for (const item of menu.entries()) { console.log(item); } // [ 0, \u0026#39;Focaccia\u0026#39; ] // [ 1, \u0026#39;Bruschetta\u0026#39; ] // [ 2, \u0026#39;Garlic Bread\u0026#39; ]  // ...å±•é–‹é™£åˆ— for (const item of menu.entries()) { console.log(...item); } // 0 Focaccia // 1 Bruschetta // 2 Garlic Bread  // ä½¿ç”¨è§£æ§‹è³¦å€¼ï¼Œä¸¦å¾1é–‹å§‹å‘ˆç¾ for (const [index, item] of menu.entries()) { console.log(`${index + 1}: ${item}`); } // 1: Focaccia // 2: Bruschetta // 3: Garlic Bread   ç‰©ä»¶ Object.entries(obj)  è·Ÿ for in è¿´åœˆè¿­ä»£é †åºç›¸åŒä½† for in é‚„æœƒåˆ—èˆ‰å‡º prototype çš„å±¬æ€§  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  const openingHours = { mon: { open: 10, close: 16, }, tue: { open: 12, close: 18, }, }; // å±¬æ€§key å€¼value for (const [key, { open, close }] of Object.entries(openingHours)) { console.log(`On ${key}, we open at${open}and close at ${close}`); } // On mon, we open at10 and close at 16 // On tue, we open at12 and close at 18   Enhanced Object Literals ç•¶è®Šæ•¸è·Ÿå±¬æ€§åç¨±ç›¸åŒå¯çœç•¥ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  // è®Šæ•¸name è·Ÿ openingHours const name = \u0026#39;Great Restaurant\u0026#39;, const openingHours = { mon: { open: 10, close: 16, }, tue: { open: 12, close: 18 } } // ä»¥å¾€ç‰©ä»¶è³¦å€¼ï¼Œéœ€è¦å±¬æ€§keyè·Ÿå€¼valueéƒ½å¯«ä¸Šå» const restaurant = { name: name, openingHours: openingHours, location: \u0026#39;France\u0026#39; } // ç¾åœ¨åªè¦å±¬æ€§è·Ÿè®Šæ•¸åä¸€æ¨£ï¼Œå–®å¯«å±¬æ€§å°±å¥½ï¼Œç¨‹å¼ç¢¼æœƒå¹«ä½ æŠŠå€¼å°èµ·ä¾† const restaurant = { name, openingHours, location: \u0026#39;France\u0026#39; }   ç‰©ä»¶æ–¹æ³•å¯çœç•¥å†’è™Ÿè·Ÿ function 1 2 3 4 5 6 7 8 9  // éå»æœƒå¯«æˆ order: function(a, b) { return a + b } // å¯ä»¥ç°¡å¯«æˆ é•·å¾—å°±è·Ÿå®£å‘Šå‡½å¼ä¸€æ¨£ order(a, b) { return a + b }   è¡¨é”å¼ä½œç‚ºç‰©ä»¶çš„å±¬æ€§å 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  const weekdays = [\u0026#34;mon\u0026#34;, \u0026#34;tue\u0026#34;, \u0026#34;wed\u0026#34;, \u0026#34;thu\u0026#34;, \u0026#34;fri\u0026#34;]; const openingHours = { [weekdays[2]]: { open: 12, close: 18, }, [`day-${2 + 4}`]: { open: 13, close: 19, }, }; console.log(openingHours); // day-6: {open: 13, close: 19} // wed: {open: 12, close: 18}   Optional Chaining(ES2020) ?.  ç•¶è³‡æ–™æœ¬èº«å¾ˆå¤šå±¬æ€§ä¸”æ¯ç­†è³‡æ–™ä¸ä¸€å®šå­˜åœ¨é€™å€‹å±¬æ€§ï¼Œè®€å–åˆ°ä¸å­˜åœ¨çš„å±¬æ€§æœƒè·³å‡º Uncaught TypeError ä½¿ç”¨?. è®€å–å±¬æ€§ï¼Œè‹¥ä¸å­˜åœ¨ null æˆ– undefinedï¼Œæœƒç«‹å³å›å‚³ undefinedï¼Œå¯ä»¥é¿å…ä¸Šæ–¹çš„ Uncaught TypeError è‹¥ç‚º 0 \u0026lsquo;\u0026lsquo;æœƒå›å‚³ç›¸å°æ‡‰çš„å€¼ï¼Œåªæœ‰ null undefined æœƒå›å‚³ undefined å¸¸æ­é…?? ä¸€èµ·ä½¿ç”¨  å±¬æ€§åŠ ä¸Š Optional Chaining 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39  const openingHours = { mon: { open: 10, close: 16, }, tue: { open: 12, close: 18 }, wed: { open: 12, close: 18 } } const restaurant = { name: \u0026#39;Great restaurant\u0026#39;, openingHours } // ä½¿ç”¨é‚è¼¯é‹ç®—å­çš„å¯«æ³• ç•¶å±¬æ€§å­˜åœ¨æ‰åŸ·è¡Œï¼ˆä½†è³‡æ–™ä¸€å¤šæœƒåè¡€ï¼‰ if (restaurant.openingHours \u0026amp;\u0026amp; restaurant.openingHours.mon) console.log(restaurant.openingHours.mon.open) // ä½¿ç”¨Optional Chainingçš„å¯«æ³• ç°¡çŸ­ console.log(restaurant.openingHours?.mon?.open) // åŠ ä¸Šè¿­ä»£for of æƒ³çŸ¥é“å¹³æ—¥å¹¾é»é–‹é–€ const weekdays = [\u0026#39;mon\u0026#39;, \u0026#39;tue\u0026#39;, \u0026#39;wed\u0026#39;, \u0026#39;thu\u0026#39;, \u0026#39;fri\u0026#39;] for (const weekday of weekdays) { // é¿å…undefinedå‡ºç¾ ä½¿ç”¨??è¨­å®šé è¨­å€¼ not open  const open = restaurant.openingHours[weekday]?.open ?? \u0026#39;not open\u0026#39; console.log(`On ${weekday}, ${open}`) } // On mon, 10 // On tue, 12 // On wed, 12 // On thu, not open // On fri, not open   ç‰©ä»¶æ–¹æ³•åŠ ä¸Š Optional Chaining  ç¢ºèªæ–¹æ³•æ˜¯å¦å­˜åœ¨  1 2 3 4 5 6 7 8 9 10  const restaurant = { order(starterIndex, mainIndex) { return \u0026#34;Order!\u0026#34;; }, orderDelivery({ starterIndex = 1, mainIndex }) { return \u0026#34;OrderDelivery!\u0026#34;; }, }; console.log(restaurant.order?.(0, 1) ?? \u0026#34;Method not existed\u0026#34;); // Order! console.log(restaurant.orderRisotto?.(0, 1) ?? \u0026#34;Method not exist\u0026#34;); // \u0026#39;Method not exist\u0026#39;   é™£åˆ—åŠ ä¸Š Optional Chaining  æª¢æŸ¥é™£åˆ—æ˜¯å¦æœ‰è³‡æ–™  1 2 3 4 5 6 7 8 9 10 11  const users = [{ name: \u0026#39;Jonas\u0026#39;, email: \u0026#39;hello@jonas.com\u0026#39; }] // éå»å¯èƒ½è¦å¯« if (users.length \u0026gt; 0) console.log(users[0].name) else console.log(\u0026#39;User array empty\u0026#39;) // ä½¿ç”¨Optional Chaining å¯«èµ·ä¾†æ›´ç²¾ç°¡ console.log(users[0]?.name ?? \u0026#39;User array empty\u0026#39;)   Set  é•·å¾—åƒé™£åˆ—ï¼Œæ˜¯å…ƒç´ çš„é›†åˆï¼Œå…ƒç´ å¯ä»¥æ˜¯ä»»ä½•è³‡æ–™æ ¼å¼ Set ä¸­æ‰€æœ‰çš„å…ƒç´ éƒ½æ˜¯å”¯ä¸€çš„ (unique values)ï¼Œä¸æœƒæœ‰é‡è¤‡çš„å€¼ï¼Œç•¶ä½ å­˜å…¥é‡è¤‡çš„å…ƒç´ (å€¼)æœƒè¢«å¿½ç•¥ Set å…§éƒ¨æœƒç”¨ === ä¾†åˆ¤æ–·æ˜¯å¦æœ‰é‡è¤‡å€¼ï¼Œå”¯ä¸€çš„ä¾‹å¤–æ˜¯ NaN æœƒè¢«åˆ¤æ–·ä½œæ˜¯é‡è¤‡çš„å€¼(é›–ç„¶ NaN !== NaN) å…ƒç´ æ•¸é‡è¨ˆç®—ä½¿ç”¨.size  1 2  const someSet = new Set([a, b, c]); console.log(someSet.size); // 3    .has(\u0026lsquo;å…ƒç´ \u0026rsquo;)æª¢æŸ¥æ˜¯å¦æœ‰åŒ…å«å…ƒç´   1 2  const someSet = new Set([a, b, c]); console.log(someSet.has(\u0026#34;a\u0026#34;)); // true    å¢åŠ èˆ‡åˆªé™¤å…ƒç´  .add() .delete() .clear()  1 2 3 4 5 6  someSet.add(\u0026#34;d\u0026#34;); console.log(someSet); // [a, b, c, d] someSet.delete(\u0026#34;a\u0026#34;); console.log(someSet); // [b, c, d] someSet.clear(); console.log(someSet); // []    ç„¡æ³•ç”¨ index å¾ Set ä¸­æŠŠå€¼å–å‡ºï¼Œæœƒå›å‚³ undefined å¯ä»¥è¿­ä»£  1 2  const someSet = new Set([a, b, c]); for (const item of someSet) console.log(item); // a b c    æŸ¥è©¢è³‡æ–™ä¸­ä¸é‡è¤‡å…ƒç´ çš„æ•¸é‡  1 2 3  const classmate = [\u0026#34;a\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;b\u0026#34;]; const classmateSet = new Set(classmate); console.log(classmateSet.size);    æŠŠ Set è®Šä¸é‡è¤‡å…ƒç´ çš„é™£åˆ—  1 2 3  const classmate = [\u0026#34;a\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;b\u0026#34;]; const classmateSet = [...new Set(classmate)]; console.log(classmateSet); // [ \u0026#39;a\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39;, \u0026#39;b\u0026#39; ]   Map  é•·å¾—åƒç‰©ä»¶ï¼Œkey value pair çš„çµ„åˆï¼Œå¯ä»¥è¨˜ä½ key çš„åŸå§‹åŠ å…¥ Map çš„é †åº å¯ä»¥è¿­ä»£ï¼Œè¿­ä»£é †åºç‚ºåŠ å…¥ Map çš„é †åº åœ¨ Map åˆ¤æ–· NaN è·Ÿ NaN ç›¸ç­‰ï¼ˆé›–ç„¶ NaN !== NaNï¼‰ï¼Œå‰©ä¸‹çš„å€¼ä½¿ç”¨=== åˆ¤æ–·æ˜¯å¦ç›¸ç­‰  æ–°å»ºæ§‹ä¸€å€‹ Map 1  const restaurant = new Map(); //è£¡é¢æ˜¯ç©ºçš„ è·Ÿç‰©ä»¶æœ‰prototypeä¸åŒ    æ–°å¢ key ä½¿ç”¨.set(key, value) key å€¼çš„ä¸é™æ–¼å­—ä¸²ï¼Œå¯ä»¥æ˜¯ä»»ä½•è³‡æ–™å‹æ…‹ï¼ˆnumberã€arrayã€objectã€functionã€symbol)  1 2 3 4 5  console.log(restaurant.set(1, \u0026#34;Firenze, Italy\u0026#34;)); // Map(1) { 1 =\u0026gt; \u0026#39;Firenze, Italy\u0026#39; }  console.log(restaurant.set(2, \u0026#34;Tokyo, Japan\u0026#34;)); // Map(2) { 1 =\u0026gt; \u0026#39;Firenze, Italy\u0026#39;, 2 =\u0026gt; \u0026#39;Tokyo, Japan\u0026#39; }    set çš„æ™‚å€™ä¸åªæœƒæ›´æ–° Map å…§éƒ¨è³‡æ–™ï¼Œä¹Ÿæœƒå›å‚³ä¸€å€‹æ–°çš„ Mapï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥é€£çºŒ.set é€£çºŒæ–°å¢å¾ˆå¤šè³‡æ–™  1 2 3 4 5 6 7 8 9 10 11 12 13  restaurant .set(\u0026#34;categories\u0026#34;, [\u0026#34;Italian\u0026#34;, \u0026#34;Pizzeria\u0026#34;]) .set(\u0026#34;open\u0026#34;, 11) .set(\u0026#34;close\u0026#34;, 23) .set(true, \u0026#34;we are open\u0026#34;); console.log(restaurant); // Map(4) { // \u0026#39;categories\u0026#39; =\u0026gt; [ \u0026#39;Italian\u0026#39;, \u0026#39;Pizzeria\u0026#39; ], // \u0026#39;open\u0026#39; =\u0026gt; 11, // \u0026#39;close\u0026#39; =\u0026gt; 23, // true =\u0026gt; \u0026#39;we are open\u0026#39; // }   ä½¿ç”¨ get ç²å– key çš„å°æ‡‰å€¼ 1 2 3  restaurant.set(1, \u0026#34;Test\u0026#34;); console.log(restaurant.get(1)); // \u0026#39;Test\u0026#39;   è®€å– key å€¼åŠ ä¸Šé‚è¼¯åˆ¤æ–·åšæ¢ä»¶æ¸²æŸ“ 1 2 3 4 5 6 7 8 9 10 11 12 13  // æ–°å¢ä»¥ä¸‹key restaurant.set(\u0026#34;open\u0026#34;, 11); restaurant.set(\u0026#34;close\u0026#34;, 21); restaurant.set(true, \u0026#34;we are open\u0026#34;); restaurant.set(false, \u0026#34;we are closed\u0026#34;); // åˆ¤æ–·ç‡Ÿæ¥­æ™‚é–“ const time = 21; console.log( restaurant.get( time \u0026gt; restaurant.get(\u0026#34;open\u0026#34;) \u0026amp;\u0026amp; time \u0026lt; restaurant.get(\u0026#34;close\u0026#34;) ) ); // we are closed   ä½¿ç”¨.size æŸ¥è©¢è³‡æ–™é•·åº¦ 1  console.log(restaurant.size); //6   ä½¿ç”¨ has ç¢ºèªæ˜¯å¦åŒ…å«æŸå€‹ keyï¼Œå›å‚³ true false 1 2  console.log(restaurant.has(true)); //true console.log(restaurant.has(false)); //true   ä½¿ç”¨ delete åˆªé™¤å…ƒç´  clear æ¸…ç©ºå…ƒç´  1 2 3 4 5 6 7 8 9 10 11  restaurant.delete(1); console.log(restaurant); // Map(5) { // 2 =\u0026gt; \u0026#39;Tokyo, Japan\u0026#39;, // \u0026#39;open\u0026#39; =\u0026gt; 11, // \u0026#39;close\u0026#39; =\u0026gt; 21, // true =\u0026gt; \u0026#39;we are open\u0026#39;, // false =\u0026gt; \u0026#39;we are closed\u0026#39; // } restaurant.clear(); // Map(0) {}    æ³¨æ„ï¼šç‰©ä»¶å¦‚æœä¸æ˜¯ ref çš„æ–¹å¼çµ¦å€¼ï¼Œç„¡æ³•è®€å–åˆ°å°æ‡‰ value  1 2 3 4 5 6 7 8  restaurant.set([1, 2], \u0026#34;Test\u0026#34;); console.log(restaurant.get([1, 2])); // undefined  const arr = [1, 2]; restaurant.set(arr, \u0026#34;Test\u0026#34;); console.log(restaurant.get(arr)); // \u0026#39;Test\u0026#39;   å¯ä»¥ç¶å®š DOM å…ƒç´  1 2 3  restaurant.set(document.querySelector(\u0026#34;h1\u0026#34;), \u0026#34;Heading\u0026#34;); console.log(restaurant.get(\u0026#34;h1\u0026#34;)); //Map(1) {h1.bold-title.is-1 =\u0026gt; \u0026#39;Heading\u0026#39;}   ç‰©ä»¶è½‰ Map  Object.entries(obj) çµ„æˆå·¢ç‹€é™£åˆ—ï¼Œnew Map è½‰æˆ Map  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  const openingHours = { mon: { open: 10, close: 16, }, tue: { open: 12, close: 18, }, }; console.log(Object.entries(openingHours)); //[ // [ \u0026#39;mon\u0026#39;, { open: 10, close: 16 } ], // [ \u0026#39;tue\u0026#39;, { open: 12, close: 18 } ] //] // const hoursMap = new Map(Object.entries(openingHours)); console.log(hoursMap); //Map(2) { // \u0026#39;mon\u0026#39; =\u0026gt; { open: 10, close: 16 }, // \u0026#39;tue\u0026#39; =\u0026gt; { open: 12, close: 18 } //}   è¿­ä»£ Map key value   å»ºè­°è¿­ä»£çµæ§‹ç‚ºå·¢ç‹€é™£åˆ—(åŒ Object.entries(obj)æˆ–[\u0026hellip;array.entries()]è¼¸å‡ºçš„çµæ§‹) // [[\u0026lsquo;key\u0026rsquo;, {value}], [\u0026lsquo;key\u0026rsquo;, {value}], [\u0026lsquo;key\u0026rsquo;, {value}]]\n  ä½¿ç”¨å±•é–‹é‹ç®—å­æ­é….keys()æˆ–.values()ï¼Œä¸¦å°‡è¿­ä»£å‡ºçš„å…ƒç´ æ”¾å…¥ä¸€å€‹æ–°é™£åˆ—\n  ç›´æ¥ä½¿ç”¨.keys()æˆ–.values()æœƒå‡ºç¾[Map Iterator] { \u0026lsquo;question\u0026rsquo;, 1, 2, 3, \u0026lsquo;correct\u0026rsquo;, true, false }\n  1 2 3 4 5 6 7 8 9  const question = new Map([ [\u0026#34;question\u0026#34;, \u0026#34;What is the best programming language in the world?\u0026#34;], [1, \u0026#34;C\u0026#34;], [2, \u0026#34;Java\u0026#34;], [3, \u0026#34;JavaScript\u0026#34;], [\u0026#34;correct\u0026#34;, 3], [true, \u0026#34;Correct ğŸ‰\u0026#34;], [false, \u0026#34;Try again!\u0026#34;], ]);    å…ˆçœ‹çœ‹å±•é–‹é‹ç®—å­å¤–å±¤åŠ ä¸Šé™£åˆ—çš„çµæœ console.log([\u0026hellip;question]) ç­‰æ–¼ console.log([\u0026hellip;question.entries())  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33  //[ // [ \u0026#39;question\u0026#39;, \u0026#39;What is the best programming language in the world?\u0026#39; ], // [ 1, \u0026#39;C\u0026#39; ], // [ 2, \u0026#39;Java\u0026#39; ], // [ 3, \u0026#39;JavaScript\u0026#39; ], // [ \u0026#39;correct\u0026#39;, 3 ], // [ true, \u0026#39;Correct ğŸ‰\u0026#39; ], // [ false, \u0026#39;Try again!\u0026#39; ] //]  // è¿­ä»£Map key console.log([...question.keys()]); // [\u0026#39;question\u0026#39;, 1, 2, 3, \u0026#39;correct\u0026#39;, true, false]  // è¿­ä»£Map value console.log([...question.values()]); // [\u0026#39;What is the best programming language in the world?\u0026#39;, \u0026#39;C\u0026#39;, \u0026#39;Java\u0026#39;, \u0026#39;JavaScript\u0026#39;, 3, \u0026#39;Correct ğŸ‰\u0026#39;, \u0026#39;Try again!\u0026#39;]  // å•ç­” console.log(question.get(\u0026#34;question\u0026#34;)); // What is the best programming language in the world? for (const [key, value] of question) { if (typeof key === \u0026#34;number\u0026#34;) console.log(`Answer ${key}: ${value}`); } // Anwser 1: C // Anwser 2: Java // Anwser 3: JavaScript  const answer = Number(prompt(\u0026#34;Your Anwser\u0026#34;)); console.log(answer); // å•ç­”ç”¨å¸ƒæ—åˆ¤æ–· è‹¥ç­”æ¡ˆ3 ä¸‹æ–¹åˆ¤æ–·æ˜¯ç‚ºtrue é¡¯ç¤º\u0026#39;Correct ğŸ‰\u0026#39; question.get(question.get(\u0026#34;correct\u0026#34;) === answer);   å¦‚ä½•æ±ºå®šè³‡æ–™çµæ§‹ è€ƒé‡è³‡æ–™ä¾†æº  ç¨‹å¼æœ¬èº« 2. UI äº’å‹•ä»‹é¢ 3. API(JSON æ ¼å¼{a, b:[{},{}\u0026hellip;], c})  è³‡æ–™çµæ§‹  list (å¯ç”¨é™£åˆ—æˆ– set) key value pairs (å¯ç”¨ obj æˆ– map)  ä½•æ™‚é©åˆ Set è€Œä¸æ˜¯é™£åˆ—å‘¢  éœ€è¦ list è£¡é¢éƒ½æ˜¯å”¯ä¸€å€¼(ä¸èƒ½æœ‰é‡è¤‡å€¼) ä¸éœ€è¦ç´¢å¼•å–å€¼ ä¸éœ€è¦å°è³‡æ–™åšæ“ä½œ éœ€è¦é«˜æ•ˆèƒ½æŸ¥æ‰¾  ä½•æ™‚é©åˆ Map è€Œä¸æ˜¯ç‰©ä»¶å‘¢  éœ€è¦å°è³‡æ–™é »ç¹æ“ä½œï¼Œä¿æŒé«˜æ•ˆèƒ½ ç•¶è³‡æ–™æ’å…¥é †åºæ˜¯éœ€è¦è€ƒæ…®çš„å› ç´  éœ€è¦ä½¿ç”¨ä¸åŒè³‡æ–™å‹æ…‹çš„ keyï¼ˆä¸é™æ–¼ string å’Œ symbol ä½œç‚º key) æ–¹ä¾¿è¿­ä»£è·Ÿè¨ˆç®—å¤§å° size æ¯”è¼ƒå°‘éœ€è¦å–®ç¨å°éƒ¨åˆ†è³‡æ–™åšæ“ä½œ(ç‰©ä»¶æ¯”è¼ƒæ–¹ä¾¿ç”¨. è·Ÿ[]å–å€¼)  èª²ç¨‹å°ç·´ç¿’ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150  // challenge 1 const game = { team1: \u0026#34;Bayern Munich\u0026#34;, team2: \u0026#34;Borrussia Dortmund\u0026#34;, players: [ [ \u0026#34;Neuer\u0026#34;, \u0026#34;Pavard\u0026#34;, \u0026#34;Martinez\u0026#34;, \u0026#34;Alaba\u0026#34;, \u0026#34;Davies\u0026#34;, \u0026#34;Kimmich\u0026#34;, \u0026#34;Goretzka\u0026#34;, \u0026#34;Coman\u0026#34;, \u0026#34;Muller\u0026#34;, \u0026#34;Gnarby\u0026#34;, \u0026#34;Lewandowski\u0026#34;, ], [ \u0026#34;Burki\u0026#34;, \u0026#34;Schulz\u0026#34;, \u0026#34;Hummels\u0026#34;, \u0026#34;Akanji\u0026#34;, \u0026#34;Hakimi\u0026#34;, \u0026#34;Weigl\u0026#34;, \u0026#34;Witsel\u0026#34;, \u0026#34;Hazard\u0026#34;, \u0026#34;Brandt\u0026#34;, \u0026#34;Sancho\u0026#34;, \u0026#34;Gotze\u0026#34;, ], ], score: \u0026#34;4:0\u0026#34;, scored: [\u0026#34;Lewandowski\u0026#34;, \u0026#34;Gnarby\u0026#34;, \u0026#34;Lewandowski\u0026#34;, \u0026#34;Hummels\u0026#34;], date: \u0026#34;Nov 9th, 2037\u0026#34;, odds: { team1: 1.33, x: 3.25, team2: 6.5, }, }; // åˆ†çµ„ const [players1, players2] = game.players; console.log(players1); console.log(players2); // çµ„è£¡é¢æœ‰å…©ç¨®è§’è‰² å®ˆé–€å“¡gkè·Ÿ å…¶ä»–çƒå“¡ const [gk, ...fieldPlayers] = players1; console.log(gk, fieldPlayers); // æŠŠæ‰€æœ‰éšŠä¼äººçš„æ”¾é€²å»ä¸€å€‹é™£åˆ— const allPlayers = [...players1, ...players2]; console.log(allPlayers); // æ–°å¢ä¸‰å€‹å€™è£œ const players1Final = [...players1, \u0026#34;Thiago\u0026#34;, \u0026#34;Coutinho\u0026#34;, \u0026#34;Perisic\u0026#34;]; console.log(players1Final); // è§£æ§‹è³¦å€¼å–å‡ºè®Šæ•¸ xçš„è®Šæ•¸åæ”¹ç‚ºdraw const { odds: { team1, x: draw, team2 }, } = game; console.log(team1, draw, team2); // ä¸Ÿä¸€å †åå­—é€²å»ï¼Œä½¿ç”¨å…¶é¤˜é‹ç®—å­åˆä½µæˆé™£åˆ—ï¼Œlengthè¨ˆç®—é•·åº¦ function printGoals(...players) { console.log(`${players.length}goals were scored`); } printGoals(\u0026#34;Davies\u0026#34;, \u0026#34;Muller\u0026#34;, \u0026#34;Lewandowski\u0026#34;, \u0026#34;Kimmich\u0026#34;); // å‹ç‡æ¯”å¤§å° ä¸Šé¢å·²ç¶“æœ‰å¯«å‡ºteam1å‹ç‡è·Ÿteam2å‹ç‡ team1 \u0026gt; team2 \u0026amp;\u0026amp; console.log(\u0026#34;Team 1 is more likely to win\u0026#34;); team1 \u0026lt; team2 \u0026amp;\u0026amp; console.log(\u0026#34;Team 2 is more likely to win\u0026#34;); // challenge 2 // ä¾åºåˆ—å°å‡ºgame.scored array è£¡é¢çš„çƒå“¡ Goal 1: Lewandowski for (const [index, item] of game.scored.entries()) console.log(`Goal ${index + 1}: ${item}`); // éœ€è¦ç®—å‡ºteam1 x team2å¹³å‡æ•¸ ç´¯åŠ value / é•·åº¦ const odds = Object.values(game.odds); // [ 1.33, 3.25, 6.5 ] let sum = 0; for (const item of odds) { sum += item; } console.log(sum / odds.length); // åˆ—å°å‡º // Odd of victory Bayern Munich: 1.33 // Odd of draw: 3.25 // Odd of victory Borrussia Dortmund: 6.5  for (const [team, odd] of Object.entries(game.odds)) { // Object.entries(game.odds) // [ [ \u0026#39;team1\u0026#39;, 1.33 ], [ \u0026#39;x\u0026#39;, 3.25 ], [ \u0026#39;team2\u0026#39;, 6.5 ] ]  const teamStr = team === \u0026#34;x\u0026#34; ? \u0026#34;draw\u0026#34; : `victory ${game[team]}`; // æ¯æ¬¡loopå‡ºä¾†çš„teamæ˜¯å­—ä¸²ï¼Œæ‰€ä»¥å¯ä»¥ç”¨é€™å€‹[]æ–¹å¼å–å€¼  console.log(team, odd); } // åˆ†æ•¸çµ±è¨ˆ // scorers = { // Gnarby: 1, // Hummels: 1, // Lewandowski: 2 // }  const scorers = {}; for (const item of game.scored) { // å±¬æ€§å­˜åœ¨ è³¦å€¼+1 ä¸å­˜åœ¨æ™‚è³¦å€¼=1  scorers[item] ? scorers[item]++ : (scorers[item] = 1); } console.log(scorers); // challenge 3 const gameEvents = new Map([ [17, \u0026#34;âš½ï¸ GOAL\u0026#34;], [36, \u0026#34;ğŸ” Substitution\u0026#34;], [47, \u0026#34;âš½ï¸ GOAL\u0026#34;], [61, \u0026#34;ğŸ” Substitution\u0026#34;], [64, \u0026#34;ğŸ”¶ Yellow card\u0026#34;], [69, \u0026#34;ğŸ”´ Red card\u0026#34;], [70, \u0026#34;ğŸ” Substitution\u0026#34;], [72, \u0026#34;ğŸ” Substitution\u0026#34;], [76, \u0026#34;âš½ï¸ GOAL\u0026#34;], [80, \u0026#34;âš½ï¸ GOAL\u0026#34;], [92, \u0026#34;ğŸ”¶ Yellow card\u0026#34;], ]); // å‰µé€ ä¸é‡è¤‡äº‹ä»¶é™£åˆ—ï¼šè¿­ä»£å·¢ç‹€é™£åˆ—çš„valueè®Šæˆä¸€å€‹é™£åˆ— ä¸é‡è¤‡ä½¿ç”¨new Set(array) const events = new Set(gameEvents.values()); console.log(events); // ç§»é™¤mapä¸­64åˆ†é˜çš„è³‡æ–™ gameEvents.delete(64); console.log(gameEvents); // åˆ—å°å‡ºç™¼ç”Ÿäº‹ä»¶avgæ™‚é–“é•·åº¦\u0026#34;An event happened, on average, every 9 minutes\u0026#34; ä¸€å±€90åˆ†é˜ const time = [...gameEvents.keys()].pop(); console.log(time); // 92 æœ‰è¶…é90åˆ†é˜å› æ­¤å¦å¤–è¨ˆç®— console.log( `An event happened, on average, every ${time / gameEvents.size}minutes` ); // åŠ ä¸Šå‰å¾ŒåŠå ´æ¨™ç¤º[FIRST HALF] 17: âš½ï¸ GOAL  for (const [key, value] of gameEvents) { const half = key \u0026lt;= 45 ? \u0026#34;First\u0026#34; : \u0026#34;Second\u0026#34;; console.log(`[${half}HALF]${key}: ${value}`); }   ","date":"2022-01-10T00:00:00+08:00","image":"https://bacnotes.github.io/p/javascript-fundamentals-part3/javascript_hu206ed96a14226138f3215dbd4aa48c79_350158_120x120_fill_box_smart1_3.png","permalink":"https://bacnotes.github.io/p/javascript-fundamentals-part3/","title":"JavaScriptåŸºç¤çŸ¥è­˜è¤‡ç¿’(3)ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"æœ¬æ–‡æ˜¯åŸºæ–¼ä¸‹æ–¹é€™å ‚ Udemy èª²ç¨‹çš„ç­†è¨˜ï¼Œå° React æœ‰èˆˆè¶£çš„è©±å¯ä»¥è³¼è²·çœ‹çœ‹å”· React - The Complete Guide (incl Hooks, React Router, Redux)\nè®“æˆ‘å€‘å¨“å¨“é“ä¾† React çš„å„ç¨®çŸ¥è­˜å§ï¼\n1. ä»€éº¼æ˜¯ Reactï¼Ÿ 1 2  A JavaScript library for building user interfaces. ä¸€å¥—ç”¨ä¾†æ‰“é€ ä½¿ç”¨è€…ä»‹é¢çš„JavaScriptå‡½å¼åº«    React æ˜¯å®¢æˆ¶ç«¯ based(éä¼ºæœå™¨ç«¯é‹ä½œ)ï¼Œåœ¨ç€è¦½å™¨æ“ä½œ DOM è®“äº’å‹•æ€§è®Šé«˜ ä½¿ç”¨ SPA æ¸›å°‘è·Ÿä¼ºæœå™¨çš„æºé€šï¼Œä½¿ç”¨ä¸Šå°±è·Ÿæ‰‹æ©Ÿçš„åŸç”Ÿ APP ä¸€æ¨£é †æš¢ï¼Œæ‰€ä»¥åå­—æ‰å« React æŠ€è¡“ä¸Šä¾†èªª(e.g. è·Ÿ Augular ç›¸æ¯”)React ä¸ç®—æ˜¯ä¸€å€‹å®Œæ•´çš„æ¡†æ¶  ï¼Šä»€éº¼æ˜¯ SPAï¼ˆSingle-page applicationï¼‰\n å–®é æ‡‰ç”¨ï¼Œä¼ºæœå™¨å‚³é€ä¸€æ¬¡ HTMLï¼Œå°±æ¥ç®¡æ•´å€‹é é¢çš„ç”Ÿå‘½é€±æœŸ å¯ä»¥é€é API(e.g. XMLHttpRequest æˆ– Fetch)æ›´æ–°éƒ¨åˆ†ç•«é¢(å…ƒä»¶)æˆ–æ•´å€‹é é¢ Angularã€Reactã€Vue éƒ½æ˜¯ç†±é–€çš„ SPA  2. ç‚ºä»€éº¼ç”¨ React å°é–‹ç™¼è€…å¥½è™•  ä½¿ç”¨ Declarative programming å®£å‘Šå¼ç¨‹å¼è¨­è¨ˆ æè¿°ç›®æ¨™è€Œéæµç¨‹ï¼Œæ¯”èµ·éå¾€ DOM æ“ä½œè¦ä¸€å€‹å€‹é¸å…ƒç´ ï¼Œä¸€å€‹å£ä»¤ä¸€å€‹å‹•ä½œçš„æŒ‡ä»¤å¼ç¨‹å¼è¨­è¨ˆ imperative programmingï¼Œå¯ä»¥è®“æ’°å¯«çš„ç¨‹å¼ç¢¼ç²¾ç°¡ä¸å°‘ ä»¥å…ƒä»¶ç‚ºä¸­å¿ƒ æŠŠè¦–è¦ºå‘ˆç¾ã€è³‡æ–™ç­‰å…ƒç´ æ”¾åœ¨å–®ä¸€æª”æ¡ˆä¸­ï¼Œè¤‡ç”¨æ€§é«˜ï¼Œå¯ä»¥æ¸›å°‘é‡è¤‡ç¨‹å¼ç¢¼ JSX èªæ³• JSX å¹«åŠ©æˆ‘å€‘åŒæ™‚å¯« HTML è·Ÿ JS é‚è¼¯ï¼Œè³‡æ–™è·Ÿäº‹ä»¶çš„ç¶å®šå¯ä»¥ç›´æ¥å¯«åœ¨ HTML ä¸Šï¼Œå¾ˆæ–¹ä¾¿ï¼Œåƒæ˜¯åœ¨ HTML ä¸Šå¯¦ä½œ JS é‚è¼¯ï¼Œä¸”å®¹æ˜“é–±è®€ é—œæ³¨é»åˆ†é›¢ æ¯ä¸€æ¨¡çµ„å„è‡ªæœ‰ç¨ç«‹é—œæ³¨ç„¦é»ï¼Œæœ‰åŠ©æ–¼å¾ŒçºŒå”ä½œè·Ÿç¶­è­· è³‡æ–™é©…å‹•ç•«é¢ ç”¨ useState+é›™å‘ç¶å®š HTML å…ƒç´ ï¼Œè³‡æ–™æœ‰è®Šå‹•ç•«é¢å°±æœƒè®Šå‹• ä¸ç”¨å†å¯«ä¸€å€‹æ¸²æŸ“æŒ‡ä»¤è«‹ç¨‹å¼æ›´æ–°ç•«é¢  å°ä½¿ç”¨è€…å¥½è™•  ä¸éœ€è¦åœ¨æ›é æ™‚è·Ÿä¼ºæœå™¨è¦è³‡æ–™(æ¸›å°‘ç­‰å¾…é‡æ–°æ¸²æŸ“çš„æ™‚é–“)ï¼Œä½¿ç”¨è€…é«”é©—ä½³  3. React.js v.s. Angular v.s. Vue  éƒ½æ˜¯ä»¥å…ƒä»¶ç‚ºä¸­å¿ƒï¼Œè³‡æ–™é©…å‹•ç•«é¢ Reactï¼šå…§å»º framework è¼ƒå°‘ï¼Œå»ºè­°ä½¿ç”¨ JSX èªæ³•ä½†ä¹Ÿå¯ä»¥ç”¨ JavaScript æ’°å¯«ï¼Œä¸æƒ³è·Ÿç”¨ Vue ä¸€æ¨£è¨˜å¤ªå¤šé¡å¤–çš„èªæ³•ï¼Œé©åˆç›´æ¥ä¾† React Angularï¼šç”¨ TypeScript æ’°å¯«ï¼Œæœ‰å¾ˆå¤šå…§å»ºçš„ frameworkï¼Œä¸å¤ªéœ€è¦ç¤¾ç¾¤è³‡æºï¼Œæ¯”è¼ƒè¤‡é›œ Vueï¼šå…§å»º framework æ¯” React å¤šï¼Œæ¯” Angular å°‘ï¼Œæœ‰å¾ˆå¤šèªæ³•ç³–ï¼Œé©åˆåˆå­¸è€…å»ºç«‹æ¡†æ¶èˆ‡ç”Ÿå‘½é€±æœŸè§€å¿µ  4. React å»ºç«‹å°ˆæ¡ˆ CRA(create-react-app)  ç›¸å°å‚³çµ±æ’°å¯«ç¶²é çš„æ–¹å¼ï¼Œåªè¦å»ºç«‹ HTMLã€CSSã€JavaScript ä¸‰å€‹æª”æ¡ˆ React å°ˆæ¡ˆå»ºç«‹ç›¸è¼ƒè¤‡é›œä¸€é»ï¼Œä½¿ç”¨ CRA æŒ‡ä»¤å‰è¦å…ˆå®‰è£ node.js(JavaScript åŸ·è¡Œç’°å¢ƒ)æ‰èƒ½ä½¿ç”¨ npm/npx ç­‰æŒ‡ä»¤ä¸‹è¼‰ç›¸é—œæ¨¡çµ„(è¨˜å¾—ä¸‹è¼‰æ™‚ç¶²è·¯è¦é †æš¢)  1 2 3 4 5  // cdåˆ°å°ˆæ¡ˆè³‡æ–™å¤¾ å°ˆæ¡ˆåä»¥new-appç‚ºç¯„ä¾‹ npx create-react-app new-app cd new-app npm start // å¯ä»¥åœ¨localhost 3000çœ‹åˆ°    CRA å…§å»º Babel å’Œ Webpack å¹«ä½ æŠŠ JSX è½‰æˆç€è¦½å™¨å¯ä»¥è§£æçš„ HTMLã€CSSã€JavaScript  5. VSCode å®‰è£ Prettier format document é¸æ“‡ prettier  è‹¥åŒæ™‚æœƒä½¿ç”¨ Vue æˆ– Javascript é–‹ç™¼ä¸åŒå°ˆæ¡ˆï¼Œå»ºè­° VSCode è¨­å®šæª” by æ¡†æ¶/èªè¨€è¨­å®šæ ¼å¼åŒ–çš„é è¨­å¥—ä»¶åŠ formatOnSave é¸é …  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  { // JavaScript  \u0026#34;[javascript]\u0026#34;: { \u0026#34;editor.defaultFormatter\u0026#34;: \u0026#34;esbenp.prettier-vscode\u0026#34;, \u0026#34;editor.formatOnSave\u0026#34;: true }, // vue  \u0026#34;[vue]\u0026#34;: { \u0026#34;editor.formatOnSave\u0026#34;: true, \u0026#34;editor.defaultFormatter\u0026#34;: \u0026#34;esbenp.prettier-vscode\u0026#34; }, // react JSX  \u0026#34;[javascriptreact]\u0026#34;: { \u0026#34;editor.formatOnSave\u0026#34;: true, \u0026#34;editor.defaultFormatter\u0026#34;: \u0026#34;esbenp.prettier-vscode\u0026#34; }, }   åƒè€ƒæ–‡ç« ï¼šVSCode does not format JSX Correctly\nå•Ÿç”¨ emmet snippet ç¸®å¯«  è¨­å®šæª”å¯«å…¥  1 2 3 4 5  { \u0026#34;emmet.includeLanguages\u0026#34;: { \u0026#34;javascript\u0026#34;: \u0026#34;javascriptreact\u0026#34; }, }    ä½¿ç”¨ rcc æˆ– rfcï¼ˆè¶¨å‹¢) ä¾†å¹«åŠ©ä½ åŠ é€Ÿé–‹ç™¼å§  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  // rcc class component import React, { Component } from \u0026#39;react\u0026#39;; class å…ƒä»¶å extends Component { render() { return ( \u0026lt;div\u0026gt; \u0026lt;/div\u0026gt; ); } } export default å…ƒä»¶å; // rfc function component import React from \u0026#39;react\u0026#39;; const å…ƒä»¶å = () =\u0026gt; { return ( \u0026lt;div\u0026gt; \u0026lt;/div\u0026gt; ); } export default å…ƒä»¶å;   åƒè€ƒæ–‡ç« ï¼šEnable Emmet support for JSX in Visual Studio Code | React\n6. é–‹ç™¼å°ˆæ¡ˆå‰ç’°å¢ƒæ•´ç†  å¦‚æœåªæ˜¯è¦ç°¡å–®é–‹ç™¼ä¸€å€‹ React ç¨‹å¼ï¼Œå¿…è¦çš„æª”æ¡ˆæœ‰ App.jsã€index.cssã€index.js ç§»é™¤ä¸éœ€è¦çš„ import  1 2 3 4 5  // App.js function App() { return \u0026lt;div\u0026gt;Hello\u0026lt;/div\u0026gt;; } export default App;    npm run start è§€çœ‹å³æ™‚ Hot Reload ç•«é¢  7. äº†è§£ React é‹ä½œæ–¹å¼è·Ÿå…ƒä»¶   åœ¨ 2020 React17 æ›´æ–°å¾Œä¸ç”¨åœ¨æ¯å€‹å®¢è£½åŒ–å…ƒä»¶æœ€ä¸Šæ–¹ import React from 'react'ï¼ŒBabel é‡åˆ° JSX å°±æœƒå¹«æˆ‘å€‘è™•ç†ï¼Œä¸”è·Ÿéå¾€çš„ JSX ç¨‹å¼ç¢¼ç›¸å®¹\n  ä½†è¨˜å¾— index.js entry point é€™é‚Šçš„ import React from 'react'ä¸èƒ½æ‹¿æ‰\n  å°æ–¼ JSX è½‰æ›ç´°ç¯€æœ‰èˆˆè¶£çš„äººå¯ä»¥åƒè€ƒé€™ç¯‡æ–‡ç« Introducing the New JSX Transform\n  1 2 3 4 5 6  // Inserted by a compiler (don\u0026#39;t import it yourself!) import { jsx as _jsx } from \u0026#34;react/jsx-runtime\u0026#34;; function App() { return _jsx(\u0026#34;h1\u0026#34;, { children: \u0026#34;Hello world\u0026#34; }); }     SPA æ˜¯é‡å° server å›å‚³çš„å–®é  HTML åšè®Šå‹•ï¼Œä¹Ÿå°±æ˜¯\u0026lt;body\u0026gt; ä¸­ id=\u0026lsquo;root\u0026rsquo;å€å¡Š\n  è€Œ \u0026lt;App /\u0026gt;æ˜¯ä¸€å€‹ JavaScript function å›å‚³ JSX codeï¼Œæˆ‘å€‘ä¸æœƒåœ¨ç€è¦½å™¨ element å€å¡Šçœ‹åˆ°\u0026lt;App /\u0026gt;è£¡é¢çš„ JSX å…§å®¹(å› ç€è¦½å™¨ä¸æ‡‚ JSX çš„å…§å®¹) è€Œæ˜¯æœƒ render å‡º Babel è½‰è­¯\u0026lt;App /\u0026gt;å¾Œçš„å…§å®¹\n  1 2 3  import React from \u0026#34;react\u0026#34;; import ReactDOM from \u0026#34;react-dom\u0026#34;; ReactDom.render(\u0026lt;App /\u0026gt;, document.getElementById(\u0026#34;root\u0026#34;));   8. å…ƒä»¶æ·»åŠ  CSS æ¨£å¼ä½¿ç”¨ className è€Œé class  å› ç‚º class æ˜¯ JavaScript çš„ä¿ç•™å­—ï¼Œè€Œ JSX æ˜¯ JavaScript çš„å»¶ä¼¸èªæ³•ï¼Œæ‰€ä»¥ä¸ä½¿ç”¨ class  1 2 3 4 5 6 7 8  function APP() { return ( \u0026lt;div\u0026gt; \u0026lt;h1 className=\u0026#39;container\u0026#39;\u0026gt;Hello\u0026lt;/h1\u0026gt; \u0026lt;/div\u0026gt; ); } export default App;   9. ä½¿ç”¨å…ƒä»¶å¢åŠ è¤‡ç”¨æ€§  ä¸‹æ–¹æ˜¯ä¸€å€‹å…ƒä»¶ç¯„ä¾‹ï¼Œä¸€èˆ¬æœƒæ”¾åœ¨ src/components ä¸‹ï¼Œæª”æ¡ˆå‘½åå»ºè­°å¤§å¯«é–‹é ­ å…ƒä»¶ä¿æŒç²¾ç°¡ï¼Œä¸€å€‹å…ƒä»¶å°ˆå¿ƒåšä¸€ä»¶äº‹ï¼Œé™ä½è€¦åˆ  1 2 3 4 5 6 7 8 9 10 11 12 13  // å®¢è£½åŒ–å…ƒä»¶å¤§å¯«å‘½åï¼Œè·Ÿå…§å»ºHTMLå…ƒç´ åšå€éš” function Todo() { return ( \u0026lt;div className=\u0026#39;container\u0026#39;\u0026gt; \u0026lt;h2\u0026gt;Title\u0026lt;/h2\u0026gt; \u0026lt;div className=\u0026#39;actions\u0026#39;\u0026gt; \u0026lt;span\u0026gt;A span\u0026lt;/span\u0026gt; \u0026lt;button className=\u0026#39;btn\u0026#39;\u0026gt;Delete\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ); } export default Todo;    å¼•ç”¨å…ƒä»¶åˆ° App.js è¦å…ˆ import  1 2 3 4 5 6 7 8 9 10 11 12  // App.js import Todo from \u0026#34;./components/Todo\u0026#34;; function APP() { return ( \u0026lt;div\u0026gt; \u0026lt;h1 className=\u0026#39;container\u0026#39;\u0026gt;Hello\u0026lt;/h1\u0026gt; \u0026lt;Todo /\u0026gt; \u0026lt;Todo /\u0026gt; \u0026lt;/div\u0026gt; ); } export default App;   10. çˆ¶å±¤é€é props å‚³è³‡æ–™åˆ°å­å±¤å…ƒä»¶  {}æ”¾å…¥è¡¨é”å¼ ï¼Œç”¨åŒæ¨£é‚è¼¯æ¸²æŸ“å‡ºä¸åŒçš„è³‡æ–™  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29  // App.js // è³‡æ–™å‚³å…¥å­å±¤ import Todo from \u0026#39;./components/Todo\u0026#39; function APP () { return ( \u0026lt;div\u0026gt; \u0026lt;h1 className=\u0026#39;container\u0026#39;\u0026gt;Hello\u0026lt;/h1\u0026gt; \u0026lt;Todo text=\u0026#39;Learn React\u0026#39;/\u0026gt; \u0026lt;Todo text=\u0026#39;Master React\u0026#39;/\u0026gt; \u0026lt;/div\u0026gt; ) } export default App // å…ƒä»¶ Todo.js // åˆ©ç”¨propsæ”¶åˆ°çš„å‹•æ…‹è³‡æ–™ï¼Œæ¸²æŸ“å‡º2é …Todo function Todo(props) { return ( \u0026lt;div className=\u0026#39;container\u0026#39;\u0026gt; \u0026lt;h2\u0026gt;{props.text}\u0026lt;/h2\u0026gt; \u0026lt;div className=\u0026#39;actions\u0026#39;\u0026gt; \u0026lt;span\u0026gt;A span\u0026lt;/span\u0026gt; \u0026lt;button className=\u0026#39;btn\u0026#39;\u0026gt;Delete\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ) } export default Todo;   11. è¨­ç½®èˆ‡ç›£è½äº‹ä»¶  éœ€ç†è§£ React è£¡é¢çš„ JSX ä¸ç­‰æ–¼ HTMLï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ HTML inline JavaScript äº‹ä»¶çš„å€¼æ‡‰è©²æ˜¯ä¸€å€‹è¡¨é”å¼æ‰€ä»¥ç”¨ onClick={} å¯ä»¥å¯«æˆåŒ¿åå‡½å¼ onClick={function(){}}æˆ–ç®­é ­å‡½å¼ onClick={()â‡’{}} ä½†å»ºè­°æŒ‡å‘å¦ä¸€å€‹ functionï¼Œä¿æŒ HTML ç²¾ç°¡(å¯«åœ¨ return å‰çš„å€å¡Š)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  // å…ƒä»¶ Todo.js ä¸‹æ–¹æ˜¯ä¸€å€‹ delete äº‹ä»¶ function Todo(props) { // å‘½åé€šå¸¸æ˜¯xxxHandler  function openModalHandler() { console.log(\u0026#34;click\u0026#34;, props.text); } return ( \u0026lt;div className=\u0026#39;container\u0026#39;\u0026gt; \u0026lt;h2\u0026gt;{props.text}\u0026lt;/h2\u0026gt; \u0026lt;div className=\u0026#39;actions\u0026#39;\u0026gt; \u0026lt;span\u0026gt;A span\u0026lt;/span\u0026gt; // openModalHandleré€™é‚Šä¸æœƒåŠ ä¸ŠåŸ·è¡Œ() ç­‰è§¸ç™¼æ‰åŸ·è¡Œ  \u0026lt;button onClick={openModalHandler} className=\u0026#39;btn\u0026#39;\u0026gt; Delete \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ); } export default Todo;   12. å¼•å…¥å¤šå€‹å…ƒä»¶  ä»¥æç¤ºçª—ç‚ºä¾‹ï¼Œéœ€è¦ä¸€å€‹ backdrop è¦†è“‹ modal å¾Œé¢çš„èƒŒæ™¯ï¼Œè·Ÿä¸€å€‹ modal  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  function Backdrop(props) { return \u0026lt;div className=\u0026#39;backdrop\u0026#39; /\u0026gt;; } function Modal(props) { return ( \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;Are you sure?\u0026lt;/p\u0026gt; \u0026lt;button className=\u0026#39;btn btn--alt\u0026#39;\u0026gt;Cancel\u0026lt;/button\u0026gt; \u0026lt;button className=\u0026#39;btn\u0026#39;\u0026gt;Delete\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; ); } export default Modal;    å…©å€‹éƒ½å¼•å…¥åˆ° App  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  // App.js import Todo from \u0026#34;./components/Todo\u0026#34;; import Modal from \u0026#34;./components/Modal\u0026#34;; import Backdrop from \u0026#34;./components/Backdrop\u0026#34;; function APP() { return ( \u0026lt;div\u0026gt; \u0026lt;h1 className=\u0026#39;container\u0026#39;\u0026gt;Hello\u0026lt;/h1\u0026gt; \u0026lt;Todo text=\u0026#39;Learn React\u0026#39; /\u0026gt; \u0026lt;Todo text=\u0026#39;Master React\u0026#39; /\u0026gt; \u0026lt;Modal /\u0026gt; \u0026lt;Backdrop /\u0026gt; \u0026lt;/div\u0026gt; ); } export default App;   13. useState ç´€éŒ„ç¶²é  Stateï¼Œè·Ÿä½¿ç”¨è€…äº’å‹•  useState æ˜¯ React ä¸€å€‹ Hookï¼ŒHook æ˜¯ä¸€å€‹å…§å»º functionï¼ŒuseState æ˜¯ç”¨ä¾†æ“ä½œç‹€æ…‹çš„ hook æˆ‘å€‘è¨»å†Šä¸åŒçš„ Stateï¼ŒReact æœƒåœ¨ State æ”¹è®Šæ™‚ render ä¸åŒæ±è¥¿ const [state, setState] = useState(initialState setState(newState);  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  // useState æ˜¯ä¸€å€‹ functionï¼Œå› ç‚ºæ˜¯ç¬¬ä¸‰æ–¹å‡½å¼åº«ä¸ç”¨å¯«è·¯å¾‘ import { useState } from â€˜reactâ€™ function SomeFunction(){ // useState æœƒå›å‚³é™£åˆ—ï¼Œå…§æœ‰ 2 å€‹å…ƒç´ ï¼Œå¯ä»¥å®šç¾©åˆå§‹å€¼åƒæ•¸ // useState è¦æ”¾åœ¨å…ƒä»¶ function å…§ç¬¬ä¸€å±¤ï¼Œä¸èƒ½å·¢ç‹€åˆ° const [variable, setVariable] = useState(initialValue) return ( \u0026lt;div\u0026gt; ... \u0026lt;/div\u0026gt; ); } export default SomeFunction   ç‚ºä»€éº¼æˆ‘é‡æ–°è³¦å€¼çš„è®Šæ•¸ç•«é¢æ²’æœ‰æ›´æ–°ï¼Ÿ ç„¡æ³•é€éé‡æ–°è³¦å€¼ è®Šæ•¸ çš„å€¼ä¾†æ›´æ–°ç•«é¢\n æ›´æ”¹å€¼æœƒéœ€è¦å‘¼å«é™£åˆ—çš„ç¬¬äºŒå€‹åƒæ•¸(ä¸€å€‹ callback function)æ›´æ–°åˆå§‹å€¼(ä»¥ä¸‹æ–¹ç¯„ä¾‹ä¾†èªªæ˜¯ setModalIsOpen) å‘¼å« useState çš„æ™‚å€™ React æ‰æœƒé‡æ–°åŸ·è¡Œ State æ‰€å±¬çš„å…ƒä»¶ï¼Œä¸¦é‡æ–°æ›´æ–°è³‡æ–™è·Ÿç•«é¢ ï¼Šä¸é€™éº¼åšçš„è©±ç•«é¢æ˜¯ä¸æœƒé‡æ–°æ¸²æŸ“çš„ï¼ˆä¹Ÿå°±æ˜¯è·‘ä¸€æ¬¡ä¸‹æ–¹çš„ return çš„ JSX)ã€‚ æˆ‘å€‘æœƒç”¨ setModalIsOpen ä¾†æ›´æ–°å€¼ï¼Œç”¨ modalIsOpen åˆ¤æ–·æ¢ä»¶æ¸²æŸ“ JSX çš„ç¨‹å¼ç¢¼  ï¼ŠHook æœ‰å¾ˆå¤šç¨®ï¼Œå®˜æ–¹æ–‡ä»¶æœ‰åˆ—å‡ºæ‰€æœ‰çš„ Hook API\n useEffect å¯ä»¥ fetch è³‡æ–™ã€è¨‚é–±ã€æˆ–æ“ä½œ DOM useRef å¯ä»¥æŠ“å– Dom å…ƒç´ ï¼Œç²å–è¡¨å–®çš„ value(ä½†æ›´æ–° current å€¼ä¸æœƒé‡æ–°æ¸²æŸ“ç•«é¢) useContext å¯ä»¥ç®¡ç†å…¨åŸŸç‹€æ…‹ç­‰ï¼Œä¸‹æ–¹æœƒç¹¼çºŒä»‹ç´¹  åŒå±¤ç›£è½ï¼šclick é–‹å•Ÿåˆªé™¤ç¢ºèª modal 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  // Todo.js å…ƒä»¶  import { useState } from \u0026#34;react\u0026#34;; import Modal from \u0026#34;./Modal\u0026#34;; import Backdrop from \u0026#34;./Backdrop\u0026#34;; function Todo(props) { const [modalIsOpen, setModalIsOpen] = useState(false); function deleteHandler() { setModalIsOpen(true); } return ( \u0026lt;div className=\u0026#39;card\u0026#39;\u0026gt; \u0026lt;h2\u0026gt;{props.text}\u0026lt;/h2\u0026gt; \u0026lt;div className=\u0026#39;actions\u0026#39;\u0026gt; // é»æ“Šè§¸ç™¼ä¸Šå±¤function  \u0026lt;button className=\u0026#39;btn\u0026#39; onClick={deleteHandler}\u0026gt; Delete \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; {modalIsOpen \u0026amp;\u0026amp; \u0026lt;Modal /\u0026gt;} {modalIsOpen \u0026amp;\u0026amp; \u0026lt;Backdrop /\u0026gt;} \u0026lt;/div\u0026gt; ); }   çˆ¶å±¤ç›£è½å­å±¤ï¼šclick é—œé–‰åˆªé™¤ç¢ºèª modal  å­å…ƒä»¶è§¸ç™¼äº‹ä»¶ï¼Œæ–¹æ³•å¯«åœ¨çˆ¶å±¤ onClick ç›£è½æ˜¯è§¸ç™¼åŒå±¤ functionï¼Œè£¡é¢åŒ…è£¹ props å‚³ä¸‹ä¾†çš„çˆ¶å±¤æ–¹æ³•(Passing Function As Props) ç¯„ä¾‹ç‚ºé» Cancel è·Ÿ Delete æŒ‰éˆ•æœƒé—œé–‰ modal  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54  // Todo.js å…ƒä»¶ import Modal from \u0026#34;./components/Modal\u0026#34;; import Backdrop from \u0026#34;./components/Backdrop\u0026#34;; function Todo(props) { const [modalIsOpen, setModalIsOpen] = userState(false); function openModalHandler() { setModalIsOpen(true); } function closeModalHandler() { setModalIsOpen(false); } return ( \u0026lt;div className=\u0026#39;container\u0026#39;\u0026gt; \u0026lt;h2\u0026gt;{props.text}\u0026lt;/h2\u0026gt; \u0026lt;div className=\u0026#39;actions\u0026#39;\u0026gt; \u0026lt;button onClick={openModalHandler} className=\u0026#39;btn\u0026#39;\u0026gt; Delete \u0026lt;/button\u0026gt; {modalIsOpen \u0026amp;\u0026amp; ( \u0026lt;Modal onCancel={closeModalHandler} onConfirm={openModalHandler} /\u0026gt; )} // é€épropså‚³ä¸‹å»key value è®“å­å±¤è§¸ç™¼åŸ·è¡Œ  {modalIsOpen \u0026amp;\u0026amp; \u0026lt;Backdrop onCancel={closeModalHandler} /\u0026gt;} \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ); } // Modal.js function Modal(props) { function cancelHandler() { // åŸ·è¡ŒonCancel çˆ¶å±¤æ–¹æ³• é—œé–‰modal  props.onCancel(); } function confirmHandler() { // åŸ·è¡ŒonCancel çˆ¶å±¤æ–¹æ³• é—œé–‰modal  props.onConfirm(); } return ( \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;Are you sure?\u0026lt;/p\u0026gt; \u0026lt;button onClick={cancelHandler} className=\u0026#39;btn btn--alt\u0026#39;\u0026gt; Cancel \u0026lt;/button\u0026gt; \u0026lt;button onClick={confirmHandler} className=\u0026#39;btn\u0026#39;\u0026gt; Delete \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; ); } export default Modal;   ï¼ŠonCancel æ˜¯é›¢é–‹ä¸€å€‹ dialog å…ƒç´ æœƒè§¸ç™¼çš„äº‹ä»¶(e.g. é»é®ç½©æˆ–å³ä¸Šè§’ xï¼Œæˆ–å–æ¶ˆæŒ‰éˆ•) ï¼ŠonConfirm æ˜¯é»ç¢ºèª\n14. åŠ ä¸Šè·¯ç”±  éœ€è¦å®‰è£å¥—ä»¶ï¼ˆä¸åŒ…å«åœ¨ CRA)  1  npm install --save react-router-dom@5    å»ºè­°åŠ ä¸Š src/pages è³‡æ–™å¤¾ï¼Œæ¯”è¼ƒå¥½æ‰¾åˆ°å°æ‡‰å…ƒä»¶  1 2 3 4 5 6 7 8 9 10 11  // å»ºç«‹é€™ä¸‰å€‹æª”æ¡ˆåœ¨pagesè£¡é¢ AllMeetups.js å‘½åPageå¹«åŠ©æˆ‘å€‘çŸ¥é“é€™å€‹å…ƒä»¶æ˜¯ä¸€å€‹é é¢ function AllMetupsPage(){ return ( \u0026lt;div\u0026gt;AllMetupsPage\u0026lt;/div\u0026gt; ) } export default AllMeetupsPage Favorites.js NewMeetup.js åŒä¸Šé‚è¼¯ æ”¹divå…§å®¹è·Ÿfunctionåå­—è·Ÿexportåå³å¯    æˆ‘å€‘ä½¿ç”¨ BrowserRouter å¥—ä»¶å»å®šç¾©å“ªäº›é é¢ä½•æ™‚è¦ load  1 2 3 4 5 6 7 8  // index.js import { BrowserRouter } from \u0026#34;react-router-dom\u0026#34;; // åˆå§‹åŒ–å¥—ä»¶ ç¢ºä¿ä»–æœ‰åœ¨è§€å¯Ÿurl RouterDOM.render( \u0026lt;BrowserRouter\u0026gt; \u0026lt;APP /\u0026gt; \u0026lt;/BrowserRouter\u0026gt; );    æ­é…ä½¿ç”¨ Switch æ¸²æŸ“ç¬¬ä¸€å€‹ç¬¦åˆè·¯å¾‘çš„å…ƒä»¶  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  // App.js import { Route } from \u0026#34;react-router-dom\u0026#34;; import AllMeetupsPage from \u0026#34;./pages/AllMeetups\u0026#34;; import NewMeetupsPage from \u0026#34;./pages/NewMeetups\u0026#34;; import FavoritesPage from \u0026#34;./pages/Favorites\u0026#34;; function App() { return ( \u0026lt;div\u0026gt; \u0026lt;Switch\u0026gt; // é¿å…/å·¢ç‹€é‡è¤‡å‡ºç¾å¤šå€‹é é¢å…§å®¹ ä¹Ÿå¯ä»¥ç›´æ¥exact  \u0026lt;Route path=\u0026#39;/\u0026#39; exact={true}\u0026gt; \u0026lt;AllMeetupsPage /\u0026gt; \u0026lt;/Route\u0026gt; \u0026lt;Route path=\u0026#39;/newmeetup\u0026#39;\u0026gt; \u0026lt;NewMeetupsPage /\u0026gt; \u0026lt;/Route\u0026gt; \u0026lt;Route path=\u0026#39;/favorites\u0026#39;\u0026gt; \u0026lt;FavoritesPage /\u0026gt; \u0026lt;/Route\u0026gt; \u0026lt;/Switch\u0026gt; \u0026lt;/div\u0026gt; ); } export default App;   15. ç”¨å°è¦½åˆ—ä¾†ç·´ç¿’ Link  å°è¦½åˆ—ä¸€èˆ¬æœƒè¨­ç½®åœ¨ src ä¸‹æ–¹è³‡æ–™å¤¾ layoutï¼Œå› ç‚ºæ˜¯æ•´é«”ä½ˆå±€çš„å…ƒä»¶ a hrefå±¬æ€§å¯ä»¥ç”¨ï¼Œä½†æˆ‘å€‘ä¸æƒ³ç”¨ä¼ºæœå™¨å‚³ HTMLï¼Œå¤±å» SPA å„ªå‹¢ import link å…ƒä»¶ï¼Œæœƒæ­é…toå±¬æ€§åŠ å…¥è·¯å¾‘ä½¿ç”¨ \u0026lt;Link\u0026gt;tag è‡ªå‹•åœ¨ DOM åŠ å…¥ç›£è½ï¼Œé˜»æ“‹ç€è¦½å™¨é è¨­è¡Œç‚ºé€å‡ºè«‹æ±‚ ä¸”åªæœƒè§£æ urlï¼Œä¿®æ”¹ç¶²å€åˆ—è·Ÿ load ç›¸å°æ‡‰çš„å…ƒä»¶(React/JavaScript)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  // MainNavigation.js  import { Link } from \u0026#39;react-router-dom\u0026#39; function MainNavigation() { return ( \u0026lt;header\u0026gt; \u0026lt;div\u0026gt; React Meetups\u0026lt;/div\u0026gt; \u0026lt;nav\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt; \u0026lt;Link to=\u0026#39;/\u0026#39;\u0026gt;All Meetups\u0026lt;/Link\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li\u0026gt; \u0026lt;Link to=\u0026#39;/newMeetup\u0026#39;\u0026gt;Add New Meetups\u0026lt;/Link\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li\u0026gt; \u0026lt;Link to=\u0026#39;/favorites\u0026#39;\u0026gt;My favorites\u0026lt;/Link\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;/nav\u0026gt; \u0026lt;/header\u0026gt; ) } export default MainNavigation    å°è¦½åˆ— å¼•å…¥ App.js  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  // App.js import { Route } from \u0026#34;react-router-dom\u0026#34;; import AllMeetupsPage from \u0026#34;./pages/AllMeetups\u0026#34;; import NewMeetupsPage from \u0026#34;./pages/NewMeetups\u0026#34;; import FavoritesPage from \u0026#34;./pages/Favorites\u0026#34;; import MainNavigation from \u0026#34;./components/layout/MainNavigation\u0026#34;; function App() { return ( \u0026lt;div\u0026gt; \u0026lt;MainNavigation /\u0026gt; \u0026lt;Switch\u0026gt; \u0026lt;Route path=\u0026#39;/\u0026#39; exact={true}\u0026gt; \u0026lt;AllMeetupsPage /\u0026gt; \u0026lt;/Route\u0026gt; \u0026lt;Route path=\u0026#39;/newmeetup\u0026#39;\u0026gt; \u0026lt;NewMeetupsPage /\u0026gt; \u0026lt;/Route\u0026gt; \u0026lt;Route path=\u0026#39;/favorites\u0026#39;\u0026gt; \u0026lt;FavoritesPage /\u0026gt; \u0026lt;/Route\u0026gt; \u0026lt;/Switch\u0026gt; \u0026lt;/div\u0026gt; ); } export default App;   16. CSS modules ä¾†ç‚ºå…ƒä»¶åŠ ä¸Šæ¨£å¼  CRA æœ¬èº«æœ‰å…§å»º CSS modules éœ€è¦åœ¨æª”åä½¿ç”¨ module.css å¼•å…¥åç¨±è‡ªè¨‚(e.g. classes)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  // MainNavigation.js // classesæœƒè®Šæˆä¸€å€‹ç‰©ä»¶ import classes from \u0026#39;./MainNavigation.module.css\u0026#39; import { Link } from \u0026#39;react-router-dom\u0026#39; function MainNavigation() { return ( //module.cssè£¡é¢çš„cssæ¨£å¼æœƒè®Šæˆkey value pair  \u0026lt;header className={classes.header}\u0026gt; \u0026lt;div className={classes.logo}\u0026gt; React Meetups\u0026lt;/div\u0026gt; \u0026lt;nav\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt; \u0026lt;Link to=\u0026#39;/\u0026#39;\u0026gt;All Meetups\u0026lt;/Link\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li\u0026gt; \u0026lt;Link to=\u0026#39;/newMeetup\u0026#39;\u0026gt;Add New Meetups\u0026lt;/Link\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li\u0026gt; \u0026lt;Link to=\u0026#39;/favorites\u0026#39;\u0026gt;My favorites\u0026lt;/Link\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;/nav\u0026gt; \u0026lt;/header\u0026gt; ) } export default App   17. ä½¿ç”¨ map è¿´åœˆæ¸²æŸ“è³‡æ–™ React èƒ½æ¸²æŸ“å‡º JSX å…ƒç´ è£¡çš„é™£åˆ—  JSX expression{[\u0026lt;li\u0026gt;item1\u0026lt;/li\u0026gt;, \u0026lt;li\u0026gt;item2\u0026lt;/li\u0026gt;]} æˆ–ç”¨ map æ–¹æ³•æŠŠå…ƒç´  return å‡ºä¾†  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33  // pages/AllMeetup.js const DUMMY_DATA = [ { id: \u0026#34;m1\u0026#34;, title: \u0026#34;This is a first meetup\u0026#34;, image: \u0026#34;https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Stadtbild_M%C3%BCnchen.jpg/2560px-Stadtbild_M%C3%BCnchen.jpg\u0026#34;, address: \u0026#34;Meetupstreet 5, 12345 Meetup City\u0026#34;, description: \u0026#34;This is a first, amazing meetup which you definitely should not miss. It will be a lot of fun!\u0026#34;, }, { id: \u0026#34;m2\u0026#34;, title: \u0026#34;This is a second meetup\u0026#34;, image: \u0026#34;https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Stadtbild_M%C3%BCnchen.jpg/2560px-Stadtbild_M%C3%BCnchen.jpg\u0026#34;, address: \u0026#34;Meetupstreet 5, 12345 Meetup City\u0026#34;, description: \u0026#34;This is a first, amazing meetup which you definitely should not miss. It will be a lot of fun!\u0026#34;, }, ]; function AllMeetupsPage() { return ( \u0026lt;section\u0026gt; \u0026lt;h1\u0026gt;AllMeetupsPage\u0026lt;/h1\u0026gt; {DUMMY_DATA.map((el) =\u0026gt; { return \u0026lt;li key={el.id}\u0026gt;{el.title}\u0026lt;/li\u0026gt;; })} \u0026lt;/section\u0026gt; ); } export default AllMeetupsPage;   è¿´åœˆçš„å…ƒç´ è¨­ç½® å”¯ä¸€å€¼çš„ key  å‚³çµ±æ¼”ç®—æ³•æ¯”å°å…©å€‹ç¯€é»å·®ç•°ï¼Œæ™‚é–“è¤‡é›œåº¦ç‚º O çš„ 3 æ¬¡æ–¹ ç‚ºäº†æ¸²æŸ“çš„æ•ˆèƒ½ï¼ŒReact ä½¿ç”¨ heuristic æ¼”ç®—æ³•æ¯”è¼ƒå…§å®¹è®Šå‹•çš„å…ƒç´ ï¼Œä½†ä¹Ÿå¯èƒ½å› ç‚ºæ²’æœ‰æ¯”å°å¥½(éƒ¨åˆ†æ¼”ç®—æ³•å‡è¨­è·Ÿç¾å¯¦ä¸ç¬¦)é€ æˆæ¸²æŸ“å‡ºéŒ¯èª¤çš„å…ƒç´  é€éè¨­ç½® key å‘Šè¨´ React ä½ æ”¹å‹•çš„å…ƒç´ ï¼Œè€Œéè®“ React è‡ªå·±æ¯”è¼ƒå…ƒç´ å…§å®¹å·®ç•° é¿å…ä½¿ç”¨ index(å…ƒç´ å®Œå…¨ä½ç§»), Math.random(key å€¼éå›ºå®š)ç­‰æ–¹å¼ä¾†å»ºç«‹ key  18. å®¢è£½åŒ–å…ƒä»¶çš„å…¶ä»–ä½¿ç”¨æ–¹å¼ï¼Œç›®çš„åœ¨æ–¼è®“å…ƒä»¶å°ˆæ³¨åœ¨ä¸€ä»¶äº‹ å…ƒä»¶ä½œç‚ºå®¹å™¨ Wrapper/Container ä½¿ç”¨  è¨­å®š Container åŒ…è£¹ children å…§å®¹  1 2 3 4 5 6 7  import classes from \u0026#34;./Container.module.css\u0026#34;; // å¼•å…¥props.children childrenæ˜¯æ¯å€‹å…ƒä»¶éƒ½å¯ä»¥ç²å–çš„é è¨­å±¬æ€§ï¼Œå€¼æ˜¯tagåŒ…è¦†çš„å…§å®¹ function Container(props) { return \u0026lt;div className={classes.container}\u0026gt;{props.children}\u0026lt;/div\u0026gt;; } export default Container;    div å¤–ç”¨ Container åŒ…è£¹  1 2 3 4 5 6 7 8  import Container from \u0026#34;../ui/Container\u0026#34;; function MeetUpItem(props) { return ( \u0026lt;Container\u0026gt; \u0026lt;div\u0026gt;some content\u0026lt;/div\u0026gt; \u0026lt;/Container\u0026gt; ); }   å…ƒä»¶ä½œç‚º Layout ä½¿ç”¨(æ’ç‰ˆ body å…§å®¹)  Layout æ”¾å°è¦½åˆ—è·Ÿèªæ„åŒ–æ¨™ç±¤ main åŒ…è£¹å…¶ä»–å…§å®¹ åœ¨ components/layout è³‡æ–™å¤¾è£½ä½œä¸€å€‹ Layout.js  1 2 3 4 5 6 7 8 9 10 11 12  import MainNavigation from \u0026#34;./MainNavigation\u0026#34;; import classes from \u0026#34;./Layout.module.css\u0026#34;; function Layout(props) { return ( \u0026lt;div\u0026gt; \u0026lt;MainNavigation /\u0026gt; \u0026lt;main className={classes.main}\u0026gt;{props.children}\u0026lt;/main\u0026gt; \u0026lt;/div\u0026gt; ); } export default Layout;    Layout åŒ…è£¹è·¯ç”±å…§å®¹  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  // App.js import { Route } from \u0026#39;react-router-dom\u0026#39;; import AllMeetupsPage from \u0026#39;./pages/AllMeetups\u0026#39;; import NewMeetupsPage from \u0026#39;./pages/NewMeetups\u0026#39;; import FavoritesPage from \u0026#39;./pages/Favorites\u0026#39;; // æ‹¿æ‰ä¹‹å‰çš„MainNavigation æ›æˆLayout import Layout from \u0026#39;./components/layout/Layout\u0026#39;; function App() { return ( \u0026lt;div\u0026gt; \u0026lt;Layout\u0026gt; \u0026lt;Switch\u0026gt; \u0026lt;Route path=\u0026#39;/\u0026#39; exact={true}\u0026gt; \u0026lt;AllMeetupsPage /\u0026gt; \u0026lt;/Route\u0026gt; \u0026lt;Route path=\u0026#39;/newmeetup\u0026#39;\u0026gt; \u0026lt;NewMeetupsPage /\u0026gt; \u0026lt;/Route\u0026gt; \u0026lt;Route path=\u0026#39;/favorites\u0026#39;\u0026gt; \u0026lt;FavoritesPage /\u0026gt; \u0026lt;/Route\u0026gt; \u0026lt;/Layout\u0026gt; \u0026lt;/div\u0026gt; ); } export default App;   19. åŠ ä¸Šè¡¨å–®  Page æ–°å¢ä¸€é  è£¡é¢æ”¾è¡¨å–®å…ƒä»¶  1 2 3 4 5 6 7 8 9  function NewMeetupPage() { return ( \u0026lt;section\u0026gt; \u0026lt;h1\u0026gt;Add New Meetup\u0026lt;/h1\u0026gt; \u0026lt;NewMeetupFrom\u0026gt; \u0026lt;/section\u0026gt; ); } export default NewMeetupPage;    æ–°å¢è¡¨å–®å…ƒä»¶ for å±¬æ€§åœ¨ React è¦å¯«æˆ htmlFor  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35  // NewMeetupForm.js import Container from \u0026#34;../ui/Container\u0026#34;; import classes from \u0026#34;./NewMeetupForm.module.css\u0026#34;; function NewMeetupForm() { return ( \u0026lt;Container\u0026gt; \u0026lt;form className={classes.form}\u0026gt; \u0026lt;div className={classes.control}\u0026gt; \u0026lt;label htmlFor=\u0026#39;title\u0026#39;\u0026gt;Title\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;text\u0026#39; id=\u0026#39;title\u0026#39; required /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={classes.control}\u0026gt; \u0026lt;label htmlFor=\u0026#39;image\u0026#39;\u0026gt;Image\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;url\u0026#39; id=\u0026#39;image\u0026#39; required /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={classes.control}\u0026gt; \u0026lt;label htmlFor=\u0026#39;address\u0026#39;\u0026gt;Address\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;text\u0026#39; id=\u0026#39;address\u0026#39; required /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={classes.control}\u0026gt; \u0026lt;label htmlFor=\u0026#39;description\u0026#39;\u0026gt;Address\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;textarea\u0026#39; rows=\u0026#39;5\u0026#39; id=\u0026#39;description\u0026#39; required /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={classes.control}\u0026gt; \u0026lt;label htmlFor=\u0026#39;description\u0026#39;\u0026gt;Address\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;textarea\u0026#39; rows=\u0026#39;5\u0026#39; id=\u0026#39;description\u0026#39; required /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={classes.action}\u0026gt; \u0026lt;button\u0026gt;Add\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/Container\u0026gt; ); } export default NewMeetupFrom;   20. ä½¿ç”¨ useRef ç²å–è¡¨å–®å…ƒç´ å€¼  åµæ¸¬è¡¨å–®å…§å®¹æœ‰å…©ç¨®åšæ³•   ä½¿ç”¨ useState ç›£è½æ¯å€‹ input onChange äº‹ä»¶ï¼Œæ›´æ–°è³‡æ–™ ä½¿ç”¨ useRef ç›´æ¥æ“ä½œ DOM å…ƒç´    ref é‚„é©åˆç”¨åœ¨ç®¡ç† focusã€æ–‡å­—é¸æ“‡ã€æ’­æ”¾å½±éŸ³ã€æ•´åˆç¬¬ä¸‰æ–¹ DOM å‡½å¼åº«ã€è§¸ç™¼å‹•ç•« éå¿…è¦æ™‚ä¸æ¿«ç”¨ ref æ“ä½œ DOM å…ƒç´ ï¼Œå¤šæ•¸å…ƒç´ ä¿æŒç”¨ State ç®¡ç† ref å»ºè­°ä»¥ callback æ–¹å¼ä½¿ç”¨  1 2 3  // å…ƒç´ ç¶å®šthis.contentï¼Œä½¿ç”¨this.xxxå‘¼å«ç›¸é—œå±¬æ€§ \u0026lt;input type=\u0026#39;text\u0026#39; ref={(el) =\u0026gt; (this.content = el)} /\u0026gt;; this.content.focus();    å¼•å…¥ ref objectï¼Œä½¿ç”¨ current å±¬æ€§ç²å– value  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64  // NewMeetupForm.js import Container from \u0026#34;../ui/Container\u0026#34;; import classes from \u0026#34;./NewMeetupForm.module.css\u0026#34;; import { useRef } from \u0026#34;react\u0026#34;; function NewMeetupForm() { // å‰µé€ ä¸€å€‹refç‰©ä»¶ï¼Œå¸¶æœ‰refå±¬æ€§ï¼Œè£¡é¢æœ‰currentå±¬æ€§  const titleInputRef = useRef(); const imageInputRef = useRef(); const addressInputRef = useRef(); const descriptionInputRef = useRef(); function submitHandler(event) { // é˜»æ“‹ç€è¦½å™¨é è¨­äº‹ä»¶ï¼Œé¿å…é»ä¸‹è¡¨å–®å°±æœƒå°ä¼ºæœå™¨ç™¼å‡ºè«‹æ±‚  event.preventDefault(); // ç²å¾—titleç›®å‰inputå€¼  const enteredTitle = titleInputRef.current.value; const enteredImage = imageInputRef.current.value; const enteredAddress = addressInputRef.current.value; const enteredDescription = descriptionInputRef.current.value; // å‰µé€ ä¸€å€‹ç‰©ä»¶ç®¡ç†  const meetupData = { title: enteredTitle, image: enteredImage, address: enteredAddress, description: enteredDescription, }; // send to server console.log(meetupData)  props.onAddMeetupData(meetupData); } return ( \u0026lt;Container\u0026gt; // æ–°å¢ submit ç›£è½  \u0026lt;form className={classes.form} onSubmit={submitHandler}\u0026gt; \u0026lt;div className={classes.control}\u0026gt; \u0026lt;label htmlFor=\u0026#39;title\u0026#39;\u0026gt;Title\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;text\u0026#39; id=\u0026#39;title\u0026#39; ref={titleInputRef} required /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={classes.control}\u0026gt; \u0026lt;label htmlFor=\u0026#39;image\u0026#39;\u0026gt;Image\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;url\u0026#39; id=\u0026#39;image\u0026#39; ref={imageInputRef} required /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={classes.control}\u0026gt; \u0026lt;label htmlFor=\u0026#39;address\u0026#39;\u0026gt;Address\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;text\u0026#39; id=\u0026#39;address\u0026#39; ref={addressInputRef} required /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={classes.control}\u0026gt; \u0026lt;label htmlFor=\u0026#39;description\u0026#39;\u0026gt;Description\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#39;textarea\u0026#39; rows=\u0026#39;5\u0026#39; id=\u0026#39;description\u0026#39; ref={descriptionInputRef} required /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={classes.action}\u0026gt; \u0026lt;button\u0026gt;Add\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/Container\u0026gt; ); } export default NewMeetupFrom;    è¡¨å–®è³‡æ–™ä¸Ÿåˆ°çˆ¶å±¤  1 2 3 4 5 6 7 8 9 10 11 12 13 14  // pages/NewMeetup.js function NewMeetupPage() { // è¡¨å–®è³‡æ–™meetupData  function addMeetupHandler(meetupData) { // send http req  } return ( \u0026lt;section\u0026gt; \u0026lt;h1\u0026gt;Add New Meetup\u0026lt;/h1\u0026gt; \u0026lt;NewMeetupForm onAddMeetupData={addMeetupHandler}\u0026gt; \u0026lt;/section\u0026gt; ); } export default NewMeetupPage;   21. API ä¸²æ¥ ç‚ºä»€éº¼éœ€è¦ API  å‰ç«¯çš„ç¨‹å¼ç¢¼åœ¨ devtool å¯ä»¥çœ‹åˆ°ï¼Œé€é API è³‡æ–™è·Ÿ server è¦è³‡æ–™ä»¥ç¢ºä¿å®‰å…¨ ä¸ç„¶æ‡‚ä¸€é»ç¨‹å¼çš„äººé€éå‰ç«¯ç¨‹å¼ç¢¼å‘¼å« serverï¼Œå¯ä»¥ç›œå–ä½¿ç”¨è€…å€‹è³‡ï¼Œä¹Ÿå¯ä»¥æŠŠä½  server æ¸…ç©º å¯ä»¥ç”¨ Firebase Realtime Database æ¸¬è©¦å‰ç«¯ä¸Ÿå‡ºå»çš„ JSON è³‡æ–™  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  function NewMeetupPage() { function addMeetupHandler(meetupData) { // Firebase realtime è³‡æ–™åº«çš„APIå¾Œæ–¹åŠ ä¸Š/xxx.jsonç­‰æ–¼ä¸€å€‹å¤§è¡¨  fetch(\u0026#39;firebaseAPIç¶²å€/xxx.json\u0026#39;, { method: \u0026#39;POST\u0026#39;, // bodyæ˜¯JSONæ ¼å¼  body:JSON.stringify(meetupData), // éƒ¨åˆ†APIæœƒè¦æ±‚æä¾›\u0026#39;Content-Type\u0026#39;  headers: { \u0026#39;Content-Type\u0026#39;:\u0026#39;application/json\u0026#39; } }) } return ( \u0026lt;section\u0026gt; \u0026lt;h1\u0026gt;Add New Meetup\u0026lt;/h1\u0026gt; \u0026lt;NewMeetupForm onAddMeetupData={addMeetupHandler}\u0026gt; \u0026lt;/section\u0026gt; ); } export default NewMeetupPage;   22. ä½¿ç”¨ useHistory è·³è½‰é é¢  history.goBack() å›ä¸Šä¸€é  history.push(\u0026rsquo;/\u0026rsquo;) åˆ°é¦–é ï¼Œæ–°å¢ä¸€å€‹ç¶²å€è³‡æ–™åˆ°é™£åˆ—å°¾ç«¯ history.replace(\u0026rsquo;/\u0026rsquo;) å›é¦–é ï¼Œç›´æ¥å–ä»£ current entry è³‡æ–™ï¼Œä¸æ–°å¢è³‡æ–™ï¼Œç•¶ä¸å¸Œæœ›ä½¿ç”¨è€…å›ä¸Šä¸€é å¯ä½¿ç”¨  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  import { useHistory } from \u0026#34;react-router-dom\u0026#34;; function NewMeetupPage() { function addMeetupHandler(meetupData) { // Firebase realtime è³‡æ–™åº«çš„APIå¾Œæ–¹åŠ ä¸Š/xxx.jsonç­‰æ–¼ä¸€å€‹å¤§è¡¨  fetch(\u0026#34;firebaseAPIç¶²å€/xxx.json\u0026#34;, { method: \u0026#34;POST\u0026#34;, // bodyæ˜¯JSONæ ¼å¼  body: JSON.stringify(meetupData), // éƒ¨åˆ†APIæœƒè¦æ±‚æä¾›\u0026#39;Content-Type\u0026#39;  headers: { \u0026#34;Content-Type\u0026#34;: \u0026#34;application/json\u0026#34;, }, }).then(() =\u0026gt; { history.replace(\u0026#34;/\u0026#34;); }); } }   23. ä½¿ç”¨ useEffect  useEffect å¯ä»¥ç”¨ä¾†é™åˆ¶å…ƒä»¶ä¸è¦æ¯æ¬¡æ¸²æŸ“éƒ½åŸ·è¡Œæ‰€æœ‰çš„ç¨‹å¼ç¢¼ ç¬¬ä¸€å€‹åƒæ•¸ç‚ºå‡½å¼ï¼Œç¬¬äºŒå€‹æ˜¯é™£åˆ—ï¼Œåªæœ‰[]å…§å®¹æœ‰è®ŠåŒ–æ‰æœƒåŸ·è¡Œ è‹¥æ²’åŠ ç¬¬äºŒå€‹åƒæ•¸ç­‰æ–¼æ¯æ¬¡éƒ½æœƒåŸ·è¡Œï¼Œæœ‰ç”¨è·Ÿæ²’ç”¨ä¸€æ¨£ è‹¥ç‚ºç©ºé™£åˆ—ï¼Œç”±æ–¼æ²’æœ‰ç›¸ä¾ä»»ä½•è®Šæ•¸ï¼Œæ‰€ä»¥åµæ¸¬ä¸åˆ°è®ŠåŒ–ï¼ŒåªæœƒåŸ·è¡Œç¬¬ä¸€æ¬¡ è‹¥è£¡é¢æœ‰è®Šæ•¸ï¼Œå‰‡è®Šæ•¸æœ‰è®ŠåŒ–å°±æœƒå†åŸ·è¡Œä¸€æ¬¡ é©åˆç”¨åœ¨ fetch dataã€è¨‚é–±ç›£è½äº‹ä»¶ã€æ”¹è®Š DOMã€è¼¸å‡º log get æ–¹æ³•è®“å€‹åˆ¥é é¢ç²å–ä¸åŒè³‡æ–™(æŠŠ dummyData æ›æˆå¯¦éš› server è³‡æ–™)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57  // pages/AllMeetup.js import { useState, useEffect } from \u0026#34;react\u0026#34;; function AllMeetupsPage() { const [isLoading, setIsLoading] = useState(true); const [meetups, setMeetups] = useState([]); useEffect(() =\u0026gt; { // fetchå›å‚³promise  fetch(\u0026#34;firebaseUrl/meetups.json\u0026#34;) .then((response) =\u0026gt; { // ç²å–body ä½¿ç”¨.jsonæ–¹æ³• æŠŠjsonæª”æ¡ˆè®ŠæˆJS object  // å› ç‚º.json return promiseæ‰€ä»¥ç”¨thenæ¥ èª²ç¨‹é€™é‚Šå°ˆå¿ƒåœ¨ç²å–è³‡æ–™ æ²’æœ‰å¯«åˆ°errorè™•ç†  return response.json(); }) .then((data) =\u0026gt; { // æˆ‘å€‘æœŸæœ›æ˜¯é™£åˆ—è³‡æ–™å¥—å…¥åˆ°æ¨¡æ¿ï¼Œè€Œfirebaseä¸Šçš„meetupsè³‡æ–™æ˜¯å·¢ç‹€ç‰©ä»¶çµæ§‹  // æœ€å¤–å±¤æ˜¯ä¸€å€‹objectï¼Œæ¯ç­†è³‡æ–™æ˜¯ä¸€å€‹key value pair  // meetups = {  // key1: {title:\u0026#39;\u0026#39;, image:\u0026#39;\u0026#39;, address:\u0026#39;\u0026#39;, description:\u0026#39;\u0026#39;},  // key2: {title:\u0026#39;\u0026#39;, image:\u0026#39;\u0026#39;, address:\u0026#39;\u0026#39;, description:\u0026#39;\u0026#39;}  // }  const meetups = []; for (const key in data) { // è§£æ§‹å‡ºdata  const meetups = { id: key, ...data[key], }; // è³‡æ–™ä¸€ç­†ç­†æ¨å…¥é™£åˆ—  meetups.push(meetup); } setIsLoading(false); setMeetups(data); }); }, []); if (isLoading) { return ( \u0026lt;section\u0026gt; \u0026lt;p\u0026gt;Loading...\u0026lt;/p\u0026gt; \u0026lt;/section\u0026gt; ); } // é€™æ®µä¸æœƒç­‰ä¸Šé¢å›å‚³è³‡æ–™ï¼Œä½†ä¸èƒ½ç”¨async function AllMeetupPage await fetchä¾†è™•ç†  // å…ƒä»¶å‡½å¼æ‡‰æ˜¯åŒæ­¥å‡½å¼ï¼Œä¸æ‡‰è©²return promiseè€Œæ˜¯JSX  // å¯ä½¿ç”¨Stateæ¢ä»¶æ¸²æŸ“ loading  return ( \u0026lt;section\u0026gt; \u0026lt;h1\u0026gt;AllMeetupsPage\u0026lt;/h1\u0026gt; {meetups.map((el) =\u0026gt; { return \u0026lt;li key={el.id}\u0026gt;{el.title}\u0026lt;/li\u0026gt;; })} \u0026lt;/section\u0026gt; ); } export default AllMeetupsPage;    è‹¥æ²’ä½¿ç”¨ useEffectï¼Œç•¶ useState æ›´æ–°ç‹€æ…‹æœƒå†è·‘ä¸€æ¬¡å…ƒä»¶ï¼Œå† fetch ä¸€æ¬¡å°±æœƒç„¡é™è¿´åœˆ  24-1 useContext ç®¡ç†å…¨åŸŸ State (é€™å€‹æ‡‰è©²æ˜¯æœ€è¤‡é›œçš„)  ä¸Šé¢ä»‹ç´¹é useState åœ¨å–®å€‹å…ƒä»¶çš„æ›´æ–°è³‡æ–™æ–¹æ³• å¦‚æœéœ€è¦ç®¡ç†å…¨åŸŸçš„ Stateï¼Œå¯ä»¥ç”¨ props å‚³é State æ›´æ–°å…¶ä»–å…ƒä»¶è³‡æ–™ï¼Œä½†å¤§å°ˆæ¡ˆæœƒä¸å¥½ç¶­è­·è·Ÿç®¡ç† ä¹Ÿå¯ä»¥ä½¿ç”¨ reduxï¼Œä½† React å‡½å¼åº«æœ¬èº«å°±æœ‰å…§å»º context ç®¡ç† State çš„ function ç®¡ç† State çš„ context ä¸€èˆ¬æœƒå»ºç«‹åœ¨ src/store ä¸‹(e.g. favorites-context.js)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53  import { createContext, useState } from \u0026#34;react\u0026#34;; // å»ºç«‹ä¸€å€‹contextç‰©ä»¶ è£¡é¢æ”¾åˆå§‹å€¼ const FavoritesContext = createContext({ favorites: [], totalFavorites: 0, addFavorite: (favoriteMeetup) =\u0026gt; {}, removeFavorite: (favoriteMeetup) =\u0026gt; {}, itemIsFavorite: (favoriteMeetup) =\u0026gt; {}, }); // æ›´æ–°æˆ‘çš„æœ€æ„›Stateçš„å‡½å¼ ç”¨ä¾†ç®¡ç†é€™å€‹å‡½å¼è£¡çš„State é€™é‚ŠåŠ ä¸Šexportä¹‹å¾Œæœƒå¾å¤–éƒ¨å‘¼å« export function FavoritesContextProvider(props) { const [userFavorites, setUserFavorites] = useState([]); // å»ºç«‹ä¸‰å€‹è™•ç†æˆ‘çš„æœ€æ„›Stateçš„å‡½å¼  function addFavoriteHandler(favoriteMeetup) { setUserFavorites((prevUserFavorites) =\u0026gt; { return prevUserFavorites.concat(favoriteMeetup); }); } function removeFavoriteHandler(meetupId) { setUserFavorites((prevUserFavorites) =\u0026gt; { return prevUserFavorites.filter((prev) =\u0026gt; prev.id !== meetupId); }); } function itemIsFavoriteHandler(meetupId) { return userFavorites.some((meetup) =\u0026gt; meetup.id !== meetupId); } // æ–°å¢ä¸€å€‹ context object é€évalueæŠŠå€¼å‚³éå»  const context = { // æŠŠuserFavoriteçš„snapshotæ”¾åœ¨é€™è£¡ï¼Œç•¶Stateæ”¹è®Šcontextç‰©ä»¶ä¹Ÿæœƒæ”¹è®Š  // ä¹Ÿæœƒé€évalue={context}å‚³æ–°çš„å€¼åˆ°ç›¸é—œå…ƒä»¶  favorites: userFavorites, totalFavorites: userFavorites.length, // ç•¶å…¶ä»–å…ƒä»¶è¦ä½¿ç”¨ä¸Šæ–¹ä¸‰å€‹å‡½å¼æ™‚ï¼Œç”¨pointeræŒ‡å‘ä¸‹é¢çš„keyç„¶å¾Œå°±æœƒåŸ·è¡Œå¾Œé¢çš„å‡½å¼ï¼Œå³ä¸Šé¢çš„function  addFavorite: addFavoriteHandler, removeFavorite: removeFavoriteHandler, itemIsFavorite: itemIsFavoriteHandler, }; // Provideræ˜¯å…§å»ºçš„å…ƒä»¶ å¿…é ˆåŒ…åœ¨æ‰€æœ‰æœƒè·Ÿä»–äº’å‹•çš„å…ƒä»¶(e.g. App) valueæœƒå‚³å€¼  return ( \u0026lt;FavoritesContext.Provider value={context}\u0026gt; {props.children} \u0026lt;/FavoritesContext.Provider\u0026gt; ); } // è¼¸å‡ºFavoritescontext export default FavoritesContext;    index.js å¼•ç”¨ï¼Œè®“å…¨åŸŸéƒ½å¯ä»¥ä½¿ç”¨ context  1 2 3 4 5 6 7 8 9 10 11  // index.js import { BrowserRouter } from \u0026#34;react-router-dom\u0026#34;; import { FavoriteContextProvider } from \u0026#34;./store/favorite-context\u0026#34;; RouterDOM.render( \u0026lt;FavoriteContextProvider\u0026gt; \u0026lt;BrowserRouter\u0026gt; \u0026lt;APP /\u0026gt; \u0026lt;/BrowserRouter\u0026gt; \u0026lt;/FavoriteContextProvider\u0026gt; );   24-2 åœ¨å…ƒä»¶å¼•ç”¨ useContext  å¼•ç”¨åˆ° MeetupItem.js  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34  // é»åŠ å…¥æˆ‘çš„æœ€æ„›å°±æœƒæŠŠitemåŠ å…¥é™£åˆ—ï¼Œæ›´æ–°æŒ‰éˆ•æ–‡å­— ... import FavoritesContext from \u0026#39;./../../store/favorite-context\u0026#39; function MeetUpItem(props) { function toggleFavoritesStatusHandler() { const favoritesCtx = useContext(FavoritesContext) const itemIsFavorite = favoriteCtx.itemIsFavorite(prop.id) function toggleFavoriteStatusHandler() { if(itemIsFavorite) { favoritesCtx.removeFavorite(prop.id) } else { // æ›´æ–°é™£åˆ—è³‡æ–™ï¼Œå°±æœƒé€éfavorite-contextè®“å…¨åŸŸç‰©ä»¶ä¸‹ç›¸é—œè³‡æ–™éƒ½æ›´æ–°  favoritesCtx.addFavorite({ id: props.id, title: props.title, address: props.address, image: props.image, description: prop.description }) } } return ( \u0026lt;li className={classes.item}\u0026gt; \u0026lt;Container\u0026gt; ... \u0026lt;div\u0026gt; \u0026lt;button onClick={toggleFavoriteStatusHandler}\u0026gt;{itemIsFavorite ? \u0026#39;Remove\u0026#39; : \u0026#39;Add\u0026#39;}\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/Container\u0026gt; \u0026lt;/li\u0026gt; ); } }    å¼•ç”¨åˆ° FavoritesPage  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  ... import { useContext } from \u0026#39;react\u0026#39; import FavoritesContext from \u0026#39;./../store/favorite-context\u0026#39; // é¡¯ç¤ºæˆ‘çš„æœ€æ„›item function FavoritesPage(){ const favoritesCtx = useContext(FavoritesContext) let content if (favoritesCtx.totalFavorites.length === 0){ content = \u0026lt;p\u0026gt;No Favorites yet\u0026lt;/p\u0026gt; } else { content = \u0026lt;MeetupList meetups={favoritesCtx.favorites}\u0026gt; } return \u0026lt;section\u0026gt; \u0026lt;h1\u0026gt;My Favorites\u0026lt;/h1\u0026gt; // array  {content} \u0026lt;/section\u0026gt; } export default FavoritesPage    å¼•ç”¨åˆ°å°è¦½åˆ—(æ”¾ä¸Šæˆ‘çš„æœ€æ„›ç¸½æ•¸)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  // MainNavigation.js ... import { useContext } from \u0026#39;react\u0026#39; import FavoritesContext from \u0026#39;./../../store/favorite-context\u0026#39; import { Link } from \u0026#39;react-router-dom\u0026#39; function MainNavigation() { const favoriteCtx = useContext(FavoritesContext) return ( \u0026lt;header\u0026gt; ... \u0026lt;li\u0026gt; \u0026lt;Link to=\u0026#39;/favorites\u0026#39;\u0026gt;My favorites \u0026lt;span\u0026gt;{favoriteCtx.totalFavorites.length}\u0026lt;/span\u0026gt; \u0026lt;/Link\u0026gt; \u0026lt;/li\u0026gt; ... \u0026lt;/header\u0026gt; ) } export default MainNavigation   æœ€å¾Œæƒ³è£œå……ä¸€ä¸‹\u0026hellip; å…¶å¯¦æˆ‘è¦ºå¾— Vue ä¹Ÿä¸éŒ¯å•Šï¼ˆx)\næœ‰å¥½åƒçš„èªæ³•ç³–ï¼šç”¨@ç›£è½äº‹ä»¶ï¼Œ@submit.prevent.stop å°±å¯é˜»æ­¢ç€è¦½å™¨æäº¤è¡¨å–®è·Ÿå†’æ³¡ï¼šå‹•æ…‹ classï¼Œwatch æ·±å±¤ç›£è½ç‰©ä»¶å±¬æ€§ï¼Œcomputed å‹•æ…‹æ›´æ–°ï¼Œv-model é›™å‘ç¶å®šè¡¨å–®\u0026hellip; ç­‰å„ç¨®å¥½åƒçš„ç³–)\nåŸä¾†æš—è—ä¸€ç¯‡ Vue æ¨éŠ·æ–‡ï¼ŒçœŸæ˜¯å¤ªé‚ªæƒ¡äº†\n","date":"2022-01-06T00:00:00+08:00","image":"https://bacnotes.github.io/p/react-knowledge-101/photo-1633356122544-f134324a6cee_hu3d03a01dcc18bc5be0e67db3d8d209a6_61563_120x120_fill_q75_box_smart1.jpeg","permalink":"https://bacnotes.github.io/p/react-knowledge-101/","title":"è‡ªå­¸Reactçš„ä½ éœ€è¦çŸ¥é“çš„ä¸€äº›çŸ¥è­˜ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"JavaScript çš„ç‰¹æ€§ high level é«˜éš(èªè¨€)  é«˜éšæŒ‡çš„æ˜¯æ¥è¿‘äººé¡è®€å¾—æ‡‚çš„èªè¨€ï¼Œä½éšå‰‡æ˜¯æ¥è¿‘æ©Ÿå™¨çš„ 2 é€²ä½çš„æ©Ÿå™¨ç¢¼(machine code) ä¾‹å¦‚ c èªè¨€(ä½éšèªè¨€)ï¼Œéœ€è¦è™•ç†å®£å‘Šæ–°è®Šæ•¸æ™‚çš„è¨˜æ†¶é«” è€Œé«˜éšèªè¨€çš„ python è·Ÿ JavaScript ä¸éœ€è¦ï¼Œä½†æ•ˆèƒ½ä¸æœƒæœ‰ c èªè¨€å¥½  prototype based object-oriented ç‰©ä»¶å°å‘  JavaScript è³‡æ–™é™¤äº† primitives éƒ½æ˜¯ç‰©ä»¶ é™£åˆ—ä¹Ÿæ˜¯ç‰©ä»¶ï¼Œåªæ˜¯ key ç‚º index  1 2  let arr = [1, 2, 3] typeof arr //object   interpreted or just-in-time compiled  JavaScript å¼•æ“æœƒå¹«æˆ‘å€‘è½‰æˆ 2 é€²ä½çš„æ©Ÿå™¨ç¢¼  dynamic-typed å‹•æ…‹è³‡æ–™å‹æ…‹  å®£å‘Šè®Šæ•¸æ™‚ä¸éœ€è¦çµ¦äºˆå‹åˆ¥(Cã€Javaã€Ruby è¦) å®¹æ˜“æ”¹è®Šå‹åˆ¥  single-threaded å–®åŸ·è¡Œç·’  ä¸€æ¬¡åªèƒ½åŸ·è¡Œä¸€å€‹ä»»å‹™  garbage collected æœ‰è¨˜æ†¶é«”å›æ”¶æ©Ÿåˆ¶  æœ‰æ©Ÿåˆ¶æœƒè‡ªå‹•ç§»é™¤è¨˜æ†¶é«”ä¸­è€èˆŠæˆ–æ²’æœ‰ä½¿ç”¨çš„è®Šæ•¸  multi-paradigm å¯ä»¥åŒæ™‚ä½¿ç”¨å¤šç¨®é¢¨æ ¼ä¾†å¯«ç¨‹å¼  å¯ä»¥ç”¨ Procedural Programming ç¨‹åºåŒ–ç¨‹å¼è¨­è¨ˆ å¯ä»¥ç”¨ Function Programming å‡½å¼ç¨‹å¼è¨­è¨ˆ å¯ä»¥ç”¨ Object-Oriented Programming ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ  with first-class functions ä¸€ç´šå‡½å¼  ä¸€ç´šå‡½å¼æ˜¯ä¸€ç¨®ç‰¹æ€§ï¼Œéƒ¨åˆ†ç¨‹å¼èªè¨€æ²’æœ‰ï¼Œè€Œ JavaScript æœ‰ ä¸€ç´šå‡½å¼è¡¨ç¤ºåœ¨é€™å€‹èªè¨€å‡½å¼å¯ä»¥è¢«ç•¶ä½œä¸€å€‹è®Šæ•¸(variable)ï¼Œè³¦å€¼çµ¦å…¶ä»–è®Šæ•¸æˆ–åšç‚ºåƒæ•¸å‚³é(functions are values)  non-blocking event loop concurrent model  ç”±æ–¼å–®åŸ·è¡Œç·’ä½†åˆå¾—è™•ç†åŒæ™‚ç™¼ç”Ÿçš„å¤šç¨®ä»»å‹™ï¼Œå®¹æ˜“é˜»å¡ JavaScript å¼•æ“æœƒä½¿ç”¨ event loopï¼Œä¸€å€‹èƒŒæ™¯åŸ·è¡Œçš„ taskï¼Œä»»å‹™åŸ·è¡Œå®Œçš„çµæœæœƒæ”¾åˆ° call stack  JavaScript å¼•æ“ v.s. åŸ·è¡Œç’°å¢ƒ runtime v.s. åŸ·è¡Œæ–‡æœ¬ context JavaScript å¼•æ“  å„å®¶ç€è¦½å™¨æœ‰è‡ªå·±çš„ JavaScript å¼•æ“ï¼Œç”¨ä¾†åŸ·è¡Œ JavaScript Google é–‹ç™¼çš„ V8 å¼•æ“ï¼Œä¸åªç”¨æ–¼ Chrome é‚„æœ‰ Node.js(å¯ä»¥åœ¨ç€è¦½å™¨å¤–åŸ·è¡Œ JavaScript) JavaScript å¼•æ“åŒ…å«ä¸€å€‹ Call Stack(execution context)è·Ÿä¸€å€‹ Heap Heap æ˜¯éçµæ§‹åŒ–çš„è¨˜æ†¶é«”æ± ï¼Œå„²å­˜æ‰€æœ‰ç‰©ä»¶ interpretationï¼šç¨‹å¼ç¢¼è½‰æˆä¸€è¡Œè¡ŒåŸ·è¡Œçš„ codeï¼Œå†è½‰æˆæ©Ÿå™¨ç¢¼ compilationï¼šæ•´åŒ…ç¨‹å¼ç¢¼è½‰æˆ machine code(2 é€²ä½)ï¼Œå†åŸ·è¡Œç¨‹å¼ just-in-time compilation: ç¨‹å¼ç¢¼è½‰æˆ 2 é€²ä½å¾Œç«‹å³åŸ·è¡Œ(é¿å…ç­‰å¾…) ç•¶ä¸€æ®µç¨‹å¼ç¢¼é€²åˆ°å¼•æ“æœƒåŸ·è¡Œä¸‹æ–¹ç¨‹åº  1 2 3 4  step1. parsing: JavaScript â†’ AST(abstract syntax tree) çµæ§‹åŒ–JavaScript step2. compilation: AST â†’ 2é€²ä½çš„æ©Ÿå™¨ç¢¼ step3. execution: åœ¨call stackåŸ·è¡Œ step2~3. optimization: é‚ŠåŸ·è¡Œé‚Šæœ€ä½³åŒ–(åœ¨ç‰¹åˆ¥çš„threadåŸ·è¡Œï¼Œç„¡æ³•access)   JavaScript Runtime åŸ·è¡Œç’°å¢ƒ  browser: JavaScript å¼•æ“ + webAPIs + callback queue call stack : ç”±ä¸Šåˆ°ä¸‹åŸ·è¡Œ stack è£¡é¢æ¯ä¸€è¡Œç¨‹å¼ï¼Œè®Šæ•¸çš„è¨˜æ†¶é«”ä¹Ÿæ˜¯åœ¨é€™å€‹éšæ®µå»ºç«‹(hoisting)ï¼Œé‡åˆ°éœ€è¦å‘¼å« API çš„éåŒæ­¥å‡½å¼æœƒæŠŠè£¡é¢çš„ call back function ä¸Ÿåˆ° webAPI æ’ç¨‹åŸ·è¡Œ webAPIs è™•ç†éåŒæ­¥å‡½å¼ï¼Œç•¶æœ‰æ”¶åˆ°å›å‚³çµæœï¼Œæœƒä¾ç…§å›å‚³æ™‚é–“é †åºæŠŠ callback function å‚³åˆ° callback queue ç•¶ stack æ¸…ç©ºæ™‚ï¼Œcallback queue å°±æœƒæŠŠ callback function ä¾åºï¼ˆqueue å…ˆé€²å…ˆå‡º)ä¸Ÿåˆ° stack è£¡åŸ·è¡Œ é€™æ•´å€‹éç¨‹å°±æ˜¯ event loopï¼Œç‚ºäº†æé«˜ç€è¦½å™¨çš„ä½¿ç”¨é«”é©—ï¼Œä¸æœƒè¢«éåŒæ­¥å‡½å¼ç­‰å¾…éç¨‹é˜»å¡çš„æ©Ÿåˆ¶   node.js: JavaScript å¼•æ“ + C ++ bindings \u0026amp; thread pool + callback queue (é€™é‚ŠçŸ¥é“çš„å¤§æ¦‚å³å¯)  ï¼Šstack æ˜¯å…ˆé€²å¾Œå‡º(å¾Œé€²å…ˆå‡º)çš„è³‡æ–™çµæ§‹ï¼Œqueue æ˜¯å…ˆé€²å…ˆå‡ºçš„è³‡æ–™çµæ§‹\nExecution context åŸ·è¡Œæ–‡æœ¬ ï¼Šç‚ºäº†è·ŸåŸ·è¡Œç’°å¢ƒ runtime åšåè©å€éš”ï¼Œä½¿ç”¨ä¸åŒä¸­æ–‡åç¨±æŒ‡ç¨±\n  åŸ·è¡Œæ–‡æœ¬åŒ…å«\n è®Šæ•¸ç’°å¢ƒ variable environment: åŒ…å« let const var å®£å‘Š, å‡½å¼, åƒæ•¸ arguments obj ä½œç”¨åŸŸéˆ scope chain: è®“å€‹åˆ¥å‡½å¼å¯ä»¥ ref åˆ°å‡½å¼å¤–çš„è®Šæ•¸ï¼Œæœƒå­˜åœ¨å€‹åˆ¥åŸ·è¡Œæ–‡æœ¬ this: æ¯å€‹åŸ·è¡Œæ–‡æœ¬éƒ½æœ‰è‡ªå·±çš„ thisï¼Œåœ¨å‰µé€ éšæ®µæ™‚èª•ç”Ÿ(åŸ·è¡Œéšæ®µå‰)    æœ‰å‰µé€ éšæ®µè·ŸåŸ·è¡Œéšæ®µ\n  ç®­é ­å‡½å¼æ²’æœ‰è‡ªå·±çš„ this æˆ–åƒæ•¸ï¼Œä½†å¯ä»¥ä½¿ç”¨çˆ¶å±¤çš„ this æˆ–åƒæ•¸\n  åŸ·è¡Œé †åº\n step1. å‰µé€ å…¨åŸŸåŸ·è¡Œæ–‡æœ¬(top-level/not inside the function)\nåªæœ‰é function çš„æœƒè¢«åŸ·è¡Œï¼Œå› ç‚º function è¦è¢«å‘¼å«æ‰æœƒåŸ·è¡Œ\nåªæœƒæœ‰ä¸€å€‹ global execution context step2. åŸ·è¡Œå…¨åŸŸåŸ·è¡Œæ–‡æœ¬(inside global EC) step3. åŸ·è¡Œå‡½å¼ç­‰å¾… callback å›å‚³çµæœ\nä¾åºå‘¼å«å€‹åˆ¥å‡½å¼ï¼Œå€‹åˆ¥å‡½å¼çš„æ–‡æœ¬æœƒè¢«å‰µé€ \ncall stack çš„å…§å®¹å°±æ˜¯ç”±é€™äº›å€‹åˆ¥å‡½å¼è·Ÿæ–‡æœ¬æ‰€çµ„æˆ    scope ä½œç”¨åŸŸ \u0026amp; scope chain ä½œç”¨åŸŸéˆ global scope å…¨åŸŸ  ä½æ–¼ function è·Ÿ block å¤– å¯ä»¥è¢«æ‰€æœ‰åœ°æ–¹å­˜å–  function scope å‡½å¼ä½œç”¨åŸŸ  ä¹Ÿè¢«ç¨±ä½œ local scope åªèƒ½åœ¨å‡½å¼å…§å­˜å–ï¼Œå˜—è©¦å­˜å–æœƒå‡ºç¾ error ES6 é–‹å§‹åš´æ ¼æ¨¡å¼ä¸‹ä¹Ÿæ˜¯ block scope  block scope(ES6 é–‹å§‹å‡ºç¾) å€å¡Šä½œç”¨åŸŸ  let è·Ÿ const è¢«é™åˆ¶åªèƒ½åœ¨ block ç¯„åœå…§å­˜å– var é‚„æ˜¯å¯ä»¥è¢« function scope å­˜å– ES6 é–‹å§‹åš´æ ¼æ¨¡å¼ä¸‹ function scope ä¹Ÿæ˜¯ block scope(å¯«å…©æ¬¡å› ç‚ºå¾ˆé‡è¦)  scope chain  ç•¶è®Šæ•¸ä¸å­˜åœ¨ç¾æœ‰ scopeï¼Œç„¡è«–æ˜¯ block æˆ– function éƒ½å¯ä»¥è®€å¤–é¢çˆ¶å±¤è£¡çš„è®Šæ•¸ æ‰¾ä¸åˆ°æ™‚æœƒä¸€å±¤å±¤å¾€å¤–æ‰¾(variable lookup)ï¼Œå®Œå…¨æ‰¾ä¸åˆ°æœƒå‡ºç¾ ReferenceError åªèƒ½å¾€å¤–æ‰¾ï¼Œä¸èƒ½å¾€å…§ console.log(function æˆ– block è£¡é¢çš„è®Šæ•¸)æœƒ ReferenceError sibling ä¹‹é–“ä¸è¡Œäº’ç›¸è®€å– æ¯å€‹ scope chain éƒ½åŒ…å«ä»–çš„è®Šæ•¸è·Ÿçš„çˆ¶å±¤çš„è®Šæ•¸ scope chain å¯ä»¥è®€å–çš„è®Šæ•¸è·Ÿ function åœ¨ call stack åŸ·è¡Œé †åºç„¡é—œ  callstack v.s. scope chain  ä½¿ç”¨ä¸‹æ–¹å‡½å¼èˆ‰ä¾‹ step1. å‰µé€ å…¨åŸŸåŸ·è¡Œæ–‡æœ¬  å…¨åŸŸè®Šæ•¸ç’°å¢ƒï¼ša=\u0026lsquo;Jonas\u0026rsquo;, first=fn, third=fn   step2. åŸ·è¡Œå…¨åŸŸåŸ·è¡Œæ–‡æœ¬ï¼Œå‰µé€ å‡ºå€‹åˆ¥åŸ·è¡Œæ–‡æœ¬ first()ä½œç”¨åŸŸï¼šå¯ä»¥ç²å–æœ¬åœ°ä½œç”¨åŸŸè·Ÿçˆ¶å±¤çš„è®Šæ•¸ç’°å¢ƒ  è®Šæ•¸ç’°å¢ƒï¼šb=\u0026lsquo;Hello\u0026rsquo;, second=fn, a=\u0026lsquo;Jonas\u0026rsquo;, first=fn, third=fn second()ä½œç”¨åŸŸï¼šå¯ä»¥ç²å–æœ¬åœ°ä½œç”¨åŸŸè·Ÿçˆ¶å±¤çš„è®Šæ•¸ç’°å¢ƒ è®Šæ•¸ç’°å¢ƒï¼šc, b=\u0026lsquo;Hello\u0026rsquo;, second=fn, a=\u0026lsquo;Jonas\u0026rsquo;, first=fn, third=fn third()ä½œç”¨åŸŸï¼šå¯ä»¥ç²å–æœ¬åœ°ä½œç”¨åŸŸè·Ÿçˆ¶å±¤çš„è®Šæ•¸ç’°å¢ƒ è®Šæ•¸ç’°å¢ƒï¼šd=\u0026lsquo;Hey\u0026rsquo;, a=\u0026lsquo;Jonas\u0026rsquo;, first=fn, third=fn   step3. åŸ·è¡Œå€‹åˆ¥æ–‡æœ¬(åŸ·è¡Œå‡½å¼)ï¼Œç­‰å¾… callback å›å‚³çµæœ  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  const a = \u0026#34;Jonas\u0026#34;; first(); function first() { const b = \u0026#34;Hello\u0026#34;; second(); function second() { const c = \u0026#34;H1\u0026#34;; third(); } } function third() { const d = \u0026#34;Hey!\u0026#34;; console.log(d + c + b + a); // ReferenceError }   ï¼Šä¸‹æ–¹æ˜¯å¦ä¸€å€‹ç¯„ä¾‹ï¼Œè¼¸å‡ºçµæœç”¨//è¡¨ç¤ºï¼Œä¸”è¦–ç‚ºå–®ç¨å‡ºç¾é€™è¡Œçš„ç‹€æ³ï¼ˆå½¼æ­¤ä¹‹é–“ä¸å½±éŸ¿ï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  \u0026#39;use strict\u0026#39;; const firstName = \u0026#39;Jonas\u0026#39; function calcAge(birthYear) { const age = 2037 - birthYear function printAge() { // åŸ·è¡Œæ™‚è£¡é¢æ²’æœ‰ageï¼Œvariable lookupå¾€çˆ¶å±¤æ‰¾  const output = `You are ${age}, born in ${birthYear}`; console.log(output); if (birthYear \u0026gt;= 1981 \u0026amp;\u0026amp; birthYear \u0026lt;= 1996) { var millenial = true; // å‰µé€ è·Ÿå¤–é¢ä¸€æ¨£è®Šæ•¸åçš„æ–°è®Šæ•¸  const firstName = \u0026#39;Steven\u0026#39; const str = `you are a millenial, ${firstName}`; console.log(str); // åŸ·è¡Œæ™‚è£¡é¢æ²’æœ‰firstNameï¼Œå¾€çˆ¶å±¤æ‰¾ you are a millenial, Jonas  function add(a, b) { return a + b; } // å…§éƒ¨é‡æ–°è³¦å€¼output ä¸‹æ–¹æœƒåˆ—å°å‡ºæ–°çš„å€¼çš„output  output = \u0026#39;New output\u0026#39; } console.log(str); // ç„¡æ³•ç²å–å…§éƒ¨è®Šæ•¸ str is not defined  console.log(millenial); // varä¸æ˜¯block scopeæ˜¯function scopeå› æ­¤å¯ä»¥ç²å–åŒfunctionçš„è®Šæ•¸ true  console.log(add(3, 5)) //add function åš´æ ¼æ¨¡å¼ä¸‹ä¹Ÿæ˜¯block scope æœƒReferenceErrorï¼Œéåš´æ ¼æ¨¡å¼ä¸‹æœƒæ˜¯8  console.log(output) //\u0026#39;New output\u0026#39;  } printAge() return age } calcAge(1991) // You are 46, born 1991 console.log(age) // ReferenceError ç„¡æ³•ç²å–å…§éƒ¨è®Šæ•¸age printAge(); // ReferenceError ç„¡æ³•ç²å–å…§éƒ¨è®Šæ•¸ printAge()   ç¸½çµ  è¦äº†è§£è®Šæ•¸å­˜æ´»çš„å€åŸŸï¼Œå“ªè£¡å¯ä»¥ç²å–é€™äº›å€¼ å¦‚ä½•è¨­è¨ˆè®Šæ•¸çš„ä½ç½®è·Ÿç²å–ç¨‹å¼çš„è®Šæ•¸ lexical scoping æ˜¯ä½¿ç”¨ function è·Ÿ block ç­‰å°é–‰ç’°å¢ƒï¼Œæ§åˆ¶è®Šæ•¸å­˜å– scope å®£å‘Šè®Šæ•¸çš„ç’°å¢ƒï¼Œæœ‰ global å…¨åŸŸ, function å‡½å¼è·Ÿ block å€å¡Šä¸‰ç¨®ä½œç”¨åŸŸ æ‰€æœ‰ scope éƒ½å¯ä»¥ç²å–çˆ¶å±¤çš„ scopeï¼Œå› ç‚ºé€™æ˜¯ä¸€æ¢ scope chain  Hoisting æå‡  è¡¨é¢ä¸Šæ˜¯å¯ä»¥åœ¨å®£å‘Šå‰è¢«ä½¿ç”¨ å…¶å¯¦æ˜¯åœ¨åŸ·è¡Œéšæ®µå‰ï¼Œå·²ç¶“åœ¨å‰µé€ éšæ®µå°±å»ºç«‹åœ¨è®Šæ•¸ç’°å¢ƒ(variable environment) ä¸åŒè®Šæ•¸è¡Œç‚ºä¸åŒ  å‡½å¼å®£å‘Š  å‡½å¼å®£å‘Šæœƒæå‡ æœªå®£å‘Šä½¿ç”¨ç‚ºå¯¦éš›å€¼ è®Šæ•¸å­˜å–ç¯„åœåš´æ ¼æ¨¡å¼ä¸‹ç‚º block scopeï¼Œéåš´æ ¼æ¨¡å¼ä¸‹ç‚º function scope  var  var æœƒæå‡ æœªå®£å‘Šä½¿ç”¨ç‚º undefined è®Šæ•¸å­˜å–ç¯„åœç‚º function scope  const/let  const è·Ÿ letï¼ŒæŠ€è¡“ä¸Šä¾†èªªæœ‰æå‡ä½†æ˜¯æœªåˆå§‹åŒ– uninitialized æ²’æœ‰å¯å–ç”¨çš„å€¼ æœªå®£å‘Šä½¿ç”¨ä¸‹æœƒè¢«é–åœ¨ TDZ(temporary dead zone) è®Šæ•¸å­˜å–ç¯„åœç‚º block scope  å‡½å¼è¡¨é”å¼è·Ÿç®­é ­å‡½å¼  å‡½å¼è¡¨é”å¼è·Ÿç®­é ­å‡½å¼è‹¥ç”¨ var å­˜å–æœƒæå‡ æœªå®£å‘Šä½¿ç”¨æ˜¯ undefinedï¼Œåä¹‹å‰‡è·Ÿ const/let ç‰¹æ€§ä¸€æ¨£ é€™ä¹Ÿæ˜¯ç‚ºä½•åœ¨å‡½å¼è¡¨é”å¼ä¸­ï¼Œæˆ‘å€‘ç„¡æ³•ä½¿ç”¨åœ¨å®£å‘Šè®Šæ•¸å‰èª¿ç”¨å‡½å¼ï¼Œè€Œå‡½å¼å®£å‘Šå¯ä»¥ä¸é¡§å‡½å¼å®£å‘Šé †åºï¼Œä»»ä½•åœ°æ–¹éƒ½å¯ä»¥èª¿ç”¨  TDZ æ˜¯ä»€éº¼ (ES6 é–‹å§‹å‡ºç¾)  TDZ ç‚ºè®Šæ•¸åˆå§‹åŒ–å‰çš„å€å¡Š ä¸‹åœ– job åœ¨è¢« const å®£å‘Šå‰è¢«å‘¼å«ï¼Œæœƒå‡ºç¾ ReferenceError cannot access \u0026lsquo;job\u0026rsquo; before initializationï¼Œéœ€è¦å®£å‘Šå¾Œæ‰èƒ½è¢«ä½¿ç”¨ ä½†å¦‚æœå‘¼å«å®Œå…¨æ²’è¢«å‰µé€ çš„è®Šæ•¸ï¼Œæœƒé¡¯ç¤ºå¦ä¸€ç¨®è¨Šæ¯ ReferenceError x is not defined æœ‰ TDZ æ¯”è¼ƒå®¹æ˜“æŠ“å‡ºæœªå®£å‘Šä½¿ç”¨çš„éŒ¯èª¤ å¦ä¸€å€‹ TDZ å­˜åœ¨å¥½è™•æ˜¯ï¼Œå›  const ç„¡æ³•é‡æ–°è³¦å€¼ï¼Œæ‰€ä»¥ç„¡æ³•è¨­å®š undefined å†çµ¦æ–°çš„å€¼ï¼ŒTDZ å¯ä»¥è®“ const é †åˆ©é‹ä½œ hoisting çš„å¥½è™•ï¼šmutual recursionï¼Œè®“ code å¯è®€æ€§é«˜ï¼Œè€Œ var çš„ hoisting ç®—æ˜¯å‰¯ç”¢ç‰©ï¼Œå¾Œè¦‹ä¹‹æ˜çœ‹ä¾†ä¸æ˜¯å¥½æ±æ±  ï¼Šä¸‹æ–¹è¼¸å‡ºçµæœç”¨//è¡¨ç¤ºï¼Œä¸”è¦–ç‚ºå–®ç¨å‡ºç¾é€™è¡Œçš„ç‹€æ³ï¼ˆå½¼æ­¤ä¹‹é–“ä¸å½±éŸ¿ï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  // Variables console.log(me); // not defined console.log(job); // ReferenceError cannot access \u0026#39;job\u0026#39; before initialization console.log(year); // ReferenceError cannot access \u0026#39;job\u0026#39; before initialization  var me = \u0026#39;Jonas\u0026#39;; let job = \u0026#39;teacher\u0026#39;; const year = 1991; -- // Functions console.log(addDecl(2, 3)); // 5 console.log(addExpr(2, 3)); // cannot access \u0026#39;addExpr\u0026#39; before initialization console.log(addArrow(2, 3)); // undefined(2,3) -\u0026gt; // addArrow is not a function  function addDecl(a, b) { return a + b; } const addExpr = function(a, b) { return a + b; }; var addArrow = (a, b) =\u0026gt; a + b;    å› ç‚º hoisting é€ æˆçš„ bug ç¯„ä¾‹ï¼Œä½¿ç”¨ const/let å¯é¿å…ï¼Œé¤Šæˆå…ˆå®£å‘Šè®Šæ•¸å†ä½¿ç”¨çš„å¥½ç¿’æ…£  1 2 3 4 5 6 7 8 9 10 11  // åŸæœ¬æœŸå¾…ä¸å­˜åœ¨productåŸ·è¡ŒdeleteShoppingCart() // å› ç‚ºæ²’å®£å‘Šè®Šæ•¸å°±ä½¿ç”¨ï¼Œå€¼è®Šæˆundefined // !undefinedè€Œè®Šæˆtrue console.log(!numProducts); //true // !undefined is true if (!numProducts) deleteShoppingCart(); var numProducts = 10; function deleteShoppingCart() { console.log(\u0026#39;All products deleted!\u0026#39;); }    ç•¶ç”¨ var å®£å‘Šï¼Œæœƒåœ¨ browser çš„ window(å…¨åŸŸè®Šæ•¸)ä¸‹å¤šä¸€å€‹å±¬æ€§  1 2 3 4 5 6 7  var x = 1; let y = 2; const z = 3; console.log(x === window.x); // true console.log(y === window.y); // false console.log(z === window.z); // false   this æ˜¯ä»€éº¼?  æ‰€æœ‰åŸ·è¡Œæ–‡æœ¬ä¸‹éƒ½æœƒæœ‰çš„ç‰¹åˆ¥è®Šæ•¸ï¼Œå€¼å–æ±ºæ–¼è¢«å‘¼å«çš„æ–¹å¼ ä½œç‚º Method(ç‰©ä»¶ä¸‹çš„ function)å‘¼å«æ™‚ï¼Œthis æ˜¯å‘¼å«ä»–çš„è®Šæ•¸ ä¸€èˆ¬å‡½å¼å‘¼å«ï¼Œåš´æ ¼æ¨¡å¼ä¸‹ this å€¼æ˜¯ undefinedï¼Œéåš´æ ¼æ¨¡å¼ä¸‹ç‚ºå…¨åŸŸç‰©ä»¶(ç€è¦½å™¨ç‚º window/node.js æ˜¯ global) ç®­é ­å‡½å¼æ²’æœ‰è‡ªå·±çš„ thisï¼Œthis å€¼å–æ±ºæ–¼çˆ¶å±¤(parent scope) eventListener å‘¼å«æ™‚ï¼ŒæŒ‡å‘è§¸ç™¼çš„å…ƒç´  this ä¸æœƒæ˜¯å‡½å¼è‡ªå·±ï¼Œä¹Ÿä¸æœƒæ˜¯è®Šæ•¸ç’°å¢ƒ(Variable Environment) new, call, apply, bind æœƒæ–¼å…¶ä»–ç¯‡ä»‹ç´¹  ï¼Šä¸‹æ–¹è¼¸å‡ºçµæœç”¨//è¡¨ç¤ºï¼Œä¸”è¦–ç‚ºå–®ç¨å‡ºç¾é€™è¡Œçš„ç‹€æ³ï¼ˆå½¼æ­¤ä¹‹é–“ä¸å½±éŸ¿ï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34  // this Keyword in Practice console.log(this); //window object  const calcAge = function(birthYear) { console.log(2037 - birthYear); console.log(this); }; calcAge(1991); // 46 åš´æ ¼æ¨¡å¼ thisæ˜¯undefined éåš´æ ¼æ¨¡å¼thisæ˜¯window object  const calcAgeArrow = birthYear =\u0026gt; { console.log(2037 - birthYear); console.log(this); }; calcAgeArrow(1980); // çˆ¶å±¤çš„this window object  const jonas = { year: 1991, calcAge: function() { console.log(this); console.log(2037 - this.year); }, }; jonas.calcAge(); // 46 jonaså‘¼å« thisæ˜¯jonas  const matilda = { year: 2017, }; matilda.calcAge = jonas.calcAge; // copy calcAge method from jonas matilda.calcAge(); // matilda, 20  // thisæ˜¯å‹•æ…‹çš„ const f = jonas.calcAge; // copy function to a new variable f(); // ä¸€èˆ¬å‡½å¼æ–¹æ³•å‘¼å«this undefined, cannot read property \u0026#39;year\u0026#39; of undefined at calcAge   è®“ this æŒ‡å‘çˆ¶å±¤çš„ 2 ç¨®åšæ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  // var firstName = \u0026#39;Matilda\u0026#39;;  const jonas = { firstName: \u0026#39;Jonas\u0026#39;, year: 1991, calcAge: function() { // console.log(this); // jonas  console.log(2037 - this.year); // Solution 1 (ES6å‰) åœ¨å‡½å¼å¤–å®šç¾©selfç‚ºthis å–å¾—jonas  // const self = this; // self or that  // const isMillenial = function () {  // console.log(self);  // console.log(self.year \u0026gt;= 1981 \u0026amp;\u0026amp; self.year \u0026lt;= 1996);  // };  // Solution 2 ï¼ˆmodern) ä½¿ç”¨ç®­é ­å‡½å¼ï¼Œæ²’æœ‰è‡ªå·±çš„thisï¼Œæœƒå¾€çˆ¶å±¤æ‰¾  const isMillenial = () =\u0026gt; { console.log(this); console.log(this.year \u0026gt;= 1981 \u0026amp;\u0026amp; this.year \u0026lt;= 1996); }; isMillenial(); // ä¸€èˆ¬å‡½å¼å‘¼å« åš´æ ¼æ¨¡å¼ä¸‹undefined é™¤éç”¨selfç¶å®šthisæˆ–ç”¨ç®­é ­å‡½å¼å‘¼å«  }, greet: () =\u0026gt; { console.log(this); onsole.log(`Hey ${this.firstName}`); }, }; jonas.greet(); jonas.calcAge(); // æ²’æœ‰solutionç‹€æ³ä¸‹ cannot read property of \u0026#39;year\u0026#39; of undefined   ä¸€èˆ¬å‡½å¼ v.s. ç®­é ­å‡½å¼ ç‰©ä»¶å…§çš„å‡½å¼  ç•¶ä½¿ç”¨ä¸€èˆ¬å‡½å¼æœƒæœ‰è‡ªå·±çš„ thisï¼Œå¯ä»¥å–å¾— jonas.firstName ç•¶ä½¿ç”¨ç®­é ­å‡½å¼æœƒæ²’æœ‰è‡ªå·±çš„ thisï¼Œæœƒå¾€çˆ¶å±¤å–è®Šæ•¸ï¼Œbug é€šå¸¸åœ¨é€™è£¡ç™¼ç”Ÿï¼ˆå¯èƒ½å–å¾— undefined æˆ–çœŸçš„æœ‰ä¸€å€‹è®Šæ•¸å€¼) å…¨åŸŸé¿å…ä½¿ç”¨ var  1 2 3 4 5 6 7 8 9 10 11 12  // ç”¨ let/const çš„è©±æœƒæ˜¯ undefinedï¼Œä½¿ç”¨ var å°±æœƒæ˜¯\u0026#39;hey mirenda\u0026#39; var firstName = \u0026#39;mirenda\u0026#39; const jonas = { firstName: \u0026#39;Jonas\u0026#39;, year: 1991, // ç®­é ­å‡½å¼æ²’æœ‰è‡ªå·±çš„this  greet: () =\u0026gt; { console.log(this); console.log(`Hey ${this.firstName}`); }, }; jonas.greet(); // window obj, hey mirenda   arguments  åªå­˜åœ¨ä¸€èˆ¬å‡½å¼ï¼Œç®­é ­å‡½å¼æ²’æœ‰  1 2 3 4 5 6 7 8 9 10 11 12  const addExpr = function(a, b) { console.log(arguments); return a + b; }; addExpr(2, 5); addExpr(2, 5, 8, 12); // é›–ç„¶functionä¸Šé¢åƒæ•¸è¨­å®š2å€‹ï¼Œä½†å¯ä»¥åŠ ä¸Šæ›´å¤šargumentså­˜åˆ°Argumentsé™£åˆ—ï¼Œå¯ä»¥loopåŠ ç¸½é€™äº›åƒæ•¸ç­‰  var addArrow = (a, b) =\u0026gt; { console.log(arguments); return a + b; }; addArrow(2, 5, 8);    arguments è·Ÿå…¶é¤˜é‹ç®—å­çš„æ­é…  1 2 3 4 5 6 7 8 9 10  const restaurant = { orderPizza: function(mainIngredients, ...otherIngredients) { console.log(mainIngredients) console.log(otherIngredients) } } restaurant.orderPizza(\u0026#39;mushrooms\u0026#39;, \u0026#39;onions\u0026#39;, \u0026#39;olives\u0026#39;, \u0026#39;spinach\u0026#39;) // mushrooms [ \u0026#39;onions\u0026#39;, \u0026#39;olives\u0026#39;, \u0026#39;spinach\u0026#39; ] restaurant.orderPizza(\u0026#39;mushrooms\u0026#39;) // mushrooms []    ç•¶å‡½å¼å¾ˆå¤š argument ä¸å¥½è¨˜é †åºï¼Œå¯ä»¥å‚³å…¥ä¸€å€‹ç‰©ä»¶ä½œç‚ºåƒæ•¸ï¼Œå‡½å¼æœƒè§£æ§‹ç‰©ä»¶ä¸¦åŸ·è¡Œå‡½å¼ å¸¸ç”¨æ–¼ç¬¬ä¸‰æ–¹å‡½å¼åº«  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  const restaurant = { starterMenu: [\u0026#39;Focaccia\u0026#39;, \u0026#39;Bruschetta\u0026#39;, \u0026#39;Garlic Bread\u0026#39;, \u0026#39;Caprese Salad\u0026#39;], mainMenu: [\u0026#39;Pizza\u0026#39;, \u0026#39;Pasta\u0026#39;, \u0026#39;Risotto\u0026#39;], orderDelivery: function({ starterIndex = 1, // é è¨­å€¼  mainIndex = 0, // é è¨­å€¼  time = \u0026#39;00:00\u0026#39;, // é è¨­å€¼  address, }) { console.log( `Order received! ${this.starterMenu[starterIndex]}and ${this.mainMenu[mainIndex]}will be delivered to ${address}at ${time}` ); }, }; restaurant.orderDelivery({ time: \u0026#39;22:30\u0026#39;, address: \u0026#39;via del sole, 21\u0026#39;, mainIndex: 2, starterIndex: 2 }); // Order received! Garlic Bread and Risotto will be delivered to via del sole, 21 at 22:30  // æ²’æœ‰å…¨éƒ¨åƒæ•¸ æœƒç”¨å‡½å¼åƒæ•¸çš„é è¨­å€¼ restaurant.orderDelivery({ address: \u0026#39;via del sole, 21\u0026#39;, starterIndex: 2, }); // Order received! Garlic Bread and Pizza will be delivered to via del sole, 21 at 00:00   primitives v.s. objects  primitives åŒ…å« æ•¸å­—ã€å­—ä¸²ã€å¸ƒæ—ã€undefinedã€nullã€Symbolã€BigIntï¼Œå…¶ä»–éƒ½æ˜¯ objects primitives è¨˜æ†¶é«”å­˜åœ¨ call stack objects è¨˜æ†¶é«”å­˜åœ¨ Heap  primitives  let age = 30 çµ¦ä¸€å€‹ call stack çš„è¨˜æ†¶é«”åœ°å€è·Ÿ 30 çš„å€¼(0001) let oldAge = age å‚³ age çš„ call stack åœ°å€(0001)çµ¦ oldAge primitives çš„å€¼æ˜¯ immutableï¼ˆä¸å¯è®Šæ›´ï¼‰ï¼Œç•¶æˆ‘å€‘å¯« age = 31 æœƒå†çµ¦ä¸€å€‹æ–°çš„è¨˜æ†¶é«”çš„åœ°å€è·Ÿå€¼çµ¦ age(0002)ï¼Œè€Œéä¿®æ”¹åŸæœ¬çš„ 30 çš„é‚£å¡Šè¨˜æ†¶é«”(0001)çš„å…§å®¹  objects  const me = {name: \u0026lsquo;Jonas\u0026rsquo;}ï¼Œçµ¦ä¸€å€‹ call stack è¨˜æ†¶é«”çš„åœ°å€è·Ÿ Heap çš„åœ°å€ å› ç‚ºç‰©ä»¶æª”æ¡ˆå¯èƒ½å¤ªå¤§ï¼Œæ‰€ä»¥è¨˜æ†¶é«”å¯¦éš›ä¸Šæ˜¯å­˜åœ¨ Heap const friend = meï¼Œæœƒå‚³ me è¨˜æ†¶é«”çš„åœ°å€çµ¦ friend friend.name = \u0026lsquo;mirenda\u0026rsquo; ç‰©ä»¶è·Ÿä¸Šé¢çš„ primitives ä¸åŒï¼Œæœƒæ”¹åˆ° me çš„å€¼(D30F)ï¼Œå€¼åƒç…§åŒæ¨£çš„ Heap åœ°å€ï¼Œä¸¦æ²’æœ‰å¦å¤–å†çµ¦ä¸€å€‹æ–°çš„è¨˜æ†¶é«”ï¼Œå¯ä»¥åƒè€ƒä¸‹æ–¹åœ–è¡¨çš„ç®­é ­ï¼ˆåªæœ‰ä¸€å€‹)  å¸¸ç”¨æ·ºæ‹·è²æ–¹æ³• Object.assign(ç©ºç‰©ä»¶, è¤‡è£½å°è±¡)  åªèƒ½ç”¨åœ¨ç‰©ä»¶  1 2 3 4 5 6 7 8 9 10 11  const jessica = { firstName: \u0026#39;Jessica\u0026#39;, lastName: \u0026#39;Williams\u0026#39;, age: 27, family: [\u0026#39;Alice\u0026#39;, \u0026#39;Bob\u0026#39;], }; const jessicaCopy = Object.assign({}, jessica); jessicaCopy.lastName = \u0026#39;Davis\u0026#39;; console.log(\u0026#39;Before marriage:\u0026#39;, jessica.lastName); // \u0026#39;Williams\u0026#39; console.log(\u0026#39;After marriage: \u0026#39;, jessicaCopy.lastName); // \u0026#39;Davis\u0026#39;   å±•é–‹é‹ç®—å­  é™¤äº†ç‰©ä»¶å¤–ä¹Ÿå¯ç”¨æ–¼ stringã€arrayã€array-likeã€Setã€Map ç­‰å¯è¿­ä»£ç‰©ä»¶  1 2  const arr = [1, 2, 3] const arrCopy = [...arr]   ä»¥ä¸Šç‚ºThe Complete JavaScript Course - From Zero to Expertçš„å°ç­†è¨˜ï¼Œé™„ä¸Šé€£çµæ¨æ¨é€™å ‚èª²\n","date":"2022-01-03T00:00:00+08:00","image":"https://bacnotes.github.io/p/javascript-behind-the-scenes/kanan-khasmammadov-7K8_U900tVc-unsplash_hu1499a893ce824cc10dc28f27c37e5d8f_1839383_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/javascript-behind-the-scenes/","title":"JavaScriptåº•å±¤é‹ä½œåŸç†101ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"å®Œå…¨æ²’æ¥è§¸é JavaScript çš„æœ‹å‹å¯ä»¥å…ˆè£œè¶³ä¸‹æ–¹çŸ¥è­˜é»å†ç¹¼çºŒé–±è®€å”·\n JavaScript åŸºç¤çŸ¥è­˜è¤‡ç¿’(1) JavaScript åŸºç¤çŸ¥è­˜è¤‡ç¿’(2)  Document Object Model(DOM) æ˜¯ä»€éº¼  å°‡ HTML å…ƒç´ è®Šæˆæ–‡ä»¶ç‰©ä»¶æ¨¡å‹ï¼Œç”±ç¯€é» Node çµ„æˆçš„æ¨¹ç‹€çµæ§‹ è®“ JavaScript å¯ä»¥ä¿®æ”¹ HTML å…§å®¹è·Ÿæ”¹è®Š CSS æ¨£å¼(HTML çš„ style å±¬æ€§) DOM æœ€ä¸Šæ–¹çµæ§‹æ˜¯ document ç‰©ä»¶ï¼Œæ˜¯æˆ‘å€‘å° DOM çš„ entry point ç¯€é»ä¹‹é–“æœ‰ç¸±å‘çš„çˆ¶å­é—œä¿‚(parent/child)æˆ–æ©«å‘çš„å…„å¼Ÿé—œä¿‚(sibling) ç¬¬ä¸€å€‹å­å…ƒç´ é€šå¸¸æ˜¯ HTML(ä¹Ÿè¢«ç¨±ä½œæ ¹å…ƒç´ )ï¼Œä¸‹æ–¹é€šå¸¸æœ‰å…©å€‹å­å…ƒç´  head è·Ÿ bodyï¼Œäº’ç‚º sibling DOM æ–¹æ³•(e.g. querySelector)è·Ÿå±¬æ€§(e.g. innerHTML)ä¸å±¬æ–¼ JavaScript é€™å€‹èªè¨€ï¼Œè€Œæ˜¯ WebAPIs(ç€è¦½å™¨ä¸Šä½¿ç”¨ JavaScript æ’°å¯«çš„ library)çš„ä¸€éƒ¨åˆ† æˆ‘å€‘å¯ä»¥ç”¨ JavaScript å»è·Ÿ WebAPIs äº’å‹•ï¼Œåƒæ˜¯ timerã€fetch API  é¸å–å…ƒç´  é¸å–å–®å€‹å…ƒç´  document.querySelector()  å›å‚³ç›¸ç¬¦çš„ç¬¬ä¸€å€‹å…ƒç´   1 2  document.querySelector(\u0026#39;#id\u0026#39;) //id selector document.querySelector(\u0026#39;.classname\u0026#39;) //class selector   é¸å–å¤šå€‹å…ƒç´  document.querySelectorAll()  å›å‚³æ‰€æœ‰ç›¸ç¬¦çš„å…ƒç´ æ–¼ä¸€å€‹ nodeList é¡é™£åˆ— æ¯”å–®å€‹å…ƒç´ å¤š index èˆ‡ length å±¬æ€§ åªèƒ½ä½¿ç”¨éƒ¨åˆ†é™£åˆ—æ–¹æ³•(e.g. forEach, index, length)  1 2  document.querySelectorAll(\u0026#39;.classname\u0026#39;) // class selector document.querySelectorAll(\u0026#39;li\u0026#39;) // type selector   é¸å–å¤šå€‹å…ƒç´ ä¸­ç‰¹å®šæ¢ä»¶ 1 2  // é¸å–tbodyç¬¬ä¸€è¡Œå…§å®¹ document.querySelectorAll(\u0026#39;.className tbody tr\u0026#39;)[0]   é¸å–æ–‡å­—å…§å®¹ innerHTML v.s. innerText v.s. textContent ä¸‹æ–¹æ˜¯ä¸€æ®µ HTML\n1 2 3 4  \u0026lt;section class=\u0026#34;left\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;number\u0026#34; class=\u0026#34;guess\u0026#34; /\u0026gt; \u0026lt;button class=\u0026#34;btn check\u0026#34;\u0026gt;Check!\u0026lt;/button\u0026gt; \u0026lt;/section\u0026gt;    innerHTML é¸å–å…ƒç´ ä¸‹çš„æ•´å€‹ HTML çµæ§‹  1 2 3 4  console.log(document.querySelector(\u0026#39;.left\u0026#39;).innerHTML) \u0026lt;input type=\u0026#34;number\u0026#34; class=\u0026#34;guess\u0026#34; /\u0026gt; \u0026lt;button class=\u0026#34;btn check\u0026#34;\u0026gt;Check!\u0026lt;/button\u0026gt;    innerText é¸å–æ•´å€‹ HTML ä¸‹å¯è¦‹(é display:none)çš„æ–‡å­— æœƒè®€å– CSSï¼Œæ•ˆèƒ½è¼ƒå·®  1 2 3  console.log(document.querySelector(\u0026#39;.left\u0026#39;).innerText) //  Check!    textContent é¸å–æ•´å€‹ HTML ä¸‹çš„æ‰€æœ‰æ–‡å­—(åŒ…å«ç©ºç™½) ä¸æœƒè®€å– CSSï¼Œæ•ˆèƒ½è¼ƒå¥½  1 2  console.log(document.querySelector(\u0026#39;.left\u0026#39;).textContent) // Check!   document.querySelector().value é¸å–è¡¨å–®å…ƒç´ å€¼ 1  document.querySelector(\u0026#39;.className\u0026#39;).value;   ä¿®æ”¹å…ƒç´ å…§å®¹ åœ¨é¸å–å…ƒç´ å¾ŒåŠ ä¸Š = å³å¯\n1  document.querySelector(\u0026#39;.className\u0026#39;).value = 1   ä¿®æ”¹ CSS æ¨£å¼ ä¿®æ”¹ç‰¹å®šå±¬æ€§ 1 2 3 4  // ä¿®æ”¹é¡è‰² document.querySelector(\u0026#39;body\u0026#39;).style.background = \u0026#39;#ffffff\u0026#39; // ä¿®æ”¹å¯¬åº¦ document.querySelector(\u0026#39;.number\u0026#39;).style.width = \u0026#39;10rem\u0026#39;   æ–°å¢/åˆ‡æ›/åˆªé™¤/ç¢ºèª class 1 2 3 4  element.classList.add(\u0026#39;hidden\u0026#39;); element.classList.toggle(\u0026#39;hidden\u0026#39;); element.classList.remove(\u0026#39;hidden\u0026#39;); element.classList.contains(\u0026#39;hidden\u0026#39;);   æ–°å¢/åˆ‡æ›/åˆªé™¤/ç¢ºèª å±¬æ€§/å›å‚³å±¬æ€§å€¼ 1 2 3 4 5  element.setAttribute(\u0026#39;disable\u0026#39;); element.toggleAttribute(\u0026#39;disable\u0026#39;); element.removeAttribute(\u0026#39;disable\u0026#39;); element.hasAttribute(\u0026#39;disable\u0026#39;); // æ˜¯å¦åŒ…å«æŒ‡å®šå±¬æ€§ return boolean element.getAttribute(\u0026#39;width\u0026#39;); // å›å‚³æŒ‡å®šå±¬æ€§å€¼ e.g. 18rem ä¸å­˜åœ¨æœƒå›å‚³null   è¨­ç½®ç›£è½äº‹ä»¶  ç¬¬ä¸€å€‹åƒæ•¸ç‚ºäº‹ä»¶ï¼Œç¬¬äºŒå€‹ç‚ºåŸ·è¡Œ{}å…§å®¹ï¼Œç¬¬ä¸‰å€‹æ˜¯å¦æ•æ‰å†’æ³¡äº‹ä»¶ ç¬¬ä¸‰å€‹åƒæ•¸æ²’æœ‰è¨­å®šæ™‚é è¨­ç‚º false ç›£è½å†’æ³¡äº‹ä»¶ï¼Œè¨­å®šç‚º true ç›£è½æ•æ‰äº‹ä»¶  1  element.addEventListener(event, function, useCapture)   æ»‘é¼ é»æ“Šäº‹ä»¶ click 1 2 3 4 5 6 7  // é¸å–æŒ‰éˆ•è·Ÿå‘ˆç¾è¨Šæ¯å…ƒç´  const guessButton = document.querySelector(\u0026#39;.check\u0026#39;) const message = document.querySelector(\u0026#39;.message\u0026#39;) // ç”¨addEventListenerç›£è½guessButtonå…ƒç´ ä¸Šçš„clickäº‹ä»¶ guessButton.addEventListener(\u0026#39;click\u0026#39;, function() { console.log(\u0026#39;click\u0026#39;) })   æŒ‰éµäº‹ä»¶ keydown v.s. keyup v.s. keypress  keydown æŒ‰ä¸‹å»æ™‚è§¸ç™¼(ä¸æ”¾é–‹æœƒé€£çºŒè§¸ç™¼) keyup æŠ¬èµ·ä¾†æ™‚è§¸ç™¼ keypress æŒ‰è‘—æ™‚è§¸ç™¼(ä¸æ”¾é–‹æœƒé€£çºŒè§¸ç™¼)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  // ä»»ä½•éµç›¤çš†å¯è§¸ç™¼keypressäº‹ä»¶ document.addEventListener(\u0026#39;keypress\u0026#39;, function() { console.log(\u0026#39;key pressed\u0026#39;) }) // ä»»ä½•éµç›¤çš†å¯è§¸ç™¼keydownäº‹ä»¶ document.addEventListener(\u0026#39;keydown\u0026#39;, function(e) { //åªåœ¨escæŒ‰éµä¸‹è§¸ç™¼  if (e.key === \u0026#39;Escape\u0026#39;) { // åœ¨modal\u0026#34;æ²’æœ‰\u0026#34;hidden classä¸‹ï¼Œä¹Ÿå°±æ˜¯é¡¯ç¤ºmodalæ™‚è§¸ç™¼  if (!modal.classList.contains(\u0026#39;hidden\u0026#39;)) { console.log(\u0026#39;close modal\u0026#39;) } } })    keycode: æ¯ä¸€å€‹éµç›¤éƒ½æœ‰ä¸€å€‹å°æ‡‰çš„æ•¸å­—ï¼Œå¯ä»¥åˆ°é€™è£¡æŸ¥è©¢keycodeInfo  æ•æ‰ç‰¹å®šæ¢ä»¶äº‹ä»¶  ç›£è½è§¸ç™¼äº‹ä»¶å…ƒç´   1 2 3  if (event.target) { console.log(\u0026#39;event\u0026#39;) }    ç›£è½è¨­ç½®åœ¨çˆ¶å…ƒç´ ï¼Œä¸‹é¢å¯èƒ½æœ‰å¤šå€‹å­å…ƒç´ ï¼Œè¨­ç½® data-* attributeï¼Œç¬¦åˆæ¢ä»¶çš„æ‰è§¸ç™¼  1 2 3  if (event.target.dataset.id === è®Šæ•¸) { console.log(\u0026#39;event\u0026#39;) }    è¨­ç½® classï¼Œåµæ¸¬æœ‰ç„¡ç‰¹å®š class æ™‚è§¸ç™¼  1 2 3  if (!modal.classList.contains(\u0026#39;hidden\u0026#39;)) { console.log(\u0026#39;event\u0026#39;) }   å…¶ä»–å¸¸ç”¨äº‹ä»¶  dblclick(é›™æ“Šæ»‘é¼ ) resize(è®Šæ›´è¦–çª—å¤§å°) select(é¸å–) focus(ç•¶å…ƒç´ è™•æ–¼ focus èšç„¦ç‹€æ…‹ï¼Œe.g. èšç„¦åœ¨è¡¨å–®æŸä¸€è¡Œ input) blur(ç•¶å…ƒç´ å¤±å»ç„¦é»ç‹€æ…‹ï¼Œe.g. é»èšç„¦å…ƒç´ æ—é‚Šå…§å®¹) DOMContentLoaded(HTML æª”æ¡ˆè§£æå®Œæˆï¼Œæ¨£å¼è¡¨è·Ÿå¤–éƒ¨è³‡æºé‚„åœ¨ä¸‹è¼‰æ™‚) scroll(æ²è»¸æ»¾å‹•) submit(æäº¤è¡¨å–®) mouseover(æ»‘é¼ ç§»åˆ°ç›®æ¨™) mouseenter(æ»‘é¼ ç§»åˆ°ç›®æ¨™ï¼Œä¸æœƒé€£çºŒè§¸ç™¼) mousemove(æ»‘é¼ ç§»å‹•) mouseout(æ»‘é¼ é›¢é–‹ç›®æ¨™) mouseleave(æ»‘é¼ é›¢é–‹ç›®æ¨™ï¼Œä¸æœƒå†’æ³¡) mousedown(æŒ‰ä¸‹æ»‘é¼ ) mouseup(æ»‘é¼ æ”¾é–‹) contextmenu(æŒ‰ä¸‹æ»‘é¼ å³éµ)  è£œå…… æ—©æœŸé¸å–å…ƒç´ çš„æ–¹æ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14  // é¸å–ID document.getElementById(\u0026#39;idName\u0026#39;) åŒ document.querySelector(\u0026#39;#idName\u0026#39;) // é¸å–class name document.getElementsByClassName(\u0026#39;className\u0026#39;) åŒ document.querySelectorAll(\u0026#39;.className\u0026#39;) // é¸å–HTMLCollection document.getElementsByTagName(\u0026#39;li\u0026#39;) åŒ document.querySelector(\u0026#39;li\u0026#39;) // é¸å–name å±æ€§çš„å€¼ åœ¨ä¸åŒç€è¦½å™¨çš„é‚è¼¯ä¸åŒï¼Œé¿å…ä½¿ç”¨ document.getElementsByName()   NodeList v.s. HTMLCollection  NodeList ç‚ºç¯€é»çš„é›†åˆï¼ŒåŒ…å« HTML å…ƒç´ ç¯€é»å’Œå…¶ä»–ç¯€é»(e.g. å±¬æ€§ç¯€é»ã€æ–‡å­—ç¯€é»ç­‰) HTMLCollection ç‚º HTML å…ƒç´ é›†åˆï¼Œåªæœ‰å…ƒç´ ç¯€é»ï¼Œä¸åŒ…å«å…¶ä»–ç¯€é» HTMLCollection å¤šä¸€å€‹ nameItem()æ–¹æ³•ï¼Œå¯ä»¥å›å‚³é›†åˆä¸­ name å±¬æ€§å’Œ id å±¬æ€§å€¼çš„å…ƒç´   ä»¥ä¸Šç‚ºThe Complete JavaScript Course - From Zero to Expertçš„å°ç­†è¨˜ï¼Œé™„ä¸Šé€£çµæ¨æ¨é€™å ‚èª²\n","date":"2022-01-02T00:00:00+08:00","image":"https://bacnotes.github.io/p/javascript-dom-manipulation/jade-seok-WOv2t_N6iwQ-unsplash_hueaef48dcbe256bb88acf1618f8b7005a_507165_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/javascript-dom-manipulation/","title":"DOMæ“ä½œåŸºç¤çŸ¥è­˜è¤‡ç¿’ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"ä½¿ç”¨åš´æ ¼æ¨¡å¼æé«˜ç¨‹å¼ç¢¼å“è³ª åœ¨æª”æ¡ˆæœ€ä¸Šæ–¹åŠ  'use strict mode' ï¼Œæœƒå¹«ä½ æª¢æŸ¥å“ªäº›ä¸é©ç•¶çš„æ’°å¯«ç¨‹å¼æ–¹å¼ï¼Œä¸‹æ–¹ç‹€æ³æœƒæ‹‹å‡ºéŒ¯èª¤\n æœ‰æœªå®£å‘Šçš„å…¨åŸŸè®Šæ•¸ å°æ–¼ç„¡æ³•å¯«å…¥çš„è®Šæ•¸(e.g. NaN, undefined)æˆ–ä¸å­˜åœ¨çš„ç‰©ä»¶å±¬æ€§è³¦å€¼ åˆªé™¤ä¸èƒ½åˆªé™¤çš„å±¬æ€§(e.g. delete Object.prototype) ç‰©ä»¶å±¬æ€§ä¸æ˜¯å”¯ä¸€å€¼ unique Function åç¨±æœ‰é‡è¤‡ deleting plain names  1 2  var x; delete x; // !!! syntax error    ä½¿ç”¨åˆ° reserved keywords  function  å¯ç”¨ä¾†å¯¦è¸ dry codeï¼Œé‡è¤‡ä½¿ç”¨ä¸€æ¨£çš„é‚è¼¯ï¼Œå‚³ä¸åŒçš„åƒæ•¸ parameter æŒ‡ function æ‹¬å¼§ä¸­å¯«çš„è®Šæ•¸åç¨± argument æ˜¯ç”¨åœ¨å¯¦éš›å‘¼å«çš„å€¼ call = invoke = execute = run éƒ½æ˜¯ä»£ç¨±åŸ·è¡Œ(å‡½å¼)çš„å‹•è©  1 2 3 4 5 6  function fruitProcessor(applesCount, orangesCount) { const juice = `juice with ${applesCount}apples \u0026amp; ${orangesCount}oranges`; return juice; } fruitProcessor(2, 5); // \u0026#39;juice with 2 apples \u0026amp; 5 oranges\u0026#39; fruitProcessor(3, 4); // \u0026#39;juice with 3 apples \u0026amp; 4 oranges\u0026#39;   å‡½å¼å®£å‘Š function declaration  å‘¼å«å¾Œå­˜åˆ°è®Šæ•¸  1 2 3 4 5  function calcAge(birthYear) { return 2037 - birthYear; } const age = calcAge(2036); // æ”¾åœ¨functionå‰å¾Œéƒ½å¯ä»¥ å› ç‚ºhoisting console.log(age); // 1   å‡½å¼è¡¨é”å¼ function expression  åŒ¿åå‡½å¼æ˜¯è¡¨é”å¼ï¼Œæœƒç”¢ç”Ÿ valueï¼Œå­˜åˆ°å·¦é‚Šè®Šæ•¸  1 2 3 4  const calcAge = function (birthYear) { return 2037 - birthYear; }; console.log(calcAge(2036)); // 1   ç®­é ­å‡½å¼ arrow function  ES6 èªæ³•ï¼Œæ²’æœ‰è‡ªå·±çš„ thisï¼Œè‹¥ç®­é ­å‡½å¼è£¡é¢å¯«äº† thisï¼Œæœƒå¾€çˆ¶å±¤æ‰¾ï¼Œthis å€¼å–æ±ºæ–¼çˆ¶å±¤ scope è‹¥ç®­é ­å‡½å¼ç›´æ¥è¿”å›ä¸€å€‹ç‰©ä»¶ï¼Œå¿…é ˆåœ¨ç‰©ä»¶å¤–é¢åŠ ä¸Šå°æ‹¬è™Ÿ(å¯åƒè€ƒä¸‹æ–¹ç¯„ä¾‹)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34  // å–®è¡Œç¨‹å¼ç¢¼ ä¸éœ€è¦{}è·Ÿreturn const calcAge = (birthYear) =\u0026gt; 2037 - birthYear; console.log(calcAge(2036)); // 1  // å¤šè¡Œç¨‹å¼ç¢¼ éœ€è¦{}è·Ÿreturn ç¨‹å¼æœƒçµæŸåœ¨returné€™è¡Œ const retireAge = (yourName, birthYear) =\u0026gt; { const age = 2037 - birthYear; const retirement = 65 - age; return `${yourName}retires in ${retirement}years`; }; console.log(retireAge(\u0026#34;bacnotes\u0026#34;, 2036)); // bacnotes retires in 64 years  // å–®ä¸€åƒæ•¸æ™‚ï¼Œå°æ‹¬è™Ÿå¯ä»¥çœç•¥ const print = (a) =\u0026gt; { console.log(a); }; // å¤šå€‹åƒæ•¸æ™‚ï¼Œå°æ‹¬è™Ÿä¸èƒ½çœç•¥ const print = (a, b) =\u0026gt; { console.log(a, b); }; // å–®è¡Œç¨‹å¼ç¢¼è¦ç›´æ¥å›å‚³ç‰©ä»¶æ™‚ï¼Œå‰‡éœ€è¦å†å¥—ä¸€å±¤å°æ‹¬è™Ÿï¼Œkey valueä¸€æ¨£{a:a, b:b} å¯« {a,b}å³å¯ const print = (a, b) =\u0026gt; ({ a, b, }); // ç­‰æ–¼ const print = (a, b) =\u0026gt; { return { a, b, }; };   array é™£åˆ— å®£å‘Šé™£åˆ— 1 2  const arrayA = [1, 2, 3]; const arrayB = new Array(123, 123, 123);   ï¼ŠJavaScript çš„å…§å»ºç‰©ä»¶éƒ½ä¸å»ºè­° new ä½œåˆå§‹å®šç¾©çš„ã€‚ä¸éæœ‰ä¸€äº›ç‰¹ä¾‹æ˜¯ä¸€å®šè¦çš„ï¼Œä¾‹å¦‚ Dateã€Error ç­‰ç­‰ã€‚\né™£åˆ—å–å€¼ï¼Œåºè™Ÿå¾ 0 é–‹å§‹ 1 2 3  array[0] // ç¬¬1å€‹å…ƒç´ å€¼ array[n] // ç¬¬n+1å€‹å…ƒç´ å€¼ array[arr.length - 1] é™£åˆ—å°¾å·´å…ƒç´ å€¼   ä¿®æ”¹é™£åˆ—å…ƒç´ å€¼ 1  arrayA[2] = 234;    const ä¸æ˜¯ä¸èƒ½ä¿®æ”¹å€¼å—ï¼Ÿ å–®ç¨ä¿®æ”¹å…ƒç´ å€¼æ˜¯å¯ä»¥çš„ å¦‚æœæ˜¯ arrayA = [\u0026lsquo;a\u0026rsquo;, \u0026lsquo;b\u0026rsquo;, \u0026lsquo;c\u0026rsquo;] å°±ä¸è¡Œï¼Œå› ç‚ºå°±è¡¨ç¤ºé‡æ–°è³¦å€¼æ•´å€‹é™£åˆ— è£œå…… immutableï¼ˆä¸å¯è®Šæ›´ï¼‰è·Ÿ mutableï¼ˆå¯è®Šæ›´ï¼‰ï¼šåªæœ‰è³¦å€¼æ™‚æ˜¯å‚³å€¼çš„ primitives æ˜¯ immutableï¼Œè€Œè³¦å€¼æ™‚æ˜¯å‚³å€çš„é™£åˆ—ã€ç‰©ä»¶å…§éƒ¨å€¼æ˜¯ mutable  æƒ³æ›´äº†è§£å‚³å€¼è·Ÿå‚³å€åœ¨è¨˜æ†¶é«”è£¡çš„é‹ä½œæ–¹å¼ï¼Œå¯ä»¥åƒè€ƒé€™ä¸€ç¯‡ JavaScript åº•å±¤é‹ä½œåŸç† 101\narray æ–¹æ³•  array.push() æ–°å¢å…ƒç´ åˆ°é™£åˆ—æœ€å¾Œé¢ï¼Œå›å‚³é™£åˆ—æ–°çš„é•·åº¦  1 2 3 4  const friends = [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;]; const newFriend = friends.push(\u0026#34;e\u0026#34;); console.log(friends); // [ \u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39;, \u0026#39;e\u0026#39; ] console.log(newFriend); // 5    array.pop() åˆªé™¤é™£åˆ—æœ€å¾Œä¸€å€‹å…ƒç´  ä¸¦å›å‚³ åˆªé™¤çš„å…ƒç´ å€¼  1 2 3 4  const friends = [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;, \u0026#34;e\u0026#34;]; const popFriend = friends.pop(); console.log(friends)[(\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;)]; console.log(popFriend); // e    array.unshift() æ–°å¢å…ƒç´ åˆ°é™£åˆ—æœ€å‰é¢ï¼Œå›å‚³é™£åˆ—æ–°çš„é•·åº¦  1 2 3 4  const friends = [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;]; const unshiftFriend = friends.unshift(\u0026#34;z\u0026#34;); console.log(friends); // [ \u0026#39;z\u0026#39;, \u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39; ] console.log(unshiftFriend); // 5    array.shift() åˆªé™¤é™£åˆ—ç¬¬ä¸€å€‹å…ƒç´ ï¼Œå›å‚³åˆªé™¤çš„å…ƒç´ å€¼  1 2 3 4  const friends = [\u0026#34;z\u0026#34;, \u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;]; const shiftFriend = friends.shift(); console.log(friends); // [ \u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39; ] console.log(shiftFriend); // z    array.indexOf(element, fromIndex) æœå°‹å…ƒç´ ç´¢å¼•ä½ç½®  1 2 3 4 5  const friends = [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;]; const positionD = friends.indexOf(\u0026#34;d\u0026#34;); console.log(positionD); // 3 const positionL = friends.indexOf(\u0026#34;l\u0026#34;); console.log(positionL); // if not existed return -1    array.includes(element, fromIndex) å›å‚³é™£åˆ—ä¸­æ˜¯å¦æœ‰é€™å€‹å…ƒç´   1 2 3  const hasLowerCaseA = friends.includes(\u0026#34;a\u0026#34;); const hasUpperCaseA = friends.includes(\u0026#34;A\u0026#34;); console.log(hasLowerCaseA, hasUpperCaseA); // true, false   å…¶ä»–çš„ array æ–¹æ³•å¯ä»¥åƒè€ƒé€™ç¯‡ é™£åˆ—çš„è™•ç†æ–¹æ³•ã€‚å¦å¤–ä¹Ÿæ¨è–¦ oxxostudio çš„é€™ç¯‡JavaScript Array é™£åˆ—æ“ä½œæ–¹æ³•å¤§å…¨ ( å« ES6 )\nobject ç‰©ä»¶  key value pair æ ¼å¼ value å¯ä»¥å„²å­˜ä¸åŒæ ¼å¼çš„è³‡æ–™  å®£å‘Šç‰©ä»¶ 1 2 3 4 5 6 7  const jonas = { firstName: \u0026#34;Jonas\u0026#34;, lastName: \u0026#34;Schmedtmann\u0026#34;, age: 28, job: \u0026#34;teacher\u0026#34;, friends: [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;], };   dot notation å–å€¼ï¼šç‰©ä»¶. å±¬æ€§  ç›´è§€ç°¡æ½” ç‰¹æ®Šå­—å…ƒçš„è³¦å€¼ã€å–å€¼ç„¡æ³•é€é dot notation å–å¾— ç„¡æ³•ä½¿ç”¨è®Šæ•¸é€²è¡Œæ“ä½œ  1  console.log(jonas.lastName); // \u0026#39;Schmedtmann\u0026#39;   bracket notation å–å€¼ï¼šç‰©ä»¶[\u0026lsquo;å±¬æ€§\u0026rsquo;]  []è£¡é¢æ˜¯ä¸€å€‹ expressionï¼Œå±¬æ€§è¨˜å¾—ç”¨å–®å¼•è™ŸåŒ…è£¹ å¯ä»¥ä½¿ç”¨è®Šæ•¸åœ¨[]é€²è¡Œæ“ä½œ  1 2 3 4  console.log(jonas[\u0026#34;lastName\u0026#34;]); // \u0026#39;Schmedtmann\u0026#39;  const nameKey = \u0026#34;Name\u0026#34;; console.log(jonas[\u0026#34;last\u0026#34; + nameKey]); // \u0026#39;Schmedtmann\u0026#39;   brackets notation å¯ä»¥ä½¿ç”¨ expressionï¼Œdot notation ç„¡æ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14  const interestedIn = prompt( \u0026#34;what do you want ot know about Jonas? Choose between firstName, lastName,age or job\u0026#34; ); // dot notation ç„¡æ³•ç”¨expressionå–å¾—å±¬æ€§(ç‰©ä»¶æ²’æœ‰interestedInçš„å±¬æ€§) console.log(jonas.interestedIn); // undefined  // bracket å¯ä½¿ç”¨expressionå–å¾—å±¬æ€§ console.log(jonas[interestedIn]); // teacher  // ç•¶å±¬æ€§å­˜åœ¨åˆ—å°å‡ºå±¬æ€§å€¼ï¼Œå±¬æ€§ä¸å­˜åœ¨æ™‚åˆ—å°å‡º\u0026#39;data not existed\u0026#39; jonas[interestedIn] ? console.log(jonas[interestedIn]) : console.log(\u0026#34;data not existed\u0026#34;);   æ–°å¢/ä¿®æ”¹å…ƒç´ å€¼ï¼šä½¿ç”¨ =Â è³¦å€¼ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  // dot notation jonas.location = \u0026#39;Portugal\u0026#39; // bracket notation jonas[\u0026#39;twitter\u0026#39;] = \u0026#39;@jonas\u0026#39; jonas.age = 82 console.log(jonas) // { firstName: \u0026#39;Jonas\u0026#39;, lastName: \u0026#39;Schmedtmann\u0026#39;, age: 82, job: \u0026#39;teacher\u0026#39;, friends: [\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;], location: \u0026#39;Portugal\u0026#39;, twitter: \u0026#39;@jonas\u0026#39; } // ä½¿ç”¨æ¨¡æ¿å­—ä¸² console.log(`${jonas.firstName}has ${jonas.friends.length}friends, and his best friends is called ${jonas.friends[0]}`) // Jonas has 3 friends, and his best friends is called a   object æ–¹æ³•  ç‰©ä»¶çš„ functionï¼Œç¿’æ…£å« method  1 2 3 4 5 6 7 8 9 10 11 12 13 14  const jonas = { firstName: \u0026#34;Jonas\u0026#34;, lastName: \u0026#34;Schmedtmann\u0026#34;, birthYear: 2000, age: 28, job: \u0026#34;teacher\u0026#34;, friends: [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;], // æ–¹æ³•  calcAge: function (birthYear) { return 2027 - birthYear; }, }; console.log(jonas.calcAge(2000)); // 27 console.log(jonas[\u0026#34;calcAge\u0026#34;](2000)); // 27    é—œæ–¼ this çš„ä½¿ç”¨ï¼Œæœ‰åŠ©æ–¼ç²¾ç°¡ç¨‹å¼ç¢¼ å¦‚æœéœ€è¦ç”¨ä¸€æ¨£çš„ç‰©ä»¶ï¼Œå¯« this å°±ä¸éœ€è¦ä¿®æ”¹å¯«æ­»çš„è®Šæ•¸  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  const jonas = { firstName: \u0026#34;Jona\u0026#34;, lastName: \u0026#34;Schmedtmann\u0026#34;, birthYear: 2000, age: 28, job: \u0026#34;teacher\u0026#34;, friends: [\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;], hasDriverLicense: true, calcAge: function () { // return 2027 - jonas.birthYear å¯«å­—çš„åå­—æœƒä¸å¥½ç¶­è­·  this.age = 2027 - this.birthYear; return this.age; // æ›´æ–°å€¼å°±ä¸ç”¨æ¯æ¬¡èª¿ç”¨éƒ½é‡è¤‡è¨ˆç®—ï¼Œæ¸›å°‘æµªè²»æ•ˆèƒ½  }, };   for è¿´åœˆ  for ([åˆå§‹è¡¨é”å¼]; [æ¢ä»¶ç‚ºçœŸæ™‚æœƒåŸ·è¡Œ{}å…§å®¹]; [æ›´æ–°è¡¨é”å¼]) é©åˆç¢ºå®šè¿´åœˆæ¬¡æ•¸æ™‚ä½¿ç”¨(e.g. by array çš„å…ƒç´ é•·åº¦æˆ–ä¸€å€‹æ•¸å­—) å¯ç”¨ä¾†ç²¾ç°¡é‡è¤‡åŸ·è¡Œé‡è¤‡çš„ç¨‹å¼ç¢¼  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  // å‡è¨­è¦åŸ·è¡Œ10æ¬¡ï¼Œå¾0é–‹å§‹åˆ°9çµæŸ // å¾ i = 0 é–‹å§‹ï¼Œç•¶(i \u0026lt; 9)æ¢ä»¶ç‚ºtrueæœƒåŸ·è¡Œ{}å…§çš„å…§å®¹ï¼Œå®Œæˆå¾Œi++ for (let i = 0; i \u0026lt; 9; i++) { console.log(`lifting weights repetition ${i}ğŸ‹ï¸â€â™€ï¸ `) } // lifting weights repetition 0ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 1ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 2ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 3ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 4ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 5ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 6ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 7ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 8ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 9ğŸ‹ï¸â€â™€ï¸    åå‘è¿´åœˆ Backwards loop  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  // å‡è¨­è¦åŸ·è¡Œ10æ¬¡ï¼Œå¾9é–‹å§‹åˆ°0çµæŸ // å¾ i = 9 é–‹å§‹ï¼Œç•¶(i \u0026gt; 0)æ¢ä»¶ç‚ºtrueæœƒåŸ·è¡Œ{}å…§çš„å…§å®¹ï¼Œå®Œæˆå¾Œi-- for (let i = 9; i \u0026gt;= 0; i--) { console.log(`lifting weights repetition ${i}ğŸ‹ï¸â€â™€ï¸ `) } // lifting weights repetition 9ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 8ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 7ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 6ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 5ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 4ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 3ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 2ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 1ğŸ‹ï¸â€â™€ï¸ lifting weights repetition 0ğŸ‹ï¸â€â™€ï¸    é™£åˆ—ä½¿ç”¨è¿´åœˆè¿­ä»£å…ƒç´   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  // ç¯„ä¾‹1 è¿­ä»£å…ƒç´ è³‡æ–™é¡å‹ä¸¦æ”¾åˆ°å¦ä¸€é™£åˆ—type const arr = [1, 2, 3]; const type = []; for (let i = 0; i \u0026lt; arr.length; i++) { console.log(arr[i]); // filling types array  type[i] = typeof arr[i]; } console.log(type); // [ \u0026#39;number\u0026#39;, \u0026#39;number\u0026#39;, \u0026#39;number\u0026#39; ]  // ç¯„ä¾‹2 è¿­ä»£å…ƒç´ å…ƒç´ å€¼ä¸¦æ”¾åˆ°å¦ä¸€é™£åˆ—ages const years = [1991, 2003, 2022, 1972]; const ages = []; for (let i = 0; i \u0026lt; years.length; i++) { ages.push(2038 - years[i]); } //[ 47, 35, 16, 66 ]  // ç¯„ä¾‹3 ä½¿ç”¨æ¯”è¼ƒç°¡æ½”çš„forEachèªæ³• åˆ—å°å‡ºå…ƒç´  const arr = [1, 2, 3]; arr.forEach(function (element) { console.log(element); });    continue: è·³å‡ºæœ¬æ¬¡è¿´åœˆï¼ŒåŸ·è¡Œä¸‹å€‹è¿´åœˆ(e.g. i = 2 â†’ i = 3)  1 2 3 4 5 6 7 8  const arrayB = [\u0026#34;stringA\u0026#34;, \u0026#34;stringB\u0026#34;, 1, 2022 - 11, true]; for (let i = 0; i \u0026lt; arrayB.length; i++) { if (typeof arrayB[i] !== \u0026#34;string\u0026#34;) continue; console.log(arrayB[i], typeof arrayB[i]); } // stringA string // stringB string    break: çµ‚æ­¢æ•´å€‹è¿´åœˆ  1 2 3 4 5 6  for (let i = 0; i \u0026lt; arrayB.length; i++) { if (typeof arrayB[i] === \u0026#34;number\u0026#34;) break; console.log(arrayB[i], typeof arrayB[i]); } // stringA string // stringB string    å·¢ç‹€è¿´åœˆ  1 2 3 4 5 6  for (let i = 0; i \u0026lt; 4; i++) { console.log(`-----starting excercise ${i}`); for (let j = 1; j \u0026lt; 3; j++) { console.log(`-----lifting ${j}timeğŸ‹ï¸â€â™€ï¸`); } }   while Loop  while (condition) ç•¶æ¢ä»¶ç‚ºçœŸï¼Œå‰‡æœƒä¸€ç›´åŸ·è¡Œ{} é©åˆä¸ç¢ºå®šè¿´åœˆæ¬¡æ•¸æ™‚ä½¿ç”¨(e.g. Math.random çš„äº‚æ•¸)  1 2 3 4  while (i \u0026lt; 10) { text += \u0026#34;The number is \u0026#34; + i; i++; }    éš¨æ©Ÿ 1-6 çš„éª°å­ï¼Œéª°åˆ° 6 æ‰æœƒåœæ­¢  1 2 3 4 5 6 7 8 9 10  let dice = Math.floor(Math.random() * 6 + 1); // éš¨æ©Ÿç”¢ç”Ÿ1~6çš„æ•¸å­—  while (dice !== 6) { console.log(`Your rolled a ${dice}`); dice = Math.floor(Math.random() * 6) + 1; if (dice === 6) console.log(`Loop is about to end...`); } // Math.floor() å›å‚³å°æ–¼ç­‰æ–¼æ‰€çµ¦æ•¸å­—çš„æœ€å¤§æ•´æ•¸ã€‚(æ­£æ•¸æ™‚ç­‰æ–¼ç„¡æ¢ä»¶æ¨å»ï¼Œè² æ•¸æ™‚ç­‰æ–¼ç„¡æ¢ä»¶é€²ä½) // Math.random() å›å‚³ä¸€å€‹å½éš¨æ©Ÿå°æ•¸(pseudo-random) ä»‹æ–¼0åˆ°1ä¹‹é–“(åŒ…å«0ï¼Œä¸åŒ…å«1)   ä»¥ä¸Šç‚ºThe Complete JavaScript Course - From Zero to Expertçš„å°ç­†è¨˜ï¼Œé™„ä¸Šé€£çµæ¨æ¨é€™å ‚èª²\n","date":"2021-12-31T00:00:00+08:00","image":"https://bacnotes.github.io/p/javascript-fundamentals-part2/javascript_hu206ed96a14226138f3215dbd4aa48c79_350158_120x120_fill_box_smart1_3.png","permalink":"https://bacnotes.github.io/p/javascript-fundamentals-part2/","title":"JavaScriptåŸºç¤çŸ¥è­˜è¤‡ç¿’(2)ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"æœ€è¿‘çœ‹åˆ°ç¶²è·¯ä¸Šæ–‡ç« æœ‰äººæ¨é€™å ‚ Udemy çš„ JavaScript èª²ç¨‹ï¼Œç„¶å¾Œå°±è²·ä¸‹ä¾†äº† The Complete JavaScript Course - From Zero to Expert\nç‚ºä»€éº¼æƒ³ä¸Šé€™å ‚èª² ç”±æ–¼æ•´å ‚èª²æœ‰ 69 å°æ™‚ï¼Œè‡ªå·±æ“·å–çš„é‡é»ä¸ä¸€å®šç¬¦åˆæ‰€æœ‰éšæ®µçš„å­¸ç¿’è€…ï¼Œå¯èƒ½æ¯”è¼ƒç²¾ç°¡ å¦‚æœæœ‰çœ‹ä¸æ‡‚çš„åœ°æ–¹å¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€ï¼Œæˆ–å»ºè­°é‚„æ˜¯ä¾†è¦ªè‡ªé«”é©—ä¸€ä¸‹é€™å ‚èª² ä¸‹æ–¹ä¹ŸæœƒåŠ å…¥ä¸€äº›è‡ªå·±éå¾€å­¸ç¿’ JavaScript çš„ç­†è¨˜\nä»€éº¼æ˜¯ ES6ï¼ˆECMAScript6ï¼‰ï¼Ÿ  ECMAScript æ˜¯ä¸€å€‹è¦ç¯„ï¼ŒJavaScript å¯¦ä½œäº†é€™å€‹è¦ç¯„ JavaScript åœ¨ 2015 å¹´è¿ä¾†äº†ä¸€æ¬¡å¤§æ›´æ–°ï¼Œæ›´æ–°å¾Œçš„ç‰ˆæœ¬å« ES6ï¼ˆES2015ï¼‰ï¼Œä¿—ç¨± Modern JavaScript ç•¶ä½ ä½¿ç”¨ Google è·Ÿ StackOverflow ç¤¾ç¾¤éƒ½æ‰¾ä¸åˆ°è§£ç­”ï¼Œé–±è®€é€™ä»½æ–‡ä»¶ECMAScriptä¹Ÿè¨±æœƒæœ‰åŠ©æ–¼ä½  debug ä½ å¯èƒ½è½é Vueã€Reactã€Angular é€™äº›ä¸åŒçš„ JavaScript å¥—ä»¶æˆ–æ˜¯æ¡†æ¶ï¼Œä¸éæœ€å¾Œéƒ½æœƒè¢«æ‰“åŒ…æˆ JavaScript åœ¨ç€è¦½å™¨ä¸Šé‹è¡Œã€‚ éš¨è‘—æ™‚ä»£æ¼”é€²ä½¿ç”¨çš„æ¡†æ¶å¯èƒ½æœƒè®Šï¼Œä½†ç†Ÿæ‚‰ JavaScript æœ‰åŠ©æ–¼æœªä¾†èˆ‡æ™‚ä¿±é€²  ES6 æ–°å¢äº†å“ªäº›èªæ³• è§£æ§‹è³¦å€¼  å¯ä»¥ç”¨ç²¾ç°¡çš„èªæ³•ä¾†å‘½åè®Šæ•¸ï¼Œå¯å½ˆæ€§ä¿®æ”¹è®Šæ•¸åç¨±  1 2 3 4 5 6 7 8 9 10 11  const variable = { a: 1, b: 2, c: 3 } const { a, b, c: cat } = variable //è‹¥æƒ³é‡å°cåšæ–°è®Šæ•¸å‘½åç‚ºcat console.log(a, b, cat) // 1 2 3    å¯ä»¥ç”¨ä¾†å®šç¾©é è¨­å€¼ï¼Œç”±æ–¼å¾é ç«¯å–ç”¨è³‡æ–™å¯èƒ½æœƒæœ‰é æ–™å¤–ç‹€æ³(ä¾‹å¦‚å–ä¸åˆ°è³‡æ–™è®Šæˆ undefined)ï¼Œæœ‰é è¨­å€¼å¯ä»¥å¥—ç”¨æ¯”è¼ƒä¿éšª  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  const restaurant = { starterMenu: [\u0026#39;Focaccia\u0026#39;, \u0026#39;Bruschetta\u0026#39;, \u0026#39;Garlic Bread\u0026#39;, \u0026#39;Caprese Salad\u0026#39;]} // è§£æ§‹è³¦å€¼æ™‚åŠ å…¥é è¨­å€¼[] é¿å…undefined const { menu = [], starterMenu: starters = [] } = restaurant console.log(menu, starters) // [] [ \u0026#39;Focaccia\u0026#39;, \u0026#39;Bruschetta\u0026#39;, \u0026#39;Garlic Bread\u0026#39;, \u0026#39;Caprese Salad\u0026#39; ]  // å‡½å¼ä½¿ç”¨é è¨­åƒæ•¸ function check(a, b = 1, c = 2, d) { console.log(a, b, c, d) } check(1, 3) // 1 3 2 undefined  // ç‰©ä»¶æ–¹æ³•ä½¿ç”¨é è¨­åƒæ•¸ const restaurant = { orderDelivery: function({ starterIndex = 1, // é è¨­å€¼  mainIndex = 0, // é è¨­å€¼  time = \u0026#39;00:00\u0026#39;, // é è¨­å€¼  address, // æ²’è¨‚é è¨­å€¼  }) { console.log( `${starterIndex}, ${mainIndex}, ${time}, ${address}`); }, }; restaurant.orderDelivery({}) // 1, 0, 00:00, undefined    å¯ä»¥ä¸ç”¨å¦å¤–å®£å‘Š temp æš«å­˜è®Šæ•¸ï¼Œå°±å¯ä»¥äº’æ›è®Šæ•¸å€¼ï¼Œå¾ˆæ–¹ä¾¿  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  // é™£åˆ—ç¯„ä¾‹ let [a, b] = [1, 2] [a, b] = [b, a] console.log(a, b) // 2 1 // ç‰©ä»¶ç¯„ä¾‹ let a = 1 let b = 2 const obj = { a: 11, b: 22 } ({ b, a } = obj) // ä¸èƒ½ç›´æ¥å°block{}è³¦å€¼ï¼Œéœ€è¦åŒ…åœ¨()ä¸­ console.log(a, b) // 22 11    è®“å–å‡ºå·¢ç‹€å…§è®Šæ•¸è®Šå¾—å¾ˆç°¡å–®  1 2 3 4 5 6 7 8 9  // é™£åˆ—ç¯„ä¾‹ const nested = [1, 2, [3, 4]] const [i, , [j, k]] = nested console.log(i, j, k) // 1 3 4 // ç‰©ä»¶ç¯„ä¾‹ const openingHours = { fri: { open: 0, close: 24 } } const { fri: { open, close } } = openingHours console.log(open, close) // 0 24   Promise èªæ³•  è§£æ±ºäº† callback hellï¼ˆé›£ä»¥ç¶­è­·è·Ÿé–±è®€çš„å·¢ç‹€ç¨‹å¼ç¢¼ï¼‰ ES7 æœ‰ async/await æ›´å¥½è®€  å±•é–‹é‹ç®—å­  å¯ä»¥å±•é–‹ç‰©ä»¶ã€æ·ºæ‹·è²ã€åˆä½µé™£åˆ—ã€æŠŠå¯è¿­ä»£çš„ç‰©ä»¶ï¼ˆstringã€arrayã€array-likeã€Setã€Mapï¼‰è·Ÿéè¿­ä»£ç‰©ä»¶ objects è®Šæˆé™£åˆ—ï¼Œä¸”ä¸ç”¨æ–°å¢è®Šæ•¸  1 2 3 4 5 6  const arr = [1, 2, 3] const arrCopy = [...arr] const str = \u0026#39;Jonas\u0026#39; const letters = [...str] // [\u0026#39;J\u0026#39;, \u0026#39;o\u0026#39;, \u0026#39;n\u0026#39;, \u0026#39;a\u0026#39;, \u0026#39;s\u0026#39;] console.log(...str) // J o n a s   å…¶é¤˜é‹ç®—å­  å¯ä»¥å°‡é™£åˆ—å¾Œæ–¹å‰©ä¸‹çš„å€¼å­˜æˆä¸€å€‹é™£åˆ—ï¼Œè§£æ§‹è³¦å€¼æ™‚å¥½ç”¨ï¼ˆä¸æœƒå­˜å– skip, , çš„ key è·Ÿæœ‰å‡ºç¾éçš„ keyï¼‰  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  // é™£åˆ—ç¯„ä¾‹ const [x, , ...y] = [13, 25, 33, 2]; console.log(x); // 13 console.log(y); // [33, 2]  // ç‰©ä»¶ç¯„ä¾‹ const restaurant = { openingHours: { thu: 12, fri: 13, sat: 12 } } const { sat, ...weekdays } = restaurant.openingHours console.log(weekdays) = { thu: 12, fri: 13 }   ç®­é ­å‡½å¼  å¯ä»¥æ‰“è¼ƒå°‘çš„ç¨‹å¼ç¢¼ï¼Œæé«˜ç¨‹å¼ç¢¼å¯è®€æ€§ éå¾€ this å€¼ä¾ç…§åŸ·è¡Œç’°å¢ƒæ‰€æœ‰ä¸åŒï¼Œä¸å¥½åˆ¤æ–· è€Œç®­é ­å‡½å¼çš„ this å‰‡æ˜¯ç¶å®šå®šç¾©ä»–ï¼ˆè€Œéå‘¼å«ä»–ï¼‰çš„ç‰©ä»¶ï¼Œçœ‹ä»–èº«è™•åœ¨çš„ function scope çš„ this æŒ‡å‘èª° ç™½è©±æ–‡ï¼šç®­é ­å‡½å¼æ²’æœ‰è‡ªå·±çš„ thisï¼Œä½†å¯ä»¥ä½¿ç”¨çˆ¶å±¤çš„ this  æ¨¡æ¿å­—ä¸²  éå¾€å¯ä»¥é€éå–®å¼•è™Ÿæˆ–é›™å¼•è™Ÿè·ŸåŠ è™Ÿæ‹¼æ¥å­—ä¸²ï¼Œå·¢ç‹€çš„æ™‚å€™éœ€è¦é›™å¼•è™ŸåŒ…è£¹å–®å¼•è™Ÿ(åéä¾†å‰‡ä¸è¡Œ) é‡åˆ°æ‹¼æ¥å…§å®¹æ˜¯ HTML çµæ§‹ï¼Œæ›è¡Œéœ€è¦åŠ  \\n ï¼Œä½¿ç”¨ä¸Šéº»ç…©é–±è®€ä¸Šä¹Ÿä¸å®¹æ˜“ æƒ³å¯«ç¸®å¯«æˆ–æ‰€æœ‰æ ¼ï¼ˆe.g. I\u0026rsquo;m cool, bac\u0026rsquo;sï¼‰çš„è‹±æ–‡å…§å®¹å¯èƒ½é‡åˆ°éœ€è¦ç”¨è·³è„«å­—å…ƒ\u0026quot;I'm\u0026quot;ï¼Œè€Œå­—ä¸²æ¨¡æ¿è§£æ±ºäº†ä¸Šè¿°ä¸æ–¹ä¾¿ä½¿ç”¨çš„å•é¡Œ  1 2 3 4  const yourName = \u0026#39;bacnotes\u0026#39;; const codeName = \u0026#39;JavaScript\u0026#39;; const string = `Hi I\u0026#39;m ${yourName}And I love ${codeName}!!`;   Enhanced Object Literals  å±¬æ€§åè·Ÿæœ¬åœ°è®Šé‡åç›¸åŒå¯ä»¥çœç•¥å¾Œé¢çš„å†’è™Ÿè·Ÿå€¼  å¼•å…¥ class é¡  ä½œç‚º JavaScript ç¾æœ‰åŸå‹ç¨‹å¼(prototype-based)ç¹¼æ‰¿çš„èªæ³•ç³–  å¼•å…¥æ¨¡çµ„ Import and Export modules  æ–¹ä¾¿ç®¡ç†ç¨‹å¼ç¢¼ä¹‹é–“çš„ç›¸ä¾æ€§ï¼ŒéåŒæ­¥è¼‰å…¥ï¼ˆéå¾€ require æ˜¯åŒæ­¥èªæ³•ï¼‰  JavaScript åœ¨ç¶²é æ¸²æŸ“æ™‚åŸ·è¡Œä½ç½®  ç€è¦½å™¨æ¸²æŸ“ç•«é¢æµç¨‹ï¼šå»ºç«‹ DOM â†’ å»ºç«‹ CSSOM â†’ åˆä½µç‚º Render Tree â†’ Layoutï¼ˆç©ºé–“ä½ç½®æ’ç‰ˆä½ˆå±€ï¼‰ â†’ Paintï¼ˆç¹ªè£½ç•«é¢ï¼Œè½‰æ›æˆåƒç´ åšå‘ˆç¾ï¼‰ ç”±æ–¼ JavaScript åœ¨åŸ·è¡Œæ™‚ï¼Œæœƒåœæ­¢æ¸²æŸ“å‹•ä½œï¼Œé˜»å¡ DOM å’Œ CSSOM çš„å»ºæ§‹éç¨‹ å› æ­¤æœƒå»ºè­°æŠŠ script æ”¾åœ¨ HTML å…§å®¹ä¸‹æ–¹ï¼Œä¹Ÿå°±æ˜¯\u0026lt;/body\u0026gt;å‰  1 2 3 4  \u0026lt;body\u0026gt; ... \u0026lt;script src=\u0026#34;./script.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt;    å¦‚æœç‚ºäº†æ•ˆèƒ½æƒ³ææ—©è¼‰å…¥è³‡æºè€Œå¸Œæœ›æŠŠ script æ”¾åœ¨\u0026lt;head\u0026gt;å€å¡Šï¼Œéœ€è¦åŠ ä¸€å€‹deferå±¬æ€§é¿å…é˜»æ“‹æ¸²æŸ“éç¨‹ï¼ˆDOM é‚„åœ¨å»ºç«‹ï¼‰ è‹¥ä½¿ç”¨asyncå±¬æ€§ï¼Œä¸‹è¼‰å¾Œæœƒç«‹åˆ»åŸ·è¡Œä½†ä¸ä¿è­‰é †åºï¼Œä¸”è«‹æ±‚å›ä¾†å¾Œæœƒåœæ­¢è§£æï¼Œé‚„æ˜¯å¯èƒ½é‡åˆ° DOM è·Ÿ CSSOM é‚„åœ¨ç”Ÿæˆï¼Œé¸ä¸åˆ°å…ƒç´ ï¼Œé©åˆç”¨åœ¨ä¸æœƒé‡å°æ“ä½œ DOM çš„ scriptï¼ˆe.g. Google Analyticsï¼‰  JavaScript è®Šæ•¸å‘½åé™åˆ¶  è®Šæ•¸ variable ç”¨ä¾†å­˜å– value JavaScript ç¿’æ…£å°å¯«é§å³°å‘½åyourNameï¼Œå¤§å¯«é–‹é ­è¡¨ç¤ºå»ºæ§‹å­ ä½¿ç”¨æœ‰æ„ç¾©çš„å‘½åï¼ˆe.g. firstJobã€currentJobè€Œéjob1ã€job2ï¼‰ ä¸èƒ½ç”¨æ•¸å­—é–‹é ­ç•¶è®Šæ•¸ ä¸æ¥å— - ç¬¦è™Ÿï¼ˆæœƒç•¶æˆæ¸›è™Ÿ) è®Šæ•¸å…§å®¹åªèƒ½åŒ…å«æ•¸å­—ã€è‹±æ–‡å­—ã€_ã€$ _è·Ÿ$é–‹é ­çš„å‘½åé€šå¸¸æ˜¯æœ‰ç‰¹åˆ¥ç”¨é€”ï¼ˆe.g. ç§æœ‰è®Šæ•¸ï¼‰ ä¸èƒ½ä½¿ç”¨ Reserved keywordsï¼ˆe.g. newã€functionï¼‰ï¼Œä½†$newæˆ–_funtionæ˜¯åˆæ³•çš„ name æ˜¯ Reserved keywordsï¼Œå¯ä»¥åˆæ³•ä½¿ç”¨ä½†å¯èƒ½æœ‰é¢¨éšªï¼Œå¯§é¡˜ç”¨firstNameç­‰ç­‰  error msg èˆ‡ console.log  SyntaxError: èªæ³•çµæ§‹éŒ¯èª¤ï¼ˆå¯èƒ½æ˜¯æ‹¬å¼§ã€æ‹¼å­—å¤§å°å¯«ï¼‰ ReferenceError: å¼•ç”¨éŒ¯èª¤ï¼ˆæ²’è¢«å®šç¾©ã€æ‰¾ä¸åˆ°æª”æ¡ˆï¼‰ RangeError: è¶…å‡ºåƒæ•¸ç¯„åœ TypeError: å‹åˆ¥éŒ¯èª¤ EvalError: eval()æ–¹æ³•ä½¿ç”¨éŒ¯èª¤ URIError: url éŒ¯èª¤ å¦‚æœ console.log çµæœç„¡æ³•åœ¨ç€è¦½å™¨çš„ dev tools é¡¯ç¤ºå‡ºä¾†ï¼Œé»å³é‚Šé½’è¼ªç¢ºèªå‹¾é¸ç‹€æ³(ä¸€èˆ¬æœƒæ˜¯å‹¾ default value)ï¼Œå¯åƒè€ƒé€™ç¯‡ https://blog.csdn.net/xianyu_Padding/article/details/78013754  Data types å‹åˆ¥è·Ÿ Dynamic type  Number(æ•´æ•¸/æµ®é»æ•¸) String(æ–‡å­—) Boolean(true/false) Object(ç‰©ä»¶/é™£åˆ—/å‡½å¼) Undefined(å·²å®£å‘Šç„¡å®šç¾©) null(ç©ºå€¼/empty value) Symbol(ES2015) unique ä¸”ç„¡æ³•è¢«æ”¹è®Šçš„ value BigInt(ES2020) å¤§æ•´æ•¸ é number å¯ä»¥ä¿å­˜çš„ value JavaScript åœ¨å‘½åè®Šæ•¸æ™‚ä¸ç”¨æ‰‹å‹•å®šç¾©å‹åˆ¥ï¼ŒåŒä¸€å€‹è®Šæ•¸å¯ä»¥è³¦äºˆä¸åŒå‹åˆ¥çš„å€¼ è®Šæ•¸å¯èƒ½åŸæœ¬æ˜¯æ•¸å­—ï¼Œå¾Œé¢è®Šæˆå­—ä¸²ï¼Œé€™ä¹Ÿæ˜¯ bug ç”¢ç”Ÿçš„é¢¨éšª(ä½†ç¾åœ¨ä¹Ÿæœ‰ typescript XD) ç¢ºèªè®Šæ•¸å‹åˆ¥typeof è®Šæ•¸ typeof è®Šæ•¸Â å¾—åˆ°çš„æ˜¯å›ºå®šçš„ä¸ƒç¨®å­—ä¸²å€¼:'undefined' 'object' 'boolean' 'number' 'string' 'function' 'symbol'  null v.s. undefined v.s. not defined  null æœ‰å®£å‘Š/æœ‰è³¦å€¼ ä½†æœƒæ˜¯ä¸€å€‹ç©ºå€¼ â†’ ç³»çµ±æç¤ºæ²’æŠ“åˆ°å…ƒç´  (e.g. array ç•¶ä¸­ key å­˜åœ¨ä½†å€¼æ˜¯ç©ºçš„) undefined æœ‰å®£å‘Š/æ²’è³¦å€¼ â†’ ç³»çµ±æç¤ºæ²’æœ‰è³¦å€¼ not defined æ²’å®£å‘Š/æ²’è³¦å€¼ â†’ ç³»çµ±æç¤ºæ²’æœ‰å®£å‘Š  å®£å‘Šè®Šæ•¸æ–¹å¼ letã€constã€var å¾ ES6 é–‹å§‹æœ‰äº† const è·Ÿ let å…©ç¨®æ–°çš„å‘¼å«æ–¹å¼ ä¸¦ä¸”æœ€å°çš„å€å¡Šåˆ‡åˆ†å¾ function è®Šæˆ block{}ï¼Œé¿å…è®Šæ•¸æ±¡æŸ“çš„ç™¼ç”Ÿ\n  let è·Ÿ const çš„å·®ç•° \u0026ndash; let çš„è®Šæ•¸éš¨æ™‚å¯ä»¥ç”¨ = é‡æ–°è³¦å€¼ \u0026ndash; const çš„è®Šæ•¸ç„¡æ³•ç”¨ = é‡æ–°è³¦å€¼ï¼Œé©åˆç”¨åœ¨å¸¸æ•¸ï¼Œè‹¥ç‚ºé™£åˆ—æˆ–ç‰©ä»¶å±¬æ€§çš„å€¼é‚„æ˜¯å¯è¢«æ”¹è®Š \u0026ndash; const è‹¥ç‚º primitivesï¼Œä¸èƒ½åš var += var çš„æ“ä½œ \u0026ndash; ç”±æ–¼å€¼çš„è®Šæ›´æœ‰ç”¢ç”Ÿ bug çš„é¢¨éšªï¼ŒåŸºæœ¬ä¸Šå®£å‘Šæœƒä½¿ç”¨ const ï¼Œè‹¥æœƒé‡è¤‡è³¦å€¼å†ç”¨ let\n\u0026ndash; ä¸æœƒä½¿ç”¨æ—©æœŸçš„å®£å‘Šè®Šæ•¸æ–¹å¼ var ï¼Œæ—©æœŸå®£å‘Šè®Šæ•¸æ–¹æ³•åªæœ‰ var æ­é… function æŠŠä½œç”¨åŸŸé–åœ¨å‡½å¼è£¡é¢ï¼Œä½†è‹¥æ”¾åœ¨ if else ç­‰å€å¡Šèªå¥ï¼Œæœƒè®“ var å®£å‘Šçš„è®Šæ•¸æ´©æ¼åˆ°å…¨åŸŸï¼Œé€ æˆè®Šæ•¸æ±¡æŸ“\n  let è·Ÿ const çš„å…±åŒè™• \u0026ndash; åŒå€å¡Šä¸Šä¸èƒ½é‡è¤‡å®£å‘Š \u0026ndash; å€å¡Šå…§å®£å‘Šä¸æœƒæ´©æ¼åˆ°å…¨åŸŸ\n  ä½œç”¨åŸŸ \u0026ndash; var åœ¨ä¸»ç¨‹å¼å€æ˜¯å…¨åŸŸè®Šæ•¸ï¼Œåœ¨ function å…§æ˜¯å€åŸŸè®Šæ•¸ \u0026ndash; åœ¨ block å€å¡Šèªå¥ï¼ˆifã€elseã€forã€while ç­‰ï¼‰è£¡é¢ç”¨ var å®£å‘Šçš„è®Šæ•¸ï¼Œæœƒæ´©æ¼åˆ°å…¨åŸŸä¸­ï¼Œé€ æˆå€åŸŸè®Šæ•¸è¦†è“‹å…¨åŸŸè®Šæ•¸\n  çµ•å°ä¸è¦ç›´æ¥å‘½åè€Œä¸ä½¿ç”¨let const var \u0026ndash; åƒæ˜¯ job = 'code'\n\u0026ndash; æ²’æœ‰ scopeï¼Œæœƒè®Šæˆå…¨åŸŸè®Šæ•¸ï¼Œè€Œä¸”ä¸åœ¨æ§ç®¡ä¸‹ï¼Œæœƒé€ æˆè¨˜æ†¶é«”ç®¡ç†å•é¡Œ\n  ç®—æ•¸é‹ç®—å­ Arithmetic Operator  + = * / ** % ++ -- åŠ æ¸›ä¹˜é™¤ æŒ‡æ•¸ å–é¤˜æ•¸ éå¢ éæ¸› x++ è·Ÿ ++x æœ‰åŸ·è¡Œé †åºçš„å·®åˆ¥ï¼Œå‰è€…å…ˆåˆ—å°çµæœå†ç›¸åŠ ï¼Œå¾Œè€…å…ˆç›¸åŠ å†åˆ—å°çµæœ é‹ç®—å­é‚„å¯ä»¥ç”¨åšåˆä½µå­—ä¸² å­—ä¸²1+ ' '+ å­—ä¸²2ï¼Œä½†ç¾åœ¨åˆä½µå­—ä¸²å¤šç”¨ template literal  æŒ‡æ´¾é‹ç®—å­ Assignment operators  = += -= *= /= %= å°‡ç­‰è™Ÿå³é‚Šçš„å€¼æ‹·è²çµ¦å·¦é‚Šçš„è®Šæ•¸è³‡æ–™  æ¯”è¼ƒé‹ç®—å­ Comparison operators  == === != !== \u0026gt; \u0026gt;= \u0026lt; \u0026lt;= å¯ä»¥ç”¨ä¾†æŠŠåˆ¤æ–·çš„çµæœå­˜åœ¨è®Šæ•¸  1 2  console.log(age \u0026gt;= 18); // true åˆ¤æ–·ç”¨çš„åƒæ•¸ const isFullAge = age \u0026gt;= 18;   Operator precedence é‹ç®—å­å„ªå…ˆé †åº   MDNå¯ä»¥æŸ¥è©¢ï¼Œä¸ç”¨èƒŒæœ‰å€‹æ¦‚å¿µå³å¯\n  å¦‚æœæä¸æ‡‚é †åºï¼Œç”¨()æŠŠç¢ºå®šè¦å…ˆåŸ·è¡Œçš„æ®µè½åŒ…èµ·ä¾†ï¼Œæ¬Šé‡æœ€é«˜\n  è§£é‡‹äº†ç‚ºä½•ç¨‹å¼å¯ä»¥æ­£ç¢ºåŸ·è¡Œé¡ä¼¼æœ‰è¨±å¤šé‹ç®—å­å»ä¸æœƒèª¤åˆ¤åŸ·è¡Œé †åº\n  1 2 3 4  const now = 2039; const ageJonas = now - 1991; const ageSarah = now - 2003; console.log(now - 1991 \u0026gt; now - 2003); // true    = åŸ·è¡Œé †åºå³åˆ°å·¦  1 2 3 4  let x, y x = y = 25 - 10 - 5 console.log(x, y) // 10 10 å‡è¨­æ˜¯å·¦åˆ°å³ xï¼ yæ™‚ yæœƒæ˜¯undefined æ‰€ä»¥å¿…é ˆæ˜¯å³åˆ°å·¦   é¡¯æ€§è½‰å‹ Type Conversion è½‰å­—ä¸²  toString() å¯ä»¥å°‡æ‰€æœ‰è³‡æ–™éƒ½è½‰æ›ç‚ºå­—ä¸² ä½†æ˜¯è¦æ’é™¤ null å’Œ undefinedï¼ˆTypeError: Cannot read property \u0026rsquo;toString\u0026rsquo; ï¼‰ String() å¯ä»¥å°‡ null å’Œ undefined è½‰æ›ç‚ºå­—ä¸²()ï¼Œå› ç‚ºä»–æœƒå…ˆä½¿ç”¨ valueOfÂ å–å¾— primatives å€¼ï¼Œç„¶å¾Œå†ç”¨ toStringÂ è½‰ç‚ºå­—ä¸² toString(value, radix) å¯ä»¥è½‰ 2 æˆ– 8 æˆ– 10 æˆ– 16 é€²ä½å­—ä¸² JSON.stringify()è½‰æˆ JSON å­—ä¸²\u0026quot;\u0026quot; undefinedã€functionã€symbolã€å…·æœ‰å¾ªç’°åƒè€ƒï¼ˆcircular referenceï¼‰çš„ç‰©ä»¶ç„¡æ³•è½‰ç‚º JSON å­—ä¸²  1 2 3 4 5 6 7  // å¾ªç’°åƒè€ƒç‰©ä»¶ const a = { someProperty: \u0026#34;Jack\u0026#34; }; const b = { anotherProperty: a }; a.b = b; JSON.stringify(a); // Uncaught TypeError: Converting circular structure to JSON JSON.stringify(b); // Uncaught TypeError: Converting circular structure to JSON    é™£åˆ—ä¸­æŸå€‹å…ƒç´ çš„å€¼ç‚ºéæ³•å€¼å‰‡æœƒä»¥ null å–ä»£ ç‰©ä»¶ä¸­çš„æŸå±¬æ€§ç‚ºéæ³•å€¼ï¼Œå‰‡æœƒæ’é™¤é€™å€‹å±¬æ€§ã€‚  è½‰æ•¸å­—  parseInt(string, radix) å­—ä¸²è½‰æˆæ•¸å­—ï¼Œè‹¥ç¬¬ä¸€å€‹å­—ç¬¦ç„¡æ³•è½‰æ›ç‚ºæ•¸å­—å›å‚³ NaN Number() å­—ä¸²è½‰æˆæ•¸å­—ï¼Œundefined å›å‚³ NaNï¼Œnull å›å‚³ 0ï¼Œtrue å›å‚³ 1ï¼Œfalse å›å‚³ 0  è½‰å¸ƒæ—  Boolean() å¦‚æœæ²’å‚³å€¼ï¼Œæˆ–è€…æ˜¯ 0ã€-0ã€nullã€falseã€NaNã€undefinedã€ç©ºå­—ä¸²æœƒè½‰æˆ Boolean  éš±æ€§è½‰å‹ Coercion é‹ç®—å­  - * /æœƒè½‰æˆæ•¸å­—'23' - '10' - 3 // 10 +æœƒè½‰æˆå­—ä¸²'23' + '10' // 2310 ç¶œåˆ 10 - 3 - 3 + '1' // 41 == === != !==  ä¹Ÿæœƒï¼Œå¯ä»¥çœ‹ä¸‹æ–¹çš„åš´æ ¼çš„ç­‰è™Ÿ v.s. å¯¬é¬†çš„ç­‰è™Ÿèªªæ˜ || \u0026amp;\u0026amp; æ¢ä»¶ ToNumberå¼·åˆ¶è½‰æˆæ•¸å­—çš„é‚è¼¯  1 2 3 4 5 6  undefinedâ†’NaNnullâ†’0trueâ†’1ï¼Œfalseâ†’0stringâ†’æ•¸å­—æˆ–NaNObjectå…ˆä»¥`valueOf`å–primativeså€¼ï¼Œæˆ–`toString`å–å¾—primativeså€¼ï¼Œå†ç”¨Number()è½‰ç‚ºæ•¸å­—`Object.create(null)`å»ºç«‹çš„nullæ²’æœ‰`valueOf`æˆ–`toString`æ–¹æ³•ï¼Œå› æ­¤åœ¨è½‰primativesæœƒTypeError   ä½¿ç”¨é‹ç®—å­å¼·åˆ¶è½‰å‹+new Date å–å¾—æ™‚é–“æˆ³è¨˜ä¸æ˜¯å¥½æ–¹æ³• æ”¹ Date.now()Â æˆ– .getTime() å¯è®€æ€§æ›´å¥½  if while for å…§çš„() è·Ÿ!  if (è®Šæ•¸) åœ¨ if æ‹¬å¼§è£¡çš„è®Šæ•¸éƒ½æœƒå¼·åˆ¶è½‰ç‚º Boolean ç¨‹å¼æ²’å¯«å¥½å¯èƒ½å›å‚³ nullã€undefinedã€NaN ç­‰ï¼Œè‹¥ç•¶ä½œæ¢ä»¶åˆ¤æ–·è®Šæˆ false å®¹æ˜“é€ æˆåˆ¤æ–·å¼éŒ¯èª¤ï¼Œéœ€è¦æ³¨æ„  1 2 3 4 5 6  // é‹ç®—å‰ç¢ºèªå‹åˆ¥ if (typeof a === typeof b) { console.log(a + b) } else { console.log(\u0026#39;need to check problem\u0026#39;) }    !(è®Šæ•¸)ä¹Ÿæœƒè®“è®Šæ•¸å¼·åˆ¶è½‰å‹  1 2 3 4 5 6 7  !\u0026#34;Hello\u0026#34;; // false !0; // true !{}; // false !null; // true !undefined; // true !NaN; // true !\u0026#34;\u0026#34;; // true   Truthy \u0026amp; Falsy values  Falsy åŒ…å«ï¼š nullã€undefinedã€0ã€-0ã€ç©ºå­—ä¸²''ã€NaN(ä¸ç­‰æ–¼è‡ªå·±)ã€false Big Int 0n ä¹Ÿæ˜¯ Falsy è² æ•¸-1ã€é0çš„æœ‰æ•ˆæ•¸å­—ã€ç©ºç‰©ä»¶{}ã€ç©ºé™£åˆ—[]ã€ç„¡ä½œç”¨å‡½å¼function () {}éƒ½æ˜¯ true ä»¥ä¸‹ç‚º Falsy å€¼å°è‡´çš„éŒ¯èª¤è¨­è¨ˆç¯„ä¾‹ï¼ˆè¨­è¨ˆæµç¨‹æ™‚éœ€æ³¨æ„ falsyï¼‰  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  // ç‹€æ³1 let height; if (height) { console.log(\u0026#34;defined\u0026#34;); } else { console.log(\u0026#34;not defined\u0026#34;); } // not defined  // ç‹€æ³2 let height = 0; if (height) { console.log(\u0026#34;defined\u0026#34;); } else { console.log(\u0026#34;not defined\u0026#34;); } // not defined é›–ç„¶æœ‰defineç‚º0 ä½†å› ç‚º0æ˜¯falsy æ‰€ä»¥é¡¯ç¤ºé‚„æ˜¯not defined // æ­¤ç‚ºè¨­è¨ˆéŒ¯èª¤å°è‡´é¡¯ç¤ºå‡ºéé æœŸçš„çµæœ   åš´æ ¼çš„ç­‰è™Ÿ=== v.s. å¯¬é¬†çš„ç­‰è™Ÿ ==  ä½¿ç”¨å¯¬é¬†çš„==ï¼Œæœƒç™¼ç”Ÿæœƒå¼·åˆ¶è½‰å‹ï¼Œå­—ä¸²è·Ÿæ•¸å­—æœƒç›¸ç­‰ åš´æ ¼çš„ç­‰è™Ÿæœƒæª¢æŸ¥è³‡æ–™å‹åˆ¥ï¼Œä¸æœƒå¼·åˆ¶è½‰å‹ å¯¬é¬†çš„ç­‰è™Ÿå®¹æ˜“ç”¢ç”Ÿ bugï¼Œæ‰€ä»¥åªæœƒä½¿ç”¨===è·Ÿ!== \u0026quot;0\u0026quot; == false // true (\u0026ldquo;0\u0026quot;è½‰æˆæ•¸å­— 0ï¼Œfalse è½‰æˆ 0) null èˆ‡ undefined åœ¨å¯¬é¬†ç›¸ç­‰ä¸‹æœƒå¼·åˆ¶è½‰å‹ç‚ºå½¼æ­¤ï¼Œå› æ­¤æ˜¯ç›¸ç­‰çš„ï¼Œä½†ä¸ç­‰æ–¼å…¶ä»–å€¼ã€‚ è‹¥æ¯”è¼ƒçš„å°è±¡æ˜¯ç‰©ä»¶ï¼Œä½¿ç”¨Â valueOf()ï¼ˆå„ªå…ˆï¼‰æˆ–Â toString()Â å°‡ç‰©ä»¶å–å¾—åŸºæœ¬å‹åˆ¥çš„å€¼ï¼Œå†åšæ¯”è¼ƒã€‚  æœ‰èˆˆè¶£å¯çœ‹é€™ä»½MDN ä¸€èˆ¬ç›¸ç­‰æ¯”è¼ƒè¡¨ ï¼Š [] æœƒå…ˆç”± toString() å¼·åˆ¶è½‰å‹ç‚ºå­—ä¸²ï¼Œå†å¼·åˆ¶è½‰å‹ç‚ºæ•¸å­—\nAND OR ! é‚è¼¯é‹ç®—å­ ç”¨æ–¼ if æ¢ä»¶å¢åŠ åˆ¤æ–·  \u0026amp;\u0026amp; (AND)æ‰€æœ‰æ¢ä»¶ç‚º true æ‰æœƒæ˜¯ true || (OR)æœ‰ä¸€å€‹æ¢ä»¶æ˜¯ true å°±æ˜¯ true  1 2 3 4 5 6  ç•¶a is false b is true !a // true a \u0026amp;\u0026amp; b // false a || b // true  !a \u0026amp;\u0026amp; b // true a || !b // false   ç”¨æ–¼ short-circuiting  å¯ä»¥åšç‚º if æ¢ä»¶åˆ¤æ–·çš„ argumentï¼Œè¦åŸ·è¡Œå“ªä¸€æ®µç¨‹å¼ ä¹Ÿå¯ä»¥å¥—ç”¨\u0026amp;\u0026amp;æˆ–||çš„é‚è¼¯ï¼Œç‚ºè®Šæ•¸è³¦å€¼ï¼Œè®“ç¨‹å¼ç¢¼æ›´ç²¾ç°¡ \u0026amp;\u0026amp; å¯ä»¥æª¢æŸ¥è®Šæ•¸æ˜¯å¦ç‚º trueï¼Œtrue æ™‚æ‰æœƒåŸ·è¡Œå¾Œé¢çš„ç¨‹å¼ç¢¼ || å¯ä»¥ç•¶ä½œè™•ç†ä¾‹å¤–æƒ…æ³ï¼Œç•¶å·¦é‚Šè®Šæ•¸æœ‰å•é¡Œï¼Œä½¿ç”¨å³é‚Šé è¨­å€¼  1 2 3 4 5 6 7 8 9 10  // ä¸é™è³‡æ–™å‹æ…‹ const a = var1 \u0026amp;\u0026amp; var2(ç•¶å·¦é‚Šè®Šæ•¸ç‚ºtrueï¼Œ æ‰å¥—ç”¨å³é‚Šçš„å€¼ï¼Œ è‹¥ç‚ºfalseæœƒå¥—ç”¨å·¦é‚Šå€¼) console.log(3 \u0026amp;\u0026amp; \u0026#39;cat\u0026#39;) // \u0026#39;cat\u0026#39; console.log(0 \u0026amp;\u0026amp; null) // 0 console.log(\u0026#39;\u0026#39; \u0026amp;\u0026amp; 0) // \u0026#39;\u0026#39;  const a = var1 || var2(ç•¶å·¦é‚Šè®Šæ•¸ç‚ºfalseï¼Œ æ‰å¥—ç”¨å³é‚Šçš„å€¼ï¼Œ è‹¥ç‚ºtrueæœƒå¥—ç”¨å·¦é‚Šå€¼) console.log(3 || \u0026#39;cat\u0026#39;) // 3 console.log(\u0026#39;\u0026#39; || null) // null console.log(undefined || 0 || \u0026#39;\u0026#39; || \u0026#39;hi\u0026#39; || 23) // \u0026#39;hi\u0026#39;   ?? Nullish Coalescing  ç•¶å·¦é‚Šè®Šæ•¸ç‚º null æˆ– undefined æ‰æœƒå›å‚³å³é‚Šçš„å€¼ è‹¥é null æˆ– undefinedï¼Œå‰‡å›å‚³å·¦é‚Šçš„å€¼  1 2 3 4 5  const guests = restaurant.numGuests || 10 console.log(guests) // 10 // null or undefined const guestsCorrect = restaurant.numGuests ?? 10 console.log(guestsCorrect) // 10   è¡¨é”å¼ statements v.s. é™³è¿°å¼ expressions  è¡¨é”å¼ï¼šæœƒå›å‚³çµæœ e.g. ç´”å€¼ã€è®Šæ•¸ã€é‹ç®—å­ã€åŸ·è¡Œå‡½å¼ã€æ­£è¦è¡¨é”å¼ã€å‡½å¼è¡¨é”å¼â€¦ é™³è¿°å¼ï¼šæœƒåŸ·è¡Œä¸€äº›ç¨‹å¼ç¢¼ï¼Œå¯èƒ½æ˜¯å¹¾å€‹å–®è©æˆ–æ˜¯ç‰‡æ®µï¼ˆä¸æœƒæ˜¯å–®ä¸€å€‹å­—æ¯ï¼‰ï¼Œä¸æœƒå›å‚³çµæœ e.g. å®£å‘Šï¼ˆvarã€functionï¼‰ã€æµç¨‹æ§åˆ¶ï¼ˆblockã€ifâ€¦elseï¼‰ã€è¿´åœˆï¼ˆforã€whileï¼‰ã€å…¶å®ƒï¼ˆimport, exportï¼‰  æµç¨‹åˆ¤æ–·  if else  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  // æ¯”è¼ƒé‹ç®—å­ä¾†è¨­å®šæ¢ä»¶ï¼Œå¯ä»¥æ­é…\u0026amp;\u0026amp; || !é‚è¼¯é‹ç®—å­è¨­å®šæ›´ç´°ç·»çš„åˆ¤æ–· const accountName = prompt(\u0026#34;your accountName: 8 ~ 20 characters\u0026#34;); if (accountName \u0026gt; 8 \u0026amp;\u0026amp; accountName \u0026lt; 20) { console.log(\u0026#34;correct account length\u0026#34;); } else { // ä¸ç¬¦åˆæ¢ä»¶ï¼Œæç¤ºä½¿ç”¨è€…æª¢æŸ¥å¸³è™Ÿé•·åº¦  console.log(\u0026#34;please check your account length\u0026#34;); } // æœ‰ä¸‰çµ„ä»¥ä¸Šæ¢ä»¶ï¼Œä¸­é–“çš„æ¢ä»¶æœƒç”¨else ifæ¨™ç¤ºï¼Œæœ€å¾Œæ‰æ˜¯else if (a \u0026gt; 10) { console.log(\u0026#34;bigger than 10\u0026#34;); } else if (a === 10) { console.log(\u0026#34;equal to 10\u0026#34;); } else { console.log(\u0026#34;smaller than 10\u0026#34;); }    Ternary Operatorï¼ˆæ¢ä»¶é‹ç®—å­ï¼‰  1 2 3 4 5 6 7  // condition ? exprIfTrue : exprIfFalse const age = 20; const drink = age \u0026gt;= 18 ? \u0026#34;wine\u0026#34; : \u0026#34;water\u0026#34;; console.log(drink); // wine  // expressionä¹Ÿå¯ä»¥æ”¾åˆ°æ¨¡æ¿å­—ä¸² console.log(`I can drink ${age \u0026gt;= 18 ? \u0026#34;wine\u0026#34; : \u0026#34;water\u0026#34;}`); // I can drink wine    switchï¼ˆæ¯”è¼ƒå°‘ç”¨ï¼Œçœ‹æƒ…æ³é‚„æ˜¯å¯ä»¥ä½¿ç”¨ï¼‰  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  const time = \u0026#34;morning\u0026#34;; switch (time) { case \u0026#34;morning\u0026#34;: console.log(\u0026#34;go to school\u0026#34;); break; case \u0026#34;noon\u0026#34;: console.log(\u0026#34;eat lunch\u0026#34;); break; case \u0026#34;night\u0026#34;: console.log(\u0026#34;sleep\u0026#34;); break; default: console.log(\u0026#34;nothing\u0026#34;); }   JavaScript å°æ­·å² 1 2 3 4 5 6 7  1995 Brendan Eich10å¤©å…§å‰µé€ äº†ç¬¬ä¸€ç‰ˆJavaScriptå« mocha 1996 LiveScriptâ†’ JavaScript æ”¹åå­—å¸Œæœ›å¸å¼•Javaé–‹ç™¼è€…ï¼Œ ä½†ç„¡é—œä¹Javaé€™å€‹ç¨‹å¼èªè¨€ MSç™¼å¸ƒIEï¼Œ å¾NetScape copyJavaScriptå«JScript æ“”å¿ƒä¾µæ¬Šæ”¹åï¼Œ ä½†é‚„æ˜¯å¾ˆåƒçš„æ±è¥¿ ç‚ºäº†é•·é ç™¼å±•ï¼Œ éœ€è¦æ¨™æº–åŒ–ï¼Œ æ–¼æ˜¯æäº¤çµ¦ECMAç¨ç«‹æ©Ÿæ§‹ 1997 ECMAscript ES1ç™¼å¸ƒï¼Œ å¤§å®¶ä½¿ç”¨ä¸€æ¨£çš„æ¨™æº–è·Ÿè¦ç¯„é–‹ç™¼ 2009 ES5 / ES2016(ECMAScript5) æœ‰ä¸€äº›æ–°feature 2015 ES6 / ES2017(ECMAScript6) æ–°ç´€å…ƒ   JavaScript å’Œç€è¦½å™¨çš„ç›¸å®¹æ€§  Backward compatibility: ES1 èªæ³•åœ¨ç¾ä»£ç€è¦½å™¨é‚„æ˜¯ç›¸å®¹çš„ Forwards compatibility: èˆŠç‰ˆæœ¬ IE8 ç€è¦½å™¨ä¸ç†è§£æ–°ç‰ˆæœ¬ JavaScript çš„è¦ç¯„ æˆ‘å€‘å¯ä»¥é€éæ›´æ–°ç€è¦½å™¨é¿å…ä¸ç›¸å®¹ ES5: fully supported in all browsers IE9(2011) ES6 â†’ ES2021: well supported in all modern browsers, not in older ones. can use most features in production with transpiling and polyfilling æ‰€ä»¥æœƒä½¿ç”¨ BABEL ES2022: ESNext future versions can use some features in production with transpiling and polyfilling å…ˆå­¸ Modern JavaScript ä½†é‚„æ˜¯éœ€è¦çŸ¥é“éå¾€ JavaScript é‹ä½œæ–¹å¼ e.g. const let v.s. var e.g. function construction v.s ES6 Class é—œæ–¼Polyfills and transpilers  æ­å–œä½ çœ‹å®Œé€™ä¸€ç¯‡ JavaScript åŸºç¤çŸ¥è­˜è¤‡ç¿’(1)ï¼Œä¼‘æ¯ä¸€ä¸‹å†å¾€ä¸‹ä¸€ç¯‡å‰é€²å§ï¼ JavaScript åŸºç¤çŸ¥è­˜è¤‡ç¿’(2)\nåƒè€ƒæ–‡ç« ï¼šä½ æ‡‚ JavaScript å—ï¼Ÿ#8 å¼·åˆ¶è½‰å‹ï¼ˆCoercionï¼‰\n","date":"2021-12-29T00:00:00+08:00","image":"https://bacnotes.github.io/p/javascript-fundamentals-part1/javascript_hu206ed96a14226138f3215dbd4aa48c79_350158_120x120_fill_box_smart1_3.png","permalink":"https://bacnotes.github.io/p/javascript-fundamentals-part1/","title":"JavaScriptåŸºç¤çŸ¥è­˜è¤‡ç¿’(1)ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"ä»€éº¼æ˜¯ Google Analytics \u0026amp; Google Search Console Google Analyticsï¼šåˆ†ææµé‡ä¾†æºèˆ‡ç«™å…§è¡Œç‚ºè¡¨ç¾  å¯ä»¥çœ‹é€²ç«™ç®¡é“åˆ†å¸ƒï¼ŒåŒ…å«ç›´æ¥æµé‡ã€è‡ªç„¶æœå°‹ã€ç¤¾ç¾¤ç¶²ç«™ã€å…¶ä»–ç¶²ç«™é€£çµå°å…¥æˆ–æ˜¯ä¾†è‡ªå»£å‘Šç­‰ç­‰ å¯ä»¥äº†è§£åˆ°é”ç¶²é (landing page)é›†ä¸­åœ¨å“ªäº›é é¢ è§€çœ‹ä½¿ç”¨è€…é¡å‹èˆ‡é€²ç«™å¾Œçš„ä½¿ç”¨è€…è¡Œç‚ºï¼Œåƒæ˜¯åœç•™æ™‚é–“ï¼Œè§€çœ‹äº†å¹¾é ï¼Œè·Ÿé›¢é–‹é é¢ ç¢ºèªæ˜¯å¦è·ŸåŸæœ¬è¦åŠƒçš„ç¶²ç«™é«”é©—æµç¨‹ç›¸ä¼¼ï¼Œæˆ–æ˜¯åœ¨å“ªäº›é é¢å®¹æ˜“æµå¤±å®¢æˆ¶ é›»å•†ç¶²ç«™å¯ä»¥è¨­å®šé›»å­å•†å‹™è§€çœ‹é›»å­å•†å‹™å ±è¡¨(è½‰æ›ç‡/æ”¶ç›Š/å®¢å–®åƒ¹ç­‰)ï¼Œç”±æ–¼æˆ‘å€‘åªæ˜¯å–®ç´”çš„éƒ¨è½æ ¼ï¼Œæœªä¾†å¦‚æœæœ‰æ©Ÿæœƒçš„è©±å†ä¾†ä»‹ç´¹  Google Search Consoleï¼šåˆ†æè‡ªç„¶æœå°‹æµé‡èˆ‡ç«™å¤–æ’å  å¯ä»¥å¾æˆæ•ˆå ±è¡¨è§€å¯Ÿæµé‡çš„è®ŠåŒ–ï¼Œæ›å…‰ \u0026gt; é»æ“Š \u0026gt; é»é–±ç‡ \u0026gt; æ’åº åˆ†ææœ‰å“ªäº›é—œéµå­—è·Ÿé é¢å¸¶ä¾†æµé‡ åˆ†æè‡ªç„¶æµé‡çš„ä¾†æºæ˜¯ä¾†è‡ªå“ªäº›åœ°æ–¹ å®šæœŸæäº¤ sitemap å¹«åŠ©ç¶²å€è¢«æ”¶éŒ„ï¼Œæˆ–æ˜¯ç§»é™¤æƒ³æ‹¿æ‰çš„ç¶²å€ï¼ˆsitemap è¨˜å¾—ä¹Ÿè¦åŒæ­¥æ‹¿æ‰) ç¢ºèªç¶²ç«™é‚„æœ‰å“ªä¸€äº›å¾…æ”¹é€²çš„é«”é©—  å®‰è£ Google Analytics  ç™»å…¥ä½ è¦ä½¿ç”¨ GA çš„ Google å¸³è™Ÿ é€²åˆ° https://analytics.google.com/ å¡«å¯«å¸³æˆ¶åç¨±ï¼Œè³‡æ–™å…±ç”¨è¨­å®šé€™éƒ¨åˆ†å¯ä»¥è‡ªè¡Œåˆ¤æ–· å¡«å¯«è³‡æºåç¨± å¡«å¯«å•†å®¶è³‡è¨Š æ¥å— Google Analytics(åˆ†æ)æœå‹™æ¢æ¬¾åˆç´„ é¸æ“‡å¹³å°(æˆ‘æ˜¯éƒ¨è½æ ¼æ‰€ä»¥é¸ç¶²é ) å¡«å¯«ç¶²ç«™ä¸²æµç¶²å€è·Ÿåç¨± æœƒå¾—åˆ°ä¸€å€‹è©•ä¼° ID G-xxxxxxxx (èˆŠç‰ˆç‚ºUAé–‹é ­) æŠŠè©•ä¼° ID è²¼åˆ° hugo çš„ config è¨­å®šæª”å³å¯  GA4 å°‡è·¨è£ç½®çš„ä½¿ç”¨è€…è¡Œç‚ºä¸²æ¥èµ·ä¾†ï¼Œç›¸è¼ƒéå»è‘—é‡åœ¨åœç•™æ™‚é–“ã€é æ•¸ï¼Œæ”¹ä»¥äº‹ä»¶ç‚ºæ ¸å¿ƒçš„åˆ†æä¸»é«”ï¼Œå°æ–¼æ•¸æ“šçš„è§£è®€æ–¹ä¾¿è¨±å¤š\nä½¿ç”¨ GA4 çš„å³æ™‚å ±è¡¨ç¢ºèªè³‡æ–™æ˜¯å¦å·²é–‹å§‹å‚³å…¥\næˆ–é€éGTM/GA debuggerå¥—ä»¶ç¢ºèªæ˜¯å¦æœ‰åæ‡‰\nok çœ‹èµ·ä¾†æˆåŠŸå›‰ï¼è¨˜å¾—ä¹Ÿæª¢æŸ¥ä¸€ä¸‹ 404 é é¢æœ‰ç„¡åæ‡‰å”·ï¼\nå®‰è£ Google search console  å»ºè­°ä½¿ç”¨è·Ÿ GA ä¸€æ¨£çš„ Google å¸³è™Ÿ é€²åˆ° https://search.google.com/search-console/welcome é¸å–è³‡æºé¡å‹ï¼Œè‹¥è·Ÿæˆ‘ä¸€æ¨£æ˜¯ä½¿ç”¨ GitHub pages æœå‹™é¸å³é‚Š å¡«å¯«ç¶²å€ é©—è­‰æ–¹æ³•å¾ˆå¤šï¼Œå› ç‚ºå‰›å‰›å·²ç¶“å®‰è£å¥½ GAï¼Œå¸³è™Ÿæœ‰ç·¨è¼¯æ¬Šï¼Œç›´æ¥é»ç¬¬ 3 ç¨®çš„ GA é©—è­‰æŒ‰éˆ•  ok é€²åˆ°äº†è³‡æºé é¢äº†ï¼ä¸€èˆ¬ä¾†èªªæœƒéœ€è¦ç­‰å€‹ 1 å¤©æ™‚é–“è·‘è³‡æ–™\nåœ¨ç¶²ç«™æ ¹ç›®éŒ„ä¸‹å»ºç«‹ robots.txt æŠŠ robots.txt æ”¾åœ¨ç¶²ç«™ä¸‹çš„æ ¹ç›®éŒ„ï¼Œä½¿ç”¨hexoæ”¾åœ¨sourceè³‡æ–™å¤¾ä¸‹å³å¯ ä¸‹æ–¹æ˜¯ä¸€å€‹å¸¸è¦‹çš„ç¯„ä¾‹ï¼Œç¶²å€å¡«å…¥è‡ªå·±çš„ç‰ˆæœ¬\n1 2 3  User-agent: * Allow: / Sitemap: https://bacnotes.github.io/sitemap.xml   ï¼ŠGoogle æ”¯æ´æ‰€æœ‰æ ¼å¼çš„æ¨™æº– Sitemap é€šè¨Šå”å®šï¼Œä½†ç›®å‰ä¸æ”¯æ´åœ¨ Sitemap ä¸­ä½¿ç”¨ priority å±¬æ€§\nåˆ° Google Search Console æäº¤ sitemap ç”Ÿæˆéœæ…‹ç¶²é çš„æ™‚å€™æœƒè‡ªå‹•ç”¢å‡º sitemap æª”æ¡ˆ ç¶²å€æ˜¯\u0026lt;ä½ çš„ç¶²ç«™å\u0026gt;/sitemap.xml e.g. https://bacnotes.github.io/sitemap.xml\næäº¤ä½ç½®åœ¨ Google Search Console ç´¢å¼•å€å¡Šçš„ Sitemap è¼¸å…¥ä½ çš„ sitemap ç¶²å€å³å¯ï¼Œä¸€èˆ¬æ˜¯ sitemap.xml\nä½¿ç”¨ Google Search Console çš„ã€Œè¦æ±‚å»ºç«‹ç´¢å¼•ã€ ç™¼å¸ƒæ–‡ç« å¾Œï¼Œæœƒå¸Œæœ›å¯ä»¥ç›¡æ—©è¢«çˆ¬èŸ²çˆ¬å–å»ºç«‹ç´¢å¼•ï¼Œhexoå¹³å°æœƒè‡ªå‹•ç”Ÿæˆsitemap æª”ï¼Œå¾ˆæ–¹ä¾¿æ“ä½œæ›´æ–°sitemapï¼Œä½†å…¬å¸çš„è¡ŒéŠ·äººå“¡ï¼Œå¯èƒ½ä¸ä¸€å®šå¯ä»¥è¿…é€Ÿå–å¾—å·¥ç¨‹å¸«çš„å³æ™‚å”åŠ© é€™æ™‚å€™å¯ä»¥é» Google Search Console ä¸Šæ–¹çš„è¼¸å…¥æ¡†ï¼Œè¼¸å…¥æ–‡ç« ç¶²å€ï¼ŒæŒ‰ä¸‹ enterå°±å¯ä»¥å»ºç«‹æ’ç¨‹è«‹çˆ¬èŸ²ä¾†çœ‹çœ‹é€™å€‹ç¶²å€ (ä¹Ÿå¯ä»¥é»å´é‚Šæ¬„æˆæ•ˆä¸‹æ–¹çš„ç¶²å€å¯©æŸ¥ï¼Œä¹Ÿæœƒ focus åˆ°é€™å€‹æ¡†æ¡†)\nç­‰å¾…ä¸€æ®µæ™‚é–“è·‘å‡ºçµæœ\né»ä¸‹æ–¹çš„ã€Œè¦æ±‚å»ºç«‹ç´¢å¼•ã€ï¼Œå°±æœƒè·Ÿ Google æäº¤å»ºç«‹ç´¢å¼•çš„è¦æ±‚ä¸”é€²å…¥æ’ç¨‹ï¼Œçˆ¬èŸ²å°±æœƒä¾ç…§æ’ç¨‹ä¾†çœ‹ä½ å‰›å‰›æäº¤çš„ç¶²å€äº†\nè·Ÿ Google æäº¤ Sitemap å®Œä¹‹å¾Œï¼Œå…¶ä»–çš„æœå°‹å¼•æ“ä¹Ÿéœ€è¦å—ï¼Ÿ æˆ‘å€‘ç”¨Statcounterçœ‹çœ‹ç›®å‰æœå°‹å¼•æ“å„å®¶çš„å¸‚ä½”ç‡ Statcounter æ˜¯ä¸€å€‹ç¶²ç«™æµé‡åˆ†æå·¥å…·ï¼Œä¸»è¦æä¾›ç¶²é ç€è¦½å™¨è·Ÿæœå°‹å¼•æ“çš„ä½¿ç”¨åˆ†ä½ˆçš„è¨Šæ¯\nä»¥ä¸‹æ˜¯ä¸Šå€‹æœˆå„å®¶æœå°‹å¼•æ“å…¨çƒå¸‚å ç‡ï¼ŒGoogle æœ‰ 91.4%çš„å¸‚ä½”ç‡ï¼Œè€Œå…¶ä»–å®¶(bing, Baidu, Yahoo!)å¸‚å ç‡å¤§ç´„éƒ½åœ¨å€‹ä½æ•¸\nç”±æ–¼æˆ‘å€‘çš„ä½¿ç”¨è€…ä¸»è¦æ˜¯åœ¨å°ç£ï¼ŒæŠŠæ¢ä»¶è¨­å®šæˆå°ç£\nGoogle é‚„æ˜¯ä¸€æ¨£å¸‚å ç‡æœ€é«˜ï¼Œä¸”æ¯”å‰›å‰›å…¨çƒæ•¸æ“šçš„å¸‚ä½”ç‡é‚„é«˜ï¼Œç‚º 9 æˆ 4 çœ‹èµ·ä¾†æˆ‘å€‘ä¹‹å¾Œ SEO é‚„æ˜¯å°ˆå¿ƒæ–¼ Googleï¼Œç•¢ç«Ÿå°ç£å¤§éƒ¨åˆ†çš„ä½¿ç”¨è€…éƒ½ä½¿ç”¨ Google æœå°‹\næœ€å¾Œï¼Œçˆ¬èŸ²å¤§å¤§å¿«ä¾†æˆ‘å®¶å§\n","date":"2021-12-28T00:00:00+08:00","image":"https://bacnotes.github.io/p/google-seo-tools/myriam-jessier-VCtI-0qlVgA-unsplash_hu4b44d326edd3135b9f13e80e90e771b0_550794_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/google-seo-tools/","title":"å®‰è£SEOåˆ†æå·¥å…·Google Analyticsè·ŸGoogle Search Consoleï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"é—œæ–¼éƒ¨ç½²çš„å·¥å…·æœ‰å¾ˆå¤šï¼Œèº«ç‚ºå·¥ç¨‹å¸«çš„ä½ ä¸€å®šè½éGitHub!\nç‚ºä»€éº¼ç”¨GitHubéƒ¨ç½²  å› ç‚ºå…è²»(o) å› ç‚ºç”¨èµ·ä¾†å¾ˆè¦ªåˆ‡ï¼Œç°¡å–®åˆæ–¹ä¾¿(o) å› ç‚ºéƒ¨ç½²åˆ°ç”Ÿæ•ˆçš„éç¨‹å¾ˆå¿«é€Ÿ(o) å› ç‚ºéƒ¨è½æ ¼å¾Œé¢æœ‰GitHubåŸŸåå¾ˆæ½®(x)  GitHub Pagesæ˜¯GitHubæä¾›çš„å…è²»éœæ…‹ç¶²é è¨—ç®¡æœå‹™ é›–ç„¶æ˜¯å…è²»ï¼Œä¸éç”¨èµ·ä¾†é«”é©—ä¹Ÿå¾ˆå¥½ é‚£SEOè¡¨ç¾å‘¢? é€™æ™‚å€™å¯ä»¥ç”¨ahrefså¿«é€Ÿç¢ºèªä¸€ä¸‹\nGitHubåœ¨ç¶²ç«™æ¬Šé‡è·Ÿå¤–éƒ¨é€£çµæ•¸éƒ½æœ‰å¾ˆå¥½çš„è¡¨ç¾ æ‹¿mediumä¾†ç•¶å°æ‰‹çš„è©±å‘¢\nGitHub åŠ ååˆ† ğŸ™Œ\nè·Ÿå¦ä¸€å€‹ä¹Ÿæ˜¯å¾ˆå¸¸æ‹¿ä¾†å»ºç«‹éƒ¨è½æ ¼çš„å¹³å°ï¼Œä¸”SEOå®¢è£½åŒ–ç¨‹åº¦è¼ƒé«˜çš„wordpressç›¸æ¯”å‘¢\nGitHub å†åŠ ååˆ† ğŸ™Œ\nçœ‹èµ·ä¾†æ˜¯ä¸éŒ¯çš„é¸æ“‡å”·ï¼é‚£éº¼ä¾†å¯¦ä½œçœ‹çœ‹å§ï¼\nGitHub Pageséƒ¨ç½²éœæ…‹ç¶²é  GitHub Pagesæœ‰å…©ç¨®\n å°ˆæ¡ˆå‹ç¶²å€ https://username.github.io/reponame ï¼ˆä¸€å€‹å¸³è™Ÿå¯ä»¥æœ‰å¾ˆå¤šå€‹repoå°ˆæ¡ˆï¼Œæ¯å€‹å°ˆæ¡ˆéƒ½å¯ä»¥æœ‰ä¸€å€‹éœæ…‹ç¶²é ï¼‰ å¸³è™Ÿå‹ç¶²å€ https://username.github.io ï¼ˆä¸€å€‹ä½¿ç”¨è€…å¸³è™Ÿåªæœƒæœ‰ä¸€å€‹ï¼Œå¯ä»¥æ‹¿ä¾†ç¶“ç‡Ÿå€‹äººç¶²ç«™ï¼‰  å°ˆæ¡ˆå‹ç¶²å€é©åˆæŠŠHugoé€™å€‹éƒ¨è½æ ¼å°ˆæ¡ˆï¼Œå‚™ä»½åˆ°GitHubä¸Š(ééƒ¨ç½²)ï¼ŒåŸ·è¡Œæ­¥é©Ÿå¦‚ä¸‹\n æ–°å¢ä¸€å€‹GitHub Repoï¼ŒRepoåè‡ªè¨‚ cdåˆ°å°ˆæ¡ˆè³‡æ–™å¤¾ï¼Œè¼¸å…¥git init git branch -m main git add . git commit -m 'init project' # git msg å…§å®¹å¯è‡ªè¨‚ git remote add origin \u0026lt;è‡ªè¨‚repoç¶²å€\u0026gt; #å¦‚æœé›»è…¦åªæœ‰ä½¿ç”¨1çµ„GitHubå¸³è™Ÿï¼Œç›´æ¥è²¼repoç¶²å€ #å¦‚æœé›»è…¦æœ¬èº«æœ‰å¤šçµ„GitHubå¸³è™Ÿï¼Œç¢ºèª@hostå:gitç¶²å€çµæ§‹æ˜¯å¦æœ‰èª¿æ•´æ­£ç¢ºï¼Œå¯å›åˆ°ä¸Šä¸€ç¯‡ç¢ºèª  é€™æ¨£ä¸€ä¾†é›»è…¦è£¡çš„Hugoå°ˆæ¡ˆä¸è¦‹ä¹Ÿä¸ç”¨æ“”å¿ƒå›‰ï½ä¹‹å¾Œé‚„å¯ä»¥git cloneä¸‹ä¾†\nä½œç‚ºéƒ¨ç½²éƒ¨è½æ ¼æœ¬èº«ä½¿ç”¨ï¼ŒåŸ·è¡Œæ­¥é©Ÿå¦‚ä¸‹\n æ–°å¢ä¸€å€‹GitHub Repoï¼ŒRepoåç‚ºusername.github.io(é ˆå®Œå…¨ç¬¦åˆ) åœ¨å°ˆæ¡ˆè³‡æ–™å¤¾è·¯å¾‘ä¸‹è¼¸å…¥ hugoï¼Œæœƒç”Ÿæˆéœæ…‹é é¢æª”æ¡ˆæ–¼publicè³‡æ–™å¤¾ cd public git init git branch -m main git add . git config --local user.name aaa #ä¸éœ€è¦å¤šçµ„å¸³è™Ÿç®¡ç†å¯è·³é git config --local user.email aaa@email.com #ä¸éœ€è¦å¤šçµ„å¸³è™Ÿç®¡ç†å¯è·³é git commit -m 'deploy' # git msg å…§å®¹å¯è‡ªè¨‚ git remote add origin \u0026lt;repoç¶²å€\u0026gt; #æ³¨æ„äº‹é …åŒå°ˆæ¡ˆå‹ç¶²å€ git push -f --set-upstream origin main # å¼·åˆ¶è¦†è“‹ä¹‹å‰çš„ç´€éŒ„  å¥½çš„ï¼Œè‹¥ä¾ç…§é †åºæœ‰åŸ·è¡ŒæˆåŠŸï¼Œå¯ä»¥é–‹å§‹å¯«è…³æœ¬æª”æ¡ˆäº†!\nè‡ªå‹•åŒ–éƒ¨å±¬è…³æœ¬deploy.sh  åœ¨å°ˆæ¡ˆè³‡æ–™å¤¾çš„æ ¹ç›®éŒ„å»ºç«‹deploy.shæª”ï¼Œè²¼ä¸Šä¸‹æ–¹æ–‡å­— repoç¶²å€è¨˜å¾—æ›¿æ›æˆè‡ªå·±çš„ï¼Œoptionä¾ç…§è‡ªå·±ç‹€æ³èª¿æ•´å³å¯  1 2 3 4 5 6 7 8 9 10 11 12 13  hugo cd public git init git branch -m main git add . git config --local user.name aaa #ä¸éœ€è¦å¤šçµ„å¸³è™Ÿç®¡ç†å¯è·³é git config --local user.email aaa@email.com #ä¸éœ€è¦å¤šçµ„å¸³è™Ÿç®¡ç†å¯è·³é git commit -m \u0026#39;deploy\u0026#39; git remote add origin \u0026lt;repoç¶²å€\u0026gt; # if you have .ssh/config setting, remember to replace with right structure git push -f -u origin main cd -   åƒè€ƒæ–‡ç« : éƒ¨ç½²Hugoå€‹äººç¶²é è‡³GitHub\n","date":"2021-12-26T00:00:00Z","image":"https://bacnotes.github.io/p/github-deploy-hugo/mohammad-rahmani-q1p2DrLBtko-unsplash_hu34ce0191b88a37780da4e3c1a288bda4_3436174_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/github-deploy-hugo/","title":"åªè¦3ç§’ï¼Œä½¿ç”¨GitHubä¸€éµéƒ¨ç½²ä½ çš„Hugoéƒ¨è½æ ¼ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"Um\u0026hellip;åœ¨éƒ¨ç½²å‰å¡åˆ°äº† Github å¤šçµ„å¸³è™Ÿæ¬Šé™çš„å•é¡Œ å¦‚æœä½ çš„é›»è…¦åªæœ‰ä½¿ç”¨ 1 çµ„ GitHub å¸³è™Ÿï¼Œå¯ä»¥é»ä¸‹æ–¹é€£çµç›´æ¥åˆ°ä¸‹ä¸€ç¯‡ åªè¦ 3 ç§’ï¼Œä½¿ç”¨ GitHub ä¸€éµéƒ¨ç½²ä½ çš„ Hugo éƒ¨è½æ ¼\nç‚ºä»€éº¼è¦ç”¨ä¸€å°é›»è…¦ä½¿ç”¨å¤šçµ„ GitHub å¸³è™Ÿ ç•¶é è·å·¥ä½œè®Šæˆæ™‚ä»£è¶¨å‹¢ï¼Œå·¥ä½œæ™‚å‹¢å¿…æœƒæœ‰ 1 çµ„å…¬å¸ç”¨çš„ GitHub å¸³è™Ÿ(æˆ– GitLab æˆ–â€¦å…¶ä»–çš„é›²ç«¯å”ä½œå¹³å°)ï¼Œä½†è‡ªå·±åœ¨å¯« side project ä¹Ÿæœƒç”¨åˆ° 1 çµ„ GitHub å¸³è™Ÿï¼Œé‚£éº¼è¾¦ç¬¬ 2 çµ„ GitHub å¸³è™Ÿå°±å¥½äº†å§ï¼ˆå°±è·Ÿ google å¸³è™Ÿä¸€æ¨£ï¼Ÿ\nä½†ä½ åœ¨ GitHub çš„æ–°å¸³è™Ÿé–‹äº†ä¸€å€‹ Repoï¼Œåœ¨ç·¨è¼¯å™¨çš„ terminal ä¾åºè¼¸å…¥ä¸‹æ–¹æŒ‡ä»¤\n1 2 3 4 5 6  git init git add . git commit -m \u0026#39;some msg\u0026#39; git branch -M main git remote add origin \u0026#39;your repo\u0026#39; git push -u origin main   å°±æœƒç™¼ç¾åœ¨æœ€å¾Œä¸€æ­¥è·³å‡ºé€™å€‹è¨Šæ¯\n ERROR: Permission to userB/repo.git denied to userA fatal: ç„¡æ³•è®€å–é ç«¯ç‰ˆæœ¬åº«ã€‚\n è¦ commit çš„æ™‚å€™ï¼Œè¢«æœ€åˆè¨»å†Šçš„ userA å¸³è™Ÿ deny\nUm\u0026hellip;å•Šï¼\nä¹‹å‰çš„å¸³è™Ÿæœ‰è¨­å®šä¸€çµ„å°æ‡‰çš„ SSH key è®“ GitHub é©—è­‰èº«ä»½ï¼Œæ‡‰è©²æ˜¯ SSH key çš„å•é¡Œå§ï¼Ÿ æœ‰ 2 çµ„å¸³è™Ÿï¼Œç”Ÿ 2 çµ„ key æ‡‰è©²å°±æ²’å•é¡Œäº†å§ï¼æ¬¸ä¸å°ï¼Œæˆ‘çš„ terminal åœ¨ git push çš„æ™‚å€™ï¼Œæ€éº¼çŸ¥é“å“ªçµ„å¸³è™Ÿå°æ‡‰å“ªå€‹ SSH keyâ€¦\nä¸Šç¶²æŸ¥äº†ä¸€ä¸‹ç›¸é—œæ–‡ç« ï¼Œç™¼ç¾å¯ä»¥å¯«ä¸€å€‹ config ä¾†è®“ä¸åŒå¸³è™Ÿå°æ‡‰å„è‡ªçš„ key\nç®¡ç†å¤šçµ„ SSH key æµç¨‹å¦‚ä¸‹ aaa ç‚ºç¯„ä¾‹ï¼Œå¯è‡ªç”±ä»£å…¥ä½ çš„å¸³è™Ÿ\n ç”¢ç”Ÿ SSH key ssh-keygen -t rsa -C \u0026quot;aaa@example.com\u0026quot; æ±ºå®šè¦å„²å­˜çš„æª”å(è·¯å¾‘) åœ¨ Enter file in which to save the key (/Users/XXX/.ssh/id_rsa): å¾Œæ–¹å¡«å…¥ /Users/aaa/.ssh/id_rsa_aaa *å¦‚æœæ²’æœ‰æ–°çš„å‘½åï¼Œå°±æœƒè¦†è“‹åŸæœ¬çš„ id_rsa Enter passphrase(çœ‹å€‹äººï¼Œå¯ä»¥ç›´æ¥ enter ä¸è¨­å®šå¯†ç¢¼) Enter same passphrase again(å¦‚æœæœ‰è¨­å®šè¦å†è¼¸å…¥ä¸€æ¬¡ï¼Œæ²’æœ‰å°±ç›´æ¥ enter) æŠŠå°æ‡‰çš„å…¬é‘°(id_rsa_aaa.pub è£¡é¢çš„æ–‡å­—)æ–°å¢åˆ° GitHub çš„ SSH keyï¼Œå®˜æ–¹åœ–æ–‡æ•™å­¸ åœ¨.ssh ç›®éŒ„ä¸‹ï¼Œtouch ä¸€å€‹ config(ä¸ç”¨å‰¯æª”å)  1 2 3 4 5  Host gh.aaa HostName github.com User aaa PreferredAuthentications publickey IdentityFile ~/.ssh/id_rsa_aaa   æŠŠ key åŠ å…¥ç®¡ç† ssh-add ~/.ssh/id_rsa_aaa å˜—è©¦é€£ç·šçœ‹çœ‹å°æ‡‰ host æ˜¯å¦æœ‰ç”Ÿæ•ˆssh -T git@gh.aaa  Hi aaa! You\u0026rsquo;ve successfully authenticated, but GitHub does not provide shell access.\n   çœ‹åˆ°ä¸Šæ–¹è¨Šæ¯è¡¨ç¤ºæœ‰æˆåŠŸé€£ç·šå›‰ï¼ ç¬¬ 2 å€‹å¸³è™Ÿç…§è‘—ä¸Šæ–¹æ­¥é©Ÿå¯«åœ¨åŒå€‹ config æª”æ¡ˆå³å¯\n1 2 3 4 5 6 7 8 9 10 11  Host gh.aaa HostName github.com User aaa PreferredAuthentications publickey IdentityFile ~/.ssh/id_rsa_aaa Host gh.bbb HostName github.com User bbb PreferredAuthentications publickey IdentityFile ~/.ssh/id_rsa_bbb   æ³¨æ„ï¼šç¶“éä¸Šé¢çš„è¨­å®šæª”å¾Œï¼Œrepo çš„ä½ç½®æœƒå¾é å®šçš„ git@github.com:ooo/ooo.git è®Šæˆ git@gh.aaa:ooo/ooo.git å¾ŒçºŒåœ¨æ–°å¢ repo é€£çµæ™‚éœ€æ³¨æ„ï¼Œä¸ç„¶å¯èƒ½åƒä¸åˆ° config è¨­å®šæª”å”·\nåƒè€ƒæ–‡ç« : [Git] å¤šå€‹ SSH Key èˆ‡å¸³è™Ÿçš„è¨­å®š(Mac)\n","date":"2021-12-25T00:00:00Z","image":"https://bacnotes.github.io/p/github-ssh-key/maria-ziegler-jJnZg7vBfMs-unsplash_hu3d03a01dcc18bc5be0e67db3d8d209a6_39928_120x120_fill_q75_box_smart1.jpeg","permalink":"https://bacnotes.github.io/p/github-ssh-key/","title":"é—œæ–¼SSH keyèˆ‡å¤šçµ„GitHubå¸³è™Ÿåˆ‡æ›ï½œbacnoteså‚™ä»½ç­†è¨˜"},{"content":"ç‚ºä»€éº¼å·¥ç¨‹å¸«è¦å¯«éƒ¨è½æ ¼ èº«ç‚ºä¸€å€‹å°ˆæ¥­çš„å·¥ç¨‹å¸«ï¼Œä½ ä¹Ÿè¨±æœƒéœ€è¦\n ä¸€å°ç­†é›»(o) æŒçºŒå­¸ç¿’(o) è·Ÿå®¹é‡å¤§çš„è…¦è¢‹ä¾†å‚™ä»½çŸ¥è­˜(x)  Um\u0026hellip; å·¥ç¨‹å¸«çš„ä¸–ç•Œæ°¸é æœ‰è¿½ä¸å®Œçš„æŠ€è¡“ï¼Œè‡ªçŸ¥è…¦å®¹é‡æ²’æœ‰é€™éº¼å¤§ï¼Œè¨˜éŒ„æˆéƒ¨è½æ ¼æ–‡å­—ä¾†æ¯”è¼ƒå¯é ï¼Œè€Œä¸”\n å¯«æˆéƒ¨è½æ ¼ä¹Ÿæœ‰æ©Ÿæœƒè·Ÿåˆ¥äººäº¤æµï¼Œä¹Ÿè¨±é‚„æœƒæœ‰é«˜æ‰‹å¯ä»¥åˆ‡ç£‹(!\n éƒ¨è½æ ¼æ¶ç«™é¸æ“‡ - Jekyll, Hexo, Hugo, Gatsby é™¤äº† hugo å¤–é‚„æœ‰å¾ˆå¤šäººæ°£çš„éœæ…‹ç¶²ç«™ç”Ÿæˆå™¨ Jekyll (Ruby) / Hexo (JavaScript) / Gatsby (React)ç­‰ï¼Œä¹Ÿæœ‰å¾ˆå¤šæ¯”è¼ƒæ–‡\n [Day06] Jekyll vs Hexo vs Hugo Hexo Hugo Vuepress Gatsby é™æ€ç½‘ç«™ç”Ÿæˆå™¨çš„é€‰æ‹©  Hugoè™Ÿç¨±éƒ¨å±¬æœ€å¿«çš„æ¡†æ¶ï¼Œç”¨ Go èªè¨€å¯«çš„ï¼Œä¹Ÿè¨±æœªä¾†æœ‰æ™‚é–“æœƒæƒ³å­¸å­¸çœ‹é€™å€‹ google å·¥ç¨‹å¸«åœ˜éšŠé–‹ç™¼çš„èªè¨€ï¼Œè€Œä¸”æ™‚é–“å°±æ˜¯é‡‘éŒ¢å•Šï¼å°±å…ˆé¸ç”¨é€™å€‹äº†ï¼\nå®‰è£ Hugo å¦‚æœæ˜¯ç”¨ Macï¼Œç›´æ¥ homebrew ä¸‹è¼‰  å¦‚æœæ²’ç”¨é homebrew å¥—ä»¶ç®¡ç†è»Ÿé«”å¯ä»¥å…ˆä¸‹è¼‰homebrew brew install hugo ç”¨ hugo version or hugo help ä¾†æª¢æŸ¥æ˜¯å¦æœ‰æ–°å¢æˆåŠŸ  å¦‚æœæ˜¯ç”¨ Windowsï¼Œå¯ä»¥ä½¿ç”¨ Chocolatey ä¸‹è¼‰   æ²’ç”¨é ChocoLatey å¥—ä»¶ç®¡ç†å·¥å…·çš„è©±ï¼Œå¯ä»¥å…ˆåƒè€ƒé€™ç¯‡å®‰è£èªªæ˜ ç”¨æŒ‡ä»¤å®‰è£ç¨‹å¼\u0026ndash;Chocolatey\n  ä¸‹è¼‰å®Œå¾Œä¾†å®‰è£ Hugo\n  åŸºç¤ç‰ˆæ˜¯choco install hugo -confirm\n  Sass/SCSS version æ˜¯ choco install hugo-extended -confirm\n  çœ‹ä¹‹å¾Œéƒ¨è½æ ¼é¸æ“‡çš„ä¸»é¡Œï¼Œæœƒä½¿ç”¨åˆ° Sass/SCSS èªæ³•çš„å°±é¸å¾Œè€…\n ä¾ç…§å®˜æ–¹å½±ç‰‡èªªæ˜ï¼Œåœ¨ C:\\ä¸‹æ–¹æ–°å¢ Hugo è³‡æ–™å¤¾   Hugo è³‡æ–™å¤¾ä¸‹æ–°å¢ Sites è·Ÿ bin è³‡æ–™å¤¾(Sites æ˜¯å°ˆæ¡ˆè³‡æ–™å¤¾ï¼Œbin æ˜¯å„²å­˜åŸ·è¡Œæª”æ¡ˆç”¨) åˆ°Hugo Releases ä¸‹è¼‰å®‰è£æª”ï¼Œè§£å£“ç¸®å®Œçš„æª”æ¡ˆä¸Ÿåˆ° bin è³‡æ–™å¤¾ æ–°å¢ window é–‹ç™¼ç’°å¢ƒè®Šæ•¸ï¼Œåœ¨è®Šæ•¸ PATH ä¸‹æ–°å¢ä¸€å€‹å€¼å«C:\\Hugo\\binï¼Œè®“å…¨åŸŸéƒ½å¯ä»¥åŸ·è¡Œ hugo å‘½ä»¤ åˆ°å…¶ä»–è³‡æ–™å¤¾ç”¨ hugo version or hugo help ä¾†æª¢æŸ¥æ˜¯å¦æœ‰æ–°å¢æˆåŠŸ  æ–°å¢ç¶²ç«™çš„å°ˆæ¡ˆè³‡æ–™å¤¾ ï¼Šä»¥ä¸‹ç”¨ example.com ç‚ºéƒ¨è½æ ¼ç¶²å€ä½œç‚ºç¯„ä¾‹ï¼Œé€™é‚Šæ ¹æ“šè‡ªå·±çš„ç¶²ç«™ååšä¿®æ”¹å³å¯(mac è·Ÿ windows æµç¨‹å¤§åŒå°ç•°)\n window çš„ä½¿ç”¨è€… cd åˆ°C:\\Hugo\\Sites\u0026gt;ï¼Œmac çš„ä½¿ç”¨è€… cd åˆ°ä½ è¨­å®šçš„å°ˆæ¡ˆè³‡æ–™å¤¾ åŸ·è¡Œhugo new site example.com  é¸æ“‡èˆ‡å®‰è£å–œæ­¡çš„ä¸»é¡Œ   åˆ°Hugo Themesæ‰¾å–œæ­¡çš„ä¸»é¡Œ\n  æˆ‘é¸ç”¨çš„æ˜¯ hugo-theme-stack \u0026ndash; git clone ä½ å–œæ­¡çš„ä¸»é¡Œåˆ° theme è³‡æ–™å¤¾ \u0026ndash; ä¸€é–‹å§‹æˆ‘å€‘çš„éƒ¨è½æ ¼è£¡é¢æ²’æœ‰å…§å®¹ï¼Œhugo-theme-stack æœ‰æä¾›ç¯„ä¾‹ï¼Œ exampleSite è³‡æ–™å¤¾ï¼Œæˆ‘å€‘ç”¨é€™å€‹ä¾†è¦†è“‹å°ˆæ¡ˆè³‡æ–™å¤¾çœ‹çœ‹å¯¦éš›éƒ¨è½æ ¼æ•ˆæœ \u0026ndash; åœ¨ example.com ç¶²ç«™è³‡æ–™å¤¾ä¸‹åŸ·è¡Œ hugo server\n\u0026ndash; ç¶²å€åˆ—æŸ¥çœ‹ http://localhost:1313\n  å“‡çœŸçš„å‡ºç¾äº†! å¥½æ„Ÿäººå•Šï¼ ç¾åœ¨åªæœ‰è‡ªå·±å¯ä»¥çœ‹åˆ°ï¼Œä¸‹ä¸€ç¯‡æœƒä»‹ç´¹å¦‚ä½•ä½¿ç”¨ GitHub ä¾†éƒ¨ç½²æˆ‘å€‘çš„éƒ¨è½æ ¼ åªè¦ 3 ç§’ï¼Œä½¿ç”¨ GitHub ä¸€éµéƒ¨ç½²ä½ çš„ Hugo éƒ¨è½æ ¼\nåƒè€ƒæ–‡ç« : [Day07] Let\u0026rsquo;s Hugo!\n","date":"2021-12-23T00:00:00Z","image":"https://bacnotes.github.io/p/hugo-blog/helena-hertz-wWZzXlDpMog-unsplash_hu3d03a01dcc18bc5be0e67db3d8d209a6_648413_120x120_fill_q75_box_smart1.jpg","permalink":"https://bacnotes.github.io/p/hugo-blog/","title":"å·¥ç¨‹å¸«çš„æŠ€è¡“éƒ¨è½æ ¼è¦æ€éº¼æ¶ï¼Ÿä½¿ç”¨Hugo!ï½œbacnoteså‚™ä»½ç­†è¨˜"}]